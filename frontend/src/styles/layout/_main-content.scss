// File: frontend/src/styles/layout/_main-content.scss
/**
 * @file _main-content.scss
 * @description Styles for the primary main content area of the application,
 * typically the <main> element within App.vue that hosts the <router-view />.
 * It establishes base padding for views, overflow behavior, and a subtle background
 * treatment distinct from the global body, ensuring a consistent container for all page content.
 *
 * @role Defines the foundational styling for the main content viewport area within the app shell.
 * @dependencies `../abstracts/variables` (for spacing, breakpoints, z-indexes, theme color fallbacks),
 * `../abstracts/mixins` (for custom scrollbars if applied here globally).
 * @assumptions The class `.app-layout-main-content-ephemeral` is applied to the <main> HTML5 element
 * or its direct wrapper within App.vue.
 * CSS custom properties for theming are available and set by the theme engine.
 * The viewport meta tag in index.html is configured to prevent user scaling.
 * @version 3.0.2 - Reviewed for consistency with "Ephemeral Harmony", calc() usage and variable interpolation.
 */

@use '../abstracts/variables' as var;
@use '../abstracts/mixins' as mixins;

// Targets the <main id="main-app-content" class="app-layout-main-content-ephemeral"> in App.vue
.app-layout-main-content-ephemeral {
  flex-grow: 1;
  position: relative;
  overflow-y: auto;
  overflow-x: hidden;
  width: 100%;

  // --- Responsive Padding Strategy ---
  padding: var.$spacing-sm; // Default for extra-small screens

  @media (min-width: var.$breakpoint-sm) {
    padding: var.$spacing-md;
  }

  @media (min-width: var.$breakpoint-md) {
    padding: var.$spacing-lg;
  }

  @media (min-width: var.$breakpoint-xl) {
    padding: var.$spacing-xl;
  }

  // --- Subtle Background Treatment ---
  background-color: hsla(
    var(--color-bg-primary-h, #{var.$default-color-bg-primary-h}),
    var(--color-bg-primary-s, #{var.$default-color-bg-primary-s}),
    // Ensure calc is used if performing arithmetic on a CSS variable that might contain a unit,
    // or if mixing units. Here, it's a direct subtraction from a SASS variable, which is fine.
    calc(#{var.$default-color-bg-primary-l} - 0.5%), // Using SCSS variable for default lightness
    var(--color-bg-primary-a, #{var.$default-color-bg-primary-a}) // Using alpha from theme or fallback
  );

  &::before {
    content: '';
    position: absolute;
    inset: 0;
    z-index: var.$z-index-negative;
    background-image: var(--bg-main-content-subtle-pattern, none);
    background-size: var(--bg-main-content-subtle-pattern-size, 250px);
    background-repeat: var(--bg-main-content-subtle-pattern-repeat, repeat);
    opacity: var(--bg-main-content-subtle-opacity, 0.01);
    pointer-events: none;
  }

  // Global scrollbar style from _global.scss will apply.
  // If specific scrollbar needed here:
  // @include mixins.custom-scrollbar(
  //   $thumb-color-var-prefix: '--color-accent-secondary',
  //   $track-color-var-prefix: '--color-bg-primary',
  //   $width: 6px
  // );
}

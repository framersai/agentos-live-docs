// File: frontend/src/styles/animations/_keyframes.scss
/**
 * @file _keyframes.scss
 * @description Defines custom @keyframes for animations used in the "Ephemeral Harmony" design system.
 * Includes effects for UI elements, transitions, voice interaction visualizations, and ambient backgrounds.
 * @version 3.0.0 - Added "alive" effects and refined existing animations.
 */

@use '../abstracts/variables' as var;

// -----------------------------------------------------------------------------
// Core UI Animations
// -----------------------------------------------------------------------------
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes fadeOut { from { opacity: 1; } to { opacity: 0; } }

@keyframes slideInUp {
  from { opacity: 0; transform: translateY(20px) scale(0.98); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}
@keyframes slideInDown {
  from { opacity: 0; transform: translateY(-20px) scale(0.98); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}

@keyframes subtlePulse {
  0%, 100% { transform: scale(1); opacity: var(--opacity-start, 1); }
  50% { transform: scale(var(--scale-pulse, 1.02)); opacity: var(--opacity-pulse, 0.85); }
}

@keyframes subtleTextGlow { // More refined text glow
  0%, 100% { text-shadow: 0 0 5px hsla(var(--color-accent-glow-h), var(--color-accent-glow-s), var(--color-accent-glow-l), calc(var(--color-accent-glow-a) * 0.7)); }
  50% { text-shadow: 0 0 12px hsla(var(--color-accent-glow-h), var(--color-accent-glow-s), var(--color-accent-glow-l), var(--color-accent-glow-a)),
                     0 0 2px hsla(var(--color-accent-glow-h), var(--color-accent-glow-s), var(--color-accent-glow-l), var(--color-accent-glow-a)); }
}

// -----------------------------------------------------------------------------
// Holographic & "Alive" Animations
// -----------------------------------------------------------------------------
@keyframes holoShimmer { // For background gradients, borders, or text effects
  0% { background-position: 200% center; filter: brightness(1.0); }
  50% { filter: brightness(1.15) saturate(1.2); }
  100% { background-position: -200% center; filter: brightness(1.0); }
}

@keyframes breathingEffect { // Gentle scaling for "alive" elements
  0%, 100% { transform: scale(1); opacity: var(--opacity-idle, 0.8); }
  50% { transform: scale(var(--scale-breath, 1.03)); opacity: var(--opacity-breath, 1); }
}

@keyframes ephemeralMessageIn {
  from { opacity: 0; transform: translateY(15px) scale(0.97); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}

@keyframes ephemeralVanish {
  from { opacity: var(--opacity-start, 0.9); transform: scale(1) translateY(0); }
  to { opacity: 0; transform: scale(0.95) translateY(-15px); }
}

// Voice Visualization Keyframes (Hearing Icon focus)
@keyframes voiceAuraPulseUser { // For user listening
  0% { transform: scale(0.7); opacity: 0; box-shadow: 0 0 0px 0px hsla(var(--color-voice-user-h), var(--color-voice-user-s), var(--color-voice-user-l), 0.5); }
  50% { opacity: var(--voice-pulse-opacity, 0.6); }
  100% { transform: scale(1.8); opacity: 0; box-shadow: 0 0 25px 15px hsla(var(--color-voice-user-h), var(--color-voice-user-s), var(--color-voice-user-l), 0); }
}
@keyframes voiceAuraPulseAISpeaking { // For AI speaking
  0% { transform: scale(0.7); opacity: 0; box-shadow: 0 0 0px 0px hsla(var(--color-voice-ai-speaking-h), var(--color-voice-ai-speaking-s), var(--color-voice-ai-speaking-l), 0.6); }
  50% { opacity: calc(var(--voice-pulse-opacity, 0.6) * 1.2); } // Brighter pulse
  100% { transform: scale(1.7); opacity: 0; box-shadow: 0 0 30px 18px hsla(var(--color-voice-ai-speaking-h), var(--color-voice-ai-speaking-s), var(--color-voice-ai-speaking-l), 0); }
}
@keyframes voiceAuraPulseAIThinking { // For AI thinking (more subtle)
  0% { transform: scale(0.85); opacity: 0.1; filter: brightness(0.9); }
  50% { transform: scale(1); opacity: calc(var(--voice-pulse-opacity, 0.6) * 0.7); filter: brightness(1.1); }
  100% { transform: scale(0.85); opacity: 0.1; filter: brightness(0.9); }
}

// Animated Border Glow (Spin for conic gradient)
@keyframes spin { to { transform: rotate(360deg); } }

// Blinking cursor for streaming text
@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}

// Background Effects
@keyframes orbitEffect {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
@keyframes shapeTransformEffect {
  from { transform: scale(0.8) rotate(-25deg); opacity: var(--shape-opacity-from, 0.5); }
  to { transform: scale(1.2) rotate(25deg); opacity: var(--shape-opacity-to, 0.8); }
}
@keyframes holoGridScroll {
  0% { background-position: 0 0; }
  100% { background-position: var(--bg-holo-grid-size, 50px) var(--bg-holo-grid-size, 50px); }
}

// Loading Spinner
@keyframes spinnerBladeFade {
  0%, 39.9% { opacity: 0; }
  40% { opacity: 1; }
  100% { opacity: 0; transform: rotate(360deg); }
}

// Mic Button Pulse (for PTT or active listening state)
@keyframes micListeningPulse {
  0% { box-shadow: 0 0 0 0px hsla(var(--color-voice-user-h), var(--color-voice-user-s), var(--color-voice-user-l), 0.5); opacity: 0.7; }
  70% { box-shadow: 0 0 0 10px hsla(var(--color-voice-user-h), var(--color-voice-user-s), var(--color-voice-user-l), 0); opacity: 0; }
  100% { box-shadow: 0 0 0 0px hsla(var(--color-voice-user-h), var(--color-voice-user-s), var(--color-voice-user-l), 0); opacity: 0; }
}

// General Status Pulse (e.g., for footer status dot)
@keyframes pulseStatus {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.6; transform: scale(0.85); }
}

// Input field focus breathing effect (subtle)
@keyframes inputFocusBreath {
  0%, 100% { box-shadow: inset 0 1px 3px hsla(var(--shadow-color-h), var(--color-shadow-s), var(--color-shadow-l), 0.05),
                        0 0 0 2px hsla(var(--color-accent-interactive-h), var(--color-accent-interactive-s), var(--color-accent-interactive-l), 0.2); }
  50% { box-shadow: inset 0 1px 4px hsla(var(--shadow-color-h), var(--color-shadow-s), var(--color-shadow-l), 0.07),
                       0 0 0 3px hsla(var(--color-accent-interactive-h), var(--color-accent-interactive-s), var(--color-accent-interactive-l), 0.3); }
}
// File: frontend/src/styles/themes/_theme-engine.scss
/**
 * @file _theme-engine.scss
 * @description Generates CSS custom properties for each theme based on SCSS maps.
 * Applies a default theme and allows switching via a 'data-theme' attribute on the html element.
 * @version 2.0.0
 */

@use './theme-definitions.scss' as themes; // Import theme definitions from _themes-definitions.scss
@use '../abstracts/variables' as var; // For accessing base SCSS variables if needed

// Default Theme: Set 'Warm Embrace' as the :root default
:root {
  @each $property, $value in themes.$theme-warm-embrace {
    #{$property}: #{$value};
  }
  // Set default color-scheme for the base theme
  color-scheme: light; // Assuming Warm Embrace is predominantly light

  // Define fallback CSS custom properties for core variables from _variables.scss
  // This ensures they are available as CSS vars even if not overridden by a specific theme property.
  --font-sans: #{var.$font-family-sans};
  --font-mono: #{var.$font-family-mono};
  --font-display: #{var.$font-family-display};

  --radius-xs: #{var.$radius-xs};
  --radius-sm: #{var.$radius-sm};
  --radius-md: #{var.$radius-md};
  --radius-lg: #{var.$radius-lg};
  --radius-xl: #{var.$radius-xl};
  --radius-2xl: #{var.$radius-2xl};
  --radius-3xl: #{var.$radius-3xl};
  --radius-full: #{var.$radius-full};
  --radius-holo: #{var.$radius-holo};

  --spacing-unit: #{var.$spacing-unit};
  --spacing-xs: #{var.$spacing-xs};
  --spacing-sm: #{var.$spacing-sm};
  --spacing-md: #{var.$spacing-md};
  --spacing-lg: #{var.$spacing-lg};
  --spacing-xl: #{var.$spacing-xl};

  --header-height: #{var.$header-height};
  --footer-height: #{var.$footer-height};
  --chat-log-height: #{var.$chat-log-height};

  --duration-quick: #{var.$duration-quick};
  --duration-smooth: #{var.$duration-smooth};
  --duration-movement: #{var.$duration-movement};
  --ease-out-quad: #{var.$ease-out-quad};
  --ease-out-quint: #{var.$ease-out-quint};
  --ease-in-out-sine: #{var.$ease-in-out-sine};
}

// Twilight Neo Theme
html[data-theme="twilight-neo"] {
  @each $property, $value in themes.$theme-twilight-neo {
    #{$property}: #{$value};
  }
  color-scheme: dark;
}

// Aurora Daybreak Theme
html[data-theme="aurora-daybreak"] {
  @each $property, $value in themes.$theme-aurora-daybreak {
    #{$property}: #{$value};
  }
  color-scheme: light;
}

// Example for a future theme (ensure $theme-nebula is defined in _themes-definitions.scss)
// html[data-theme="nebula"] {
//   @each $property, $value in themes.$theme-nebula {
//     #{$property}: #{$value};
//   }
//   color-scheme: dark;
// }

// Add other theme selectors here as they are defined.
// File: frontend/src/styles/components/_cards.scss
/**
 * @file _cards.scss
 * @description Base styling & mixins for card components.
 * Showcases themeable glassmorphic and neomorphic card styles.
 * @version 2.0.3 - Refactored to use explicit 'look' mixins for better reusability.
 */

@use '../abstracts/variables' as var;
@use '../abstracts/mixins' as mixins;

// --- Base Card Style Mixin ---
@mixin card-base-styles {
  border-radius: var.$radius-xl; // Generous radius for cards
  padding: var.$spacing-lg;
  transition: var.$duration-smooth var.$ease-out-quad;
  transition-property: background-color, border-color, box-shadow, transform;
  will-change: transform, box-shadow;
  position: relative; // Often useful for pseudo-elements or absolutely positioned children
  overflow: hidden; // Good default for cards that might have glows or pseudo-elements
}

// --- Look Mixins (Visuals only, no base styles) ---
@mixin card-glass-look {
  @include mixins.glassmorphic-pane(
    // CSS Variable prefixes for HSL values & Alpha
    '--color-bg-glass',
    '--color-border-glass',
    // CSS Variable for blur amount
    '--blur-glass',
    // CSS Variable for the full box-shadow string
    '--shadow-depth-lg',
    // SCSS Fallback HSL(A) values for background
    var.$default-color-bg-glass-h, var.$default-color-bg-glass-s, var.$default-color-bg-glass-l, var.$default-color-bg-glass-a,
    // SCSS Fallback HSL(A) values for border
    var.$default-color-border-glass-h, var.$default-color-border-glass-s, var.$default-color-border-glass-l, var.$default-color-border-glass-a,
    // SCSS Fallback for blur amount
    var.$default-blur-glass,
    // SCSS Fallback for the full box-shadow string
    var.$scss-box-shadow-lg
  );

  &:hover {
    transform: translateY(-3px) scale(1.01);
    border-color: hsla(var(--color-accent-primary-h, var.$default-color-accent-primary-h), var(--color-accent-primary-s, var.$default-color-accent-primary-s), var(--color-accent-primary-l, var.$default-color-accent-primary-l), calc(var(--color-border-glass-a, #{var.$default-color-border-glass-a}) + 0.2));
    box-shadow: 0 12px 35px hsla(var(--shadow-color-h, var.$default-shadow-color-h), var(--shadow-color-s, var.$default-shadow-color-s), var(--shadow-color-l, var.$default-shadow-color-l), calc(var(--shadow-opacity-deep, #{var.$default-shadow-opacity-deep}) + 0.05)),
                0 0 15px hsla(var(--color-accent-primary-h, var.$default-color-accent-primary-h), var(--color-accent-primary-s, var.$default-color-accent-primary-s), var(--color-accent-primary-l, var.$default-color-accent-primary-l), 0.1);
  }
}

@mixin card-neo-look {
  @include mixins.neomorphic-extrude(
    '--color-bg-secondary',
    6px,
    15px,
    '--shadow-opacity-soft',
    var.$radius-xl, // Use the radius defined in card-base-styles if consistent, or pass as arg
    '--shadow-color-h',
    '--shadow-color-s',
    '--shadow-color-l',
    '--shadow-highlight-modifier',
    var.$default-color-bg-secondary-h, var.$default-color-bg-secondary-s, var.$default-color-bg-secondary-l,
    var.$default-shadow-opacity-soft,
    var.$default-shadow-color-h, var.$default-shadow-color-s, var.$default-shadow-color-l,
    var.$default-shadow-highlight-modifier
  );
  border: none;

  &:hover {
    @include mixins.neomorphic-extrude(
      '--color-bg-secondary',
      8px,
      18px,
      '--shadow-opacity-deep', // Using a deeper opacity variable for hover
      var.$radius-xl,
      '--shadow-color-h',
      '--shadow-color-s',
      '--shadow-color-l',
      '--shadow-highlight-modifier',
      var.$default-color-bg-secondary-h, var.$default-color-bg-secondary-s, var.$default-color-bg-secondary-l,
      var.$default-shadow-opacity-deep,
      var.$default-shadow-color-h, var.$default-shadow-color-s, var.$default-shadow-color-l,
      var.$default-shadow-highlight-modifier
    );
    transform: translateY(-2px);
  }
}

@mixin card-holo-accent-look { // Mixin for just the holographic border accent part
  @include mixins.holographic-border-glow(
    '--color-accent-secondary',
    '--color-accent-primary',
    1px,
    3s,
    var.$radius-xl // Assuming it matches the base card radius
  );
}


// --- Utility Classes (Apply these in HTML or @extend if necessary) ---
.card-base {
  @include card-base-styles;
}

.card-glass {
  @include card-base-styles;
  @include card-glass-look;
}

.card-neo {
  @include card-base-styles;
  @include card-neo-look;
}

.card-interactive { // This class is more for signaling interactivity via JS/parent selectors
  cursor: pointer;
  &:active {
    transform: translateY(0px) scale(0.99);
  }
}

.card-holo-accent {
  @include card-base-styles;
  @include card-glass-look; // Example: holo accent on a glass card
  @include card-holo-accent-look;
}

// Specific card variants for About page, using the new "look" mixins
// This helps keep _about-page.scss cleaner by just including these.
// These could also be global utility classes if used widely.
.card-glass-interactive--about { // Example
  @include card-base-styles;
  @include card-glass-look;
  @extend .card-interactive; // Add interactive behavior
}

.card-neo-interactive--about { // Example
  @include card-base-styles;
  @include card-neo-look;
  @extend .card-interactive; // Add interactive behavior
}

.card-neo-subtle--about { // Example
  @include card-base-styles;
  // Could define a 'card-neo-subtle-look' mixin or directly call neomorphic-extrude with different params
  @include mixins.neomorphic-extrude(
    '--color-bg-secondary', 3px, 6px, '--shadow-opacity-soft', var.$radius-lg, /* smaller radius */
    '--shadow-color-h', '--color-shadow-s', '--color-shadow-l', '--shadow-highlight-modifier',
    var.$default-color-bg-secondary-h, var.$default-color-bg-secondary-s, var.$default-color-bg-secondary-l,
    var.$default-shadow-opacity-soft, var.$default-shadow-color-h, var.$default-shadow-color-s, var.$default-shadow-color-l, var.$default-shadow-highlight-modifier
  );
  border: none;
}
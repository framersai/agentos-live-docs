/* ────────────────────────────────────────────────────────────────
   Voice‑Coding Assistant – Responsive Layer
   File: responsive.css • v3.0.0 • 2025‑05‑25
   ----------------------------------------------------------------
   Progressive‑enhancement: mobile‑first → widescreen.
   Complementary to main.css – only layout / spacing adjustments.
   ALL colours pull from the CSS‑vars theme defined in main.css so
   dark‑mode stays perfect. Pure Tailwind utilities inside @apply.
   ----------------------------------------------------------------*/

/* xs (≥320px) — base mobile already handled by utilities  --------- */

/* sm‑landscape (≥568px & landscape) */
@media (min-width:568px) and (orientation:landscape){
  .chat-container{height:calc(100vh-6rem);}             /* tighter header */
  .voice-input-container{@apply p-3 backdrop-blur-md;}
  .complexity-grid{@apply grid-cols-2;}
}

/* md (≥768px) — portrait tablets ----------------------------------*/
@media (min-width:768px){
  .app-container{@apply px-6;}                          /* bigger gutters */
  .chat-container{@apply mx-auto max-w-4xl;}            /* centred column */
  .voice-input-container{position:static;@apply bg-transparent border-none p-0 backdrop-blur-0;}
  .message-bubble{@apply max-w-[85%] my-4 p-6 text-base rounded-2xl;}
  .slideshow-desktop{display:grid;grid-template-columns:1fr_250px;gap:2rem;height:100%;}
  .slideshow-navigation{@apply flex flex-col gap-2 p-4 rounded-lg overflow-y-auto bg-[var(--c-bg-3)]/40;}
  .slide-nav-item{@apply px-3 py-2 rounded-md text-sm transition-colors cursor-pointer border border-transparent;}
  .slide-nav-item:hover{@apply bg-[var(--c-bg-2)] border-[var(--c-bdr)];}
  .slide-nav-item.active{@apply bg-[var(--pri-500)] text-white;}
  .complexity-grid{@apply grid-cols-[repeat(auto-fit,minmax(200px,1fr))] gap-4;}
}

/* lg (≥1024px) — landscape tablets / small laptops ----------------*/
@media (min-width:1024px){
  .chat-container{height:calc(100vh-12rem);}             /* more breathing */
  .message-bubble{@apply max-w-[75%] p-8 text-lg;}
  .slideshow-desktop{grid-template-columns:1fr_300px;}
  .mermaid-diagram{max-height:60vh;overflow:auto;}
}

/* xl (≥1280px) — desktops -----------------------------------------*/
@media (min-width:1280px){
  .app-container{@apply px-10;}
  .chat-container{@apply max-w-6xl;}
  .code-explanation-layout{display:grid;grid-template-columns:1fr_1fr;gap:2rem;align-items:start;}
  .code-section{position:sticky;top:2rem;}
  .fullscreen-content{@apply p-12 max-w-[1400px] mx-auto;}
  .slideshow-desktop{grid-template-columns:350px_1fr;}
}

/* 2xl (≥1536px) — large monitors ----------------------------------*/
@media (min-width:1536px){
  .chat-container{@apply max-w-7xl;}
  .fullscreen-content{@apply max-w-[1600px] p-16;}
  .message-bubble{@apply max-w-[65%] p-10 text-xl;}
  .code-explanation-layout{grid-template-columns:1.2fr_1fr;gap:3rem;}
  .slideshow-desktop{grid-template-columns:400px_1fr;}
}

/* Retina & hi‑dpi tweaks ------------------------------------------*/
@media (-webkit-min-device-pixel-ratio:2),(min-resolution:192dpi){
  .logo-container img{image-rendering:-webkit-optimize-contrast;image-rendering:crisp-edges;}
  .mermaid-diagram svg{shape-rendering:geometricPrecision;}
}

/* Motion‑reduced ---------------------------------------------------*/
@media (prefers-reduced-motion:reduce){
  *{@apply transition-none animate-none;} /* nuke subtle anims */
}

/* Print -----------------------------------------------------------*/
@media print{
  .app-header,.voice-input-container,.quick-actions,.slideshow-navigation,.slide-progress{display:none!important;}
  .chat-container{position:static;height:auto;background:#fff;color:#000;}
  .message-bubble{@apply border border-slate-300 my-4 max-w-full break-inside-avoid;}
  .message-bubble pre{@apply bg-slate-100 text-slate-900 border border-slate-300;}
}

/* High‑contrast ----------------------------------------------------*/
@media (prefers-contrast:high){
  .message-bubble{border:2px solid currentColor;}
  .complexity-item{@apply border border-slate-500;}
}

/* Touch‑targets ----------------------------------------------------*/
@media (hover:none) and (pointer:coarse){
  .action-btn{min-height:44px;min-width:44px;} .slide-nav-item{min-height:48px;}
  input,select,textarea{font-size:16px;} /* avoid iOS zoom */
  .chat-container::-webkit-scrollbar{width:8px;} .chat-container::-webkit-scrollbar-thumb{background:rgba(0,0,0,.3);border-radius:4px;}
}

/* tui_context_builder.tcss */

Screen {
    /* Base screen settings */
    overflow: hidden; /* Prevent screen-level scrollbars that might conflict with widget scrollbars */
    background: $surface; /* A neutral background for the entire app */
}

Header {
    dock: top;
    height: auto;
    background: $primary-background-darken-2; /* Darker bar for header */
    color: $text;
    padding: 0 1; /* Padding for header text */
}

Footer {
    dock: bottom;
    height: auto;
    background: $primary-background-darken-2; /* Darker bar for footer */
    color: $text;
    padding: 0 1; /* Padding for footer text */
}

#app_grid {
    /* Main layout container for directory tree and info panel */
    layout: horizontal;
    height: 1fr; /* Fill available vertical space between Header and Footer */
    padding: 1; /* Overall padding for the main content area */
    background: $surface;
}

CustomDirectoryTree {
    /* Styling for the directory tree widget */
    width: 2fr; /* Takes 2/3 of the horizontal space in app_grid */
    height: 100%; /* Fill the vertical space of its parent */
    border: round $primary-darken-1; /* A distinct border */
    background: $panel; /* Slightly different background for the tree area */
    margin-right: 1; /* Space between tree and info panel */
    padding: 0 1; /* Internal padding for the tree */
}

#info_panel_scroll {
    /* Scrolling container for the info panel content */
    width: 1fr; /* Takes 1/3 of the horizontal space */
    height: 100%; /* Fill the vertical space */
    border: round $secondary-darken-1; /* A different border color */
    background: $boost; /* A slightly emphasized background for info */
    padding: 1; /* Internal padding */
}

#info_panel_content {
    /* The Static widget holding the text inside the info_panel_scroll */
    width: 100%;
    color: $text;
}

/* Preamble Input Modal Styling */
PreambleInputScreen {
    /* Aligns the modal dialog in the center of the screen */
    align: center middle;
}

#preamble_dialog {
    /* The main container for the preamble input modal */
    width: 80%;
    max-width: 90; /* Max width to prevent it being too wide on large screens */
    height: 70%;
    max-height: 30; /* Max height */
    padding: 1 2; /* Vertical and horizontal padding */
    background: $panel-darken-1; /* A darker panel for modal focus */
    border: thick $primary; /* Prominent border */
    border-title-color: $text-muted;
    border-title-style: bold;
    border-title-align: center;
}

#preamble_dialog Label {
    dock: top;
    width: 100%;
    text-align: center;
    margin-bottom: 1;
    text-style: bold;
}

#preamble_text_area {
    /* Styling for the text input area in the preamble modal */
    width: 100%;
    height: 1fr; /* Fill available vertical space in the dialog */
    margin-bottom: 1;
    border: round $background-lighten-2; /* Subtle border for the text area */
}

#preamble_buttons {
    /* Container for the Save/Cancel buttons in the preamble modal */
    width: 100%;
    height: auto; /* Let buttons define height */
    align-horizontal: right; /* Align buttons to the right */
    margin-top: 1;
}

#preamble_buttons Button {
    margin-left: 2; /* Spacing between buttons */
}

/* Output Screen Modal Styling */
OutputScreen {
    /* Aligns the modal dialog in the center of the screen */
    align: center middle;
}

#output_scroll_container {
    /* The main container for the output/export modal's content */
    width: 90%;
    max-width: 120; /* Max width for the output modal */
    height: 90%;
    max-height: 45; /* Max height for the output modal */
    border: thick $primary-background; /* Strong border */
    background: $panel-darken-1; /* Darker panel for modal focus */
    padding: 1;
    overflow-y: auto; /* Allow vertical scroll within the modal content area */
    border-title-color: $text-muted;
    border-title-style: bold;
    border-title-align: center;
}

#output_scroll_container Label {
    dock: top;
    width: 100%;
    text-align: center;
    margin-bottom: 1;
    text-style: bold;
}

#json_pretty {
    /* Styling for the JSON preview widget inside the output modal */
    width: 100%;
    height: 1fr; /* Takes up the remaining available vertical space */
    margin-bottom: 1;
    border: round $background-darken-2; /* Subtle border for the JSON preview */
    overflow: auto; /* Enable scrolling for large JSON content */
    background: $surface-darken-1; /* Slightly different background for the pretty print */
}

#output_buttons_container {
    /* Container for the export/action buttons in the output modal */
    height: auto; /* Let buttons define their own height */
    margin-top: 1;
    align: center middle; /* Center buttons within their grid cells */
    layout: grid;
    /* Defines a grid for the buttons.
       For 5 buttons, 2 rows, 3 columns per row.
       The last row will have 2 buttons centered within the 3 columns.
    */
    grid-size: 2 3;
    grid-columns: 1fr 1fr 1fr; /* Distribute space for 3 buttons per row */
    grid-rows: auto auto; /* Let rows size automatically */
    grid-gutter: 1; /* Spacing between button grid cells */
}

#output_buttons_container Button {
    width: 100%; /* Make buttons fill their allocated grid cell width */
}
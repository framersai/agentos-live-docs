--- FILE: backend/server.ts (Relevance: 0.62) ---

// backend/server.ts
import express from 'express';
import cors from 'cors';
import helmet from 'helmet';
import morgan from 'morgan';
import path from 'path';
import { fileURLToPath } from 'url';
import dotenv from 'dotenv';
import cookieParser from 'cookie-parser';
import { configureRouter } from './config/router.js';
import { authMiddleware } from './middleware/auth.js';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

// Load environment variables from root directory
dotenv.config({ path: path.resolve(__dirname, '../../.env') });

// Initialize express app
const app = express();
const PORT = process.env.PORT || 3001;

// Middleware
app.use(helmet());
app.use(morgan('dev'));
app.use(cookieParser());
app.use(express.json({ limit: '50mb' }));
app.use(express.urlencoded({ extended: true, limit: '50mb' }));

// Configure CORS
app.use(cors({
  origin: process.env.FRONTEND_URL || 'http://localhost:3000',
  methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS'],
  allowedHeaders: ['Content-Type', 'Authorization', 'X-Requested-With'],
  credentials: true
}));

// Handle OPTIONS requests for CORS preflight
app.options('*', cors());

// Health check endpoint (no auth required)
app.get('/health', (req, res) => {
  res.status(200).json({ 
    status: 'OK', 
    timestamp: new Date().toISOString(),
    port: PORT 
  });
});

// Set up API routes with authentication middleware
const setupRoutes = async () => {
  try {
    const router = await configureRouter();
    
    // All /api routes will go through authMiddleware
    app.use('/api', authMiddleware, router);
    
    // Add a catch-all for unmatched API routes
    app.use('/api/*', (req, res) => {
      res.status(404).json({
        message: `API endpoint not found: ${req.method} ${req.path}`,
        error: 'ENDPOINT_NOT_FOUND',
        availableEndpoints: [
          'POST /api/auth',
          'POST /api/chat', 
          'GET /api/cost',
          'POST /api/cost',
          'POST /api/speech',
          'GET /api/speech'
        ]
      });
    });
    
    // Serve static frontend in production
    if (process.env.NODE_ENV === 'production') {
      const frontendDistPath = path.join(__dirname, '../../frontend/dist');
      app.use(express.static(frontendDistPath));
      
      app.get('*', (req, res) => {
        res.sendFile(path.join(frontendDistPath, 'index.html'));
      });
    }
    
    // Start server
    app.listen(PORT, () => {
      console.log(`üöÄ Server running on port ${PORT}`);
      console.log(`üì° Frontend URL configured for CORS: ${process.env.FRONTEND_URL || 'http://localhost:3000'}`);
      console.log(`üîë Auth password configured: ${process.env.PASSWORD ? 'Yes' : 'No'}`);
      
      if (!process.env.PASSWORD) {
        console.warn('‚ö†Ô∏è  WARNING: PASSWORD is not set in the .env file. Authentication will fail.');
      }
      
      // Log available routes
      console.log('üìã Available API endpoints:');
      console.log('   POST /api/auth - Authentication');
      console.log('   POST /api/chat - Chat with AI');
      console.log('   GET  /api/cost - Get session cost');
      console.log('   POST /api/cost - Reset session cost');
      console.log('   POST /api/speech - Transcribe audio');
      console.log('   GET  /api/speech - Get speech stats');
    });
  } catch (error) {
    console.error('‚ùå Failed to configure routes:', error);
    throw error;
  }
};

// Global error handling middleware (should be last)
app.use((err: any, req: express.Request, res: express.Response, next: express.NextFunction) => {
  console.error('Global error handler:', err.stack);
  res.status(err.status || 500).json({
    message: err.message || 'Something went wrong on the server.',
    error: process.env.NODE_ENV === 'production' ? {} : { message: err.message, stack: err.stack }
  });
});

// Initialize routes and start server
setupRoutes().catch(error => {
  console.error('‚ùå Failed to start server:', error);
  process.exit(1);
});

export default app;

--- FILE: backend/repomix-output.xml (Relevance: 0.60) ---

This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
config/
  auth.ts
  models.ts
  router.ts
middleware/
  auth.ts
routes/
  auth.ts
  chat.ts
  cost.ts
  diagram.ts
  speech.ts
utils/
  audio.ts
  cost.ts
  llm.ts
Dockerfile
package.json
server.ts
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="config/auth.ts">
import { Request, Response, NextFunction } from 'express';
import dotenv from 'dotenv';

dotenv.config();

// Simple password authentication middleware
export const authMiddleware = (req: Request, res: Response, next: NextFunction) => {
  // Skip auth check for login route
  if (req.path === '/auth') {
    return next();
  }

  const authHeader = req.headers.authorization;
  const password = process.env.PASSWORD;

  if (!password) {
    console.warn('No password set in environment variables');
    return next();
  }

  if (!authHeader || !authHeader.startsWith('Bearer ')) {
    return res.status(401).json({ message: 'Unauthorized: Missing authentication token' });
  }

  const token = authHeader.split(' ')[1];
  
  if (token !== password) {
    return res.status(401).json({ message: 'Unauthorized: Invalid authentication token' });
  }

  next();
};
</file>

<file path="config/models.ts">
import dotenv from 'dotenv';

dotenv.config();

export interface ModelConfig {
  modelName: string;
  inputCostPer1K: number;
  outputCostPer1K: number;
  provider: 'openai' | 'openrouter';
}

// Model configurations with pricing information
export const MODEL_CONFIGS: Record<string, ModelConfig> = {
  'gpt-4o': {
    modelName: 'gpt-4o',
    inputCostPer1K: 0.5,
    outputCostPer1K: 1.5,
    provider: 'openai'
  },
  'gpt-4o-mini': {
    modelName: 'gpt-4o-mini',
    inputCostPer1K: 0.15,
    outputCostPer1K: 0.6,
    provider: 'openai'
  },
  'gpt-3.5-turbo': {
    modelName: 'gpt-3.5-turbo',
    inputCostPer1K: 0.0015,
    outputCostPer1K: 0.002,
    provider: 'openai'
  },
  'claude-3-opus-20240229': {
    modelName: 'claude-3-opus-20240229',
    inputCostPer1K: 15,
    outputCostPer1K: 75,
    provider: 'openrouter'
  },
  'claude-3-sonnet-20240229': {
    modelName: 'claude-3-sonnet-20240229',
    inputCostPer1K: 3,
    outputCostPer1K: 15,
    provider: 'openrouter'
  }
};

// Available models by mode
export const MODEL_PREFERENCES = {
  coding: process.env.MODEL_PREF_CODING || 'gpt-4o',
  system_design: process.env.MODEL_PREF_SYSTEM_DESIGN || 'gpt-4o',
  meeting: process.env.MODEL_PREF_SUMMARY || 'gpt-4o-mini'
};

export const DEFAULT_LANGUAGE = process.env.DEFAULT_LANGUAGE || 'python';
export const TOKEN_LIMIT = parseInt(process.env.TOKEN_LIMIT || '4000', 10);
export const COST_THRESHOLD = parseFloat(process.env.COST_THRESHOLD || '5.0');
</file>

<file path="config/router.ts">
import { Router, Request, Response } from 'express';
import fs from 'fs';
import path from 'path';
import { fileURLToPath } from 'url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

export async function configureRouter(): Promise<Router> {
  const router = Router();
  const routesDir = path.join(__dirname, '../routes');

  console.log('Ô£ø√º√Æ√ü Configuring routes from:', routesDir);

  try {
    // Check if routes directory exists
    if (!fs.existsSync(routesDir)) {
      console.error('‚Äö√π√• Routes directory does not exist:', routesDir);
      return router;
    }

    // Read all route files
    const routeFiles = fs.readdirSync(routesDir);
    console.log('Ô£ø√º√¨√Ö Found route files:', routeFiles);
    
    for (const file of routeFiles) {
      if (file.endsWith('.ts') || file.endsWith('.js')) {
        const routePath = `../routes/${file}`;
        const routeName = file.replace(/\.(ts|js)$/, '');
        
        try {
          console.log(`Ô£ø√º√Æ√ë Loading route: ${routeName} from ${routePath}`);
          
          // Import route dynamically
          const routeModule = await import(routePath);
          
          // Log what we found in the module
          console.log(`Ô£ø√º√¨√£ Route ${routeName} exports:`, Object.keys(routeModule));
          
          // Register HTTP methods if they exist in the module
          const methods = ['GET', 'POST', 'PUT', 'DELETE', 'PATCH'];
          let registeredCount = 0;
          
          methods.forEach(method => {
            if (typeof routeModule[method] === 'function') {
              const routeHandler = async (req: Request, res: Response) => {
                try {
                  console.log(`Ô£ø√º√¨¬Æ Handling ${method} /${routeName}`);
                  await routeModule[method](req, res);
                } catch (error) {
                  console.error(`‚Äö√π√• Error in ${method} /${routeName}:`, error);
                  res.status(500).json({
                    message: 'Internal server error',
                    error: process.env.NODE_ENV === 'production' ? undefined : (error as Error).message
                  });
                }
              };

              // Use explicit method calls instead of dynamic access
              switch (method.toLowerCase()) {
                case 'get':
                  router.get(`/${routeName}`, routeHandler);
                  break;
                case 'post':
                  router.post(`/${routeName}`, routeHandler);
                  break;
                case 'put':
                  router.put(`/${routeName}`, routeHandler);
                  break;
                case 'delete':
                  router.delete(`/${routeName}`, routeHandler);
                  break;
                case 'patch':
                  router.patch(`/${routeName}`, routeHandler);
                  break;
                default:
                  console.warn(`‚Äö√∂‚Ä†√î‚àè√®  Unsupported HTTP method: ${method}`);
                  return; // Use return instead of continue in forEach
              }
              
              registeredCount++;
              console.log(`‚Äö√∫√ñ Registered route: ${method} /api/${routeName}`);
            }
          });

          if (registeredCount === 0) {
            console.warn(`‚Äö√∂‚Ä†√î‚àè√®  No HTTP methods found in ${routeName} route module`);
          }

        } catch (error) {
          console.error(`‚Äö√π√• Error loading route ${file}:`, error);
        }
      }
    }

    // Add a test route to verify the router is working
    router.get('/test', (req: Request, res: Response) => {
      res.json({ 
        message: 'Router is working!', 
        timestamp: new Date().toISOString(),
        availableRoutes: routeFiles
      });
    });
    console.log('‚Äö√∫√ñ Added test route: GET /api/test');

  } catch (error) {
    console.error('‚Äö√π√• Error setting up routes:', error);
  }

  return router;
}
</file>

<file path="middleware/auth.ts">
// backend/middleware/auth.ts
import { Request, Response, NextFunction } from 'express';
import dotenv from 'dotenv';
import path from 'path';
import { fileURLToPath } from 'url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

// Load .env variables from the root of the project
dotenv.config({ path: path.resolve(__dirname, '../../../.env') });

/**
 * Authentication middleware for Express routes
 * Validates Bearer tokens and auth cookies
 */
export const authMiddleware = (req: Request, res: Response, next: NextFunction) => {
  // Skip auth check for the auth route itself
  if (req.path === '/auth') {
    return next();
  }

  const authHeader = req.headers.authorization;
  const authCookie = req.cookies?.auth; 
  const password = process.env.PASSWORD;

  if (!password) {
    console.error('SERVER ERROR: Authentication password is not set in environment variables. Denying access.');
    return res.status(500).json({ 
      message: 'Server configuration error: Authentication not configured.',
      error: 'AUTH_NOT_CONFIGURED'
    });
  }

  // Check Bearer token first (more common for API clients)
  if (authHeader && authHeader.startsWith('Bearer ')) {
    const token = authHeader.split(' ')[1];
    if (token === password) {
      // Add user info to request for downstream use
      (req as any).user = { authenticated: true, id: 'default_user' };
      return next(); // Authenticated
    }
  }

  // Check cookie as fallback (more common for browser sessions after login)
  if (authCookie && authCookie === password) {
    // Add user info to request for downstream use
    (req as any).user = { authenticated: true, id: 'default_user' };
    return next(); // Authenticated
  }
  
  // Log unauthorized attempts for debugging
  console.warn(`Unauthorized access attempt to ${req.method} ${req.path}. IP: ${req.ip}`);
  
  return res.status(401).json({ 
    message: 'Unauthorized: Authentication required',
    error: 'AUTHENTICATION_REQUIRED'
  });
};
</file>

<file path="routes/auth.ts">
// backend/routes/auth.ts
import { Request, Response } from 'express';
import dotenv from 'dotenv';

dotenv.config();

/**
 * Handle POST /api/auth - User authentication
 * @param req - Express request object
 * @param res - Express response object
 */
export async function POST(req: Request, res: Response): Promise<void> {
  try {
    const { password, rememberMe = false } = req.body;
    const correctPassword = process.env.PASSWORD;

    if (!correctPassword) {
      console.error('Server configuration error: PASSWORD not set in environment');
      res.status(500).json({
        message: 'Server configuration error',
        error: 'AUTH_NOT_CONFIGURED'
      });
      return;
    }

    if (!password) {
      res.status(400).json({
        message: 'Password is required',
        error: 'MISSING_PASSWORD'
      });
      return;
    }

    if (password !== correctPassword) {
      res.status(401).json({
        message: 'Invalid password',
        error: 'INVALID_CREDENTIALS'
      });
      return;
    }

    // Successful authentication
    const token = correctPassword; // Using password as token for simplicity
    
    // Set cookie if remember me is selected
    if (rememberMe) {
      res.cookie('auth', token, {
        httpOnly: true,
        secure: process.env.NODE_ENV === 'production',
        maxAge: 30 * 24 * 60 * 60 * 1000, // 30 days
        sameSite: 'strict'
      });
    }

    res.status(200).json({
      message: 'Authentication successful',
      token: token,
      rememberMe: rememberMe,
      user: {
        authenticated: true,
        id: 'default_user'
      }
    });

  } catch (error) {
    console.error('Auth endpoint error:', error);
    res.status(500).json({
      message: 'Internal server error during authentication',
      error: process.env.NODE_ENV === 'production' ? 'INTERNAL_ERROR' : (error as Error).message
    });
  }
}

/**
 * Handle GET /api/auth - Check authentication status
 * @param req - Express request object  
 * @param res - Express response object
 */
export async function GET(req: Request, res: Response): Promise<void> {
  try {
    // If we reach here, the auth middleware has already validated the token
    const user = (req as any).user || { authenticated: true, id: 'default_user' };
    
    res.status(200).json({
      message: 'Authenticated',
      authenticated: true,
      user: user
    });
  } catch (error) {
    console.error('Auth status check error:', error);
    res.status(500).json({
      message: 'Error checking authentication status',
      error: process.env.NODE_ENV === 'production' ? 'INTERNAL_ERROR' : (error as Error).message
    });
  }
}
</file>

<file path="routes/chat.ts">
// backend/routes/chat.ts
import { Request, Response } from 'express';
import { callOpenAI } from '../utils/llm.js';
import { trackCost, getSessionCost, isThresholdReached } from '../utils/cost.js';
import { MODEL_PREFERENCES } from '../config/models.js';
import fs from 'fs';
import path from 'path';
import { fileURLToPath } from 'url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

// Load prompt templates
function loadPromptTemplate(templateName: string): string {
  try {
    const promptPath = path.join(__dirname, '../../prompts', `${templateName}.md`);
    return fs.readFileSync(promptPath, 'utf-8');
  } catch (error) {
    console.error(`Error loading prompt template ${templateName}:`, error);
    return ''; // Return empty string if template not found
  }
}

/**
 * Handle POST /api/chat - Process chat messages
 * @param req - Express request object
 * @param res - Express response object
 */
export async function POST(req: Request, res: Response): Promise<void> {
  try {
    const { mode, messages, language = 'python', generateDiagram = false, userId = 'default_user' } = req.body;
    
    // Validate required fields
    if (!messages || !Array.isArray(messages) || messages.length === 0) {
      res.status(400).json({
        message: 'Messages array is required and cannot be empty',
        error: 'INVALID_MESSAGES'
      });
      return;
    }
    
    // Check if cost threshold reached
    if (isThresholdReached(userId)) {
      const currentCost = getSessionCost(userId);
      res.status(403).json({
        message: 'Session cost threshold reached',
        error: 'COST_THRESHOLD_EXCEEDED',
        currentCost: currentCost.totalCost,
        threshold: process.env.COST_THRESHOLD || '20.00'
      });
      return;
    }
    
    // Get appropriate model for the mode
    const modelName = MODEL_PREFERENCES[mode as keyof typeof MODEL_PREFERENCES] || MODEL_PREFERENCES.coding;
    
    // Load appropriate prompt template
    const templateContent = loadPromptTemplate(mode || 'coding');
    
    // Replace placeholders in template
    const processedTemplate = templateContent
      .replace(/{{language}}/g, language)
      .replace(/{{generateDiagram}}/g, generateDiagram ? 'true' : 'false');
    
    // Prepare messages for API call
    const systemMessage = {
      role: 'system',
      content: processedTemplate || `You are a helpful assistant specializing in ${mode || 'coding'} questions. Please provide clear, detailed responses in ${language}.`
    };
    
    const apiMessages = [systemMessage, ...messages];
    
    console.log(`Processing chat request - Mode: ${mode}, Model: ${modelName}, User: ${userId}`);
    
    // Call LLM API
    const response = await callOpenAI(apiMessages, modelName);
    
    // Track cost if usage information is available
    if (response.usage) {
      const { prompt_tokens, completion_tokens } = response.usage;
      const sessionCost = trackCost(
        userId,
        modelName,
        prompt_tokens || 0,
        completion_tokens || 0
      );
      
      // Return response with cost information
      res.status(200).json({
        message: response.text,
        model: response.model,
        usage: response.usage,
        sessionCost,
        cost: {
          prompt_tokens: prompt_tokens || 0,
          completion_tokens: completion_tokens || 0,
          total_tokens: (prompt_tokens || 0) + (completion_tokens || 0)
        }
      });
      return;
    }
    
    // Return response without detailed cost tracking
    const sessionCostDetail = getSessionCost(userId);
    res.status(200).json({
      message: response.text,
      model: response.model,
      sessionCost: sessionCostDetail.totalCost
    });
    
  } catch (error) {
    console.error('Error in chat endpoint:', error);
    
    // Provide more specific error messages
    let errorMessage = 'Error processing chat request';
    let statusCode = 500;
    
    if (error instanceof Error) {
      if (error.message.includes('API key')) {
        errorMessage = 'AI service configuration error';
        statusCode = 503;
      } else if (error.message.includes('rate limit')) {
        errorMessage = 'AI service rate limit exceeded. Please try again later.';
        statusCode = 429;
      } else if (error.message.includes('timeout')) {
        errorMessage = 'Request timeout. Please try again.';
        statusCode = 408;
      }
    }
    
    res.status(statusCode).json({
      message: errorMessage,
      error: process.env.NODE_ENV === 'production' ? 'CHAT_ERROR' : (error as Error).message
    });
  }
}
</file>

<file path="routes/cost.ts">
// backend/utils/cost.ts
import dotenv from 'dotenv';
import path from 'path';
import { fileURLToPath } from 'url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

// Load environment variables from root directory
dotenv.config({ path: path.resolve(__dirname, '../../../.env') });

// Model cost configurations (since models.js is missing)
const MODEL_CONFIGS: Record<string, { inputCostPer1K: number; outputCostPer1K: number; contextWindow: number }> = {
  'gpt-4o': { inputCostPer1K: 0.005, outputCostPer1K: 0.015, contextWindow: 128000 },
  'gpt-4o-mini': { inputCostPer1K: 0.00015, outputCostPer1K: 0.0006, contextWindow: 128000 },
  'gpt-4': { inputCostPer1K: 0.03, outputCostPer1K: 0.06, contextWindow: 8192 },
  'gpt-3.5-turbo': { inputCostPer1K: 0.001, outputCostPer1K: 0.002, contextWindow: 4096 },
};

const COST_THRESHOLD = parseFloat(process.env.COST_THRESHOLD || '20.00');
const WHISPER_COST_PER_MINUTE = 0.006;

export interface SessionCostDetail {
  totalCost: number;
  whisperCost: number;
  llmCost: number;
  lastUpdated: number;
  interactions: number;
}

// In-memory store for session costs
const sessionCosts = new Map<string, SessionCostDetail>();

/**
 * Initialize session cost data for a user
 */
function initializeSessionCost(userId: string): SessionCostDetail {
  if (!sessionCosts.has(userId)) {
    sessionCosts.set(userId, {
      totalCost: 0,
      whisperCost: 0,
      llmCost: 0,
      lastUpdated: Date.now(),
      interactions: 0,
    });
  }
  return sessionCosts.get(userId)!;
}

/**
 * Track cost for LLM calls
 * @param userId - User identifier
 * @param modelName - Name of the model used
 * @param promptTokens - Number of input tokens
 * @param completionTokens - Number of output tokens
 * @returns Total session cost
 */
export function trackCost(
  userId: string,
  modelName: string,
  promptTokens: number,
  completionTokens: number
): number {
  const session = initializeSessionCost(userId);
  const modelConfig = MODEL_CONFIGS[modelName] || MODEL_CONFIGS['gpt-4o'];

  let cost = 0;
  if (modelConfig) {
    const inputCost = (promptTokens / 1000) * modelConfig.inputCostPer1K;
    const outputCost = (completionTokens / 1000) * modelConfig.outputCostPer1K;
    cost = inputCost + outputCost;
  } else {
    console.warn(`Cost configuration for model ${modelName} not found. Using default calculation.`);
    cost = ((promptTokens + completionTokens) / 1000) * 0.01;
  }
  
  session.llmCost += cost;
  session.totalCost += cost;
  session.interactions += 1;
  session.lastUpdated = Date.now();
  
  console.log(`LLM Cost for ${modelName} (User: ${userId}): $${cost.toFixed(6)}. Session total: $${session.totalCost.toFixed(6)}`);
  return session.totalCost;
}

/**
 * Track cost for LLM calls (alias for trackCost for compatibility)
 */
export const trackLlmCost = trackCost;

/**
 * Track cost for Whisper transcription
 * @param userId - User identifier  
 * @param durationMinutes - Duration of audio in minutes
 * @returns Total session cost
 */
export function trackWhisperCost(
  userId: string,
  durationMinutes: number
): number {
  const session = initializeSessionCost(userId);
  // Whisper bills for a minimum of 0.01 minutes
  const billableMinutes = Math.max(durationMinutes, 0.01);
  const cost = billableMinutes * WHISPER_COST_PER_MINUTE;
  
  session.whisperCost += cost;
  session.totalCost += cost;
  session.interactions += 1;
  session.lastUpdated = Date.now();
  
  console.log(`Whisper Cost (User: ${userId}): $${cost.toFixed(6)} for ${durationMinutes.toFixed(2)} min. Session total: $${session.totalCost.toFixed(6)}`);
  return session.totalCost;
}

/**
 * Alternative name for trackWhisperCost for compatibility
 */
export const trackWhisperServiceCost = trackWhisperCost;

/**
 * Get current session cost details
 * @param userId - User identifier
 * @returns Session cost details
 */
export function getSessionCost(userId: string): SessionCostDetail {
  return initializeSessionCost(userId);
}

/**
 * Check if cost threshold has been reached
 * @param userId - User identifier  
 * @returns True if threshold reached
 */
export function isThresholdReached(userId: string): boolean {
  const session = sessionCosts.get(userId);
  return session ? session.totalCost >= COST_THRESHOLD : false;
}

/**
 * Reset session cost for a user
 * @param userId - User identifier
 * @returns New session cost details
 */
export function resetSessionCost(userId: string): SessionCostDetail {
  console.log(`Resetting session cost for user: ${userId}`);
  sessionCosts.set(userId, {
    totalCost: 0,
    whisperCost: 0,
    llmCost: 0,
    lastUpdated: Date.now(),
    interactions: 0,
  });
  return sessionCosts.get(userId)!;
}

// Clean up old sessions periodically (24 hours of inactivity)
setInterval(() => {
  const now = Date.now();
  for (const [userId, session] of sessionCosts.entries()) {
    if (now - session.lastUpdated > 24 * 60 * 60 * 1000) {
      sessionCosts.delete(userId);
      console.log(`Cleaned up inactive session for user: ${userId}`);
    }
  }
}, 60 * 60 * 1000); // Check every hour
</file>

<file path="routes/diagram.ts">
import { Request, Response } from 'express';
import { callOpenAI } from '../utils/llm.js';
import { trackCost, getSessionCost, isThresholdReached } from '../utils/cost.js';

// Generate diagrams from text descriptions
export async function POST(req: Request, res: Response) {
  try {
    const { description, type = 'mermaid', userId = 'default' } = req.body;
    
    // Check if cost threshold reached
    if (isThresholdReached(userId)) {
      return res.status(403).json({
        message: 'Session cost threshold reached',
        currentCost: getSessionCost(userId)
      });
    }
    
    // Create a prompt to generate the diagram
    const diagramPrompt = [
      {
        role: 'system',
        content: `You are a diagram generator. The user will provide a description of a diagram they want to create. Generate a valid ${type} syntax that correctly represents their description. Only return the diagram code without any explanations or markdown formatting.`
      },
      {
        role: 'user',
        content: description
      }
    ];
    
    // Call LLM API to generate diagram code
    const response = await callOpenAI(diagramPrompt, 'gpt-4o');
    
    // Extract the diagram code from the response
    let diagramCode = response.text;
    
    // Clean up the diagram code (remove markdown code fences if present)
    diagramCode = diagramCode.replace(/```(?:mermaid|plantuml|graphviz)?\n/g, '');
    diagramCode = diagramCode.replace(/```$/g, '');
    
    // Track cost
    if (response.usage) {
      const { prompt_tokens, completion_tokens } = response.usage;
      const sessionCost = trackCost(
        userId,
        'gpt-4o',
        prompt_tokens || 0,
        completion_tokens || 0
      );
      
      // Return response with cost information
      return res.status(200).json({
        diagramCode,
        type,
        usage: response.usage,
        sessionCost
      });
    }
    
    return res.status(200).json({
      diagramCode,
      type,
      sessionCost: getSessionCost(userId)
    });
  } catch (error) {
    console.error('Error in diagram endpoint:', error);
    return res.status(500).json({
      message: 'Error generating diagram',
      error: (error as Error).message
    });
  }
}
</file>

<file path="routes/speech.ts">
import { Request, Response } from 'express';
import multer from 'multer';
import { transcribeWithWhisper, analyzeAudioForCost, AudioCostUtils } from '../utils/audio.js';
import { getSessionCost, isThresholdReached } from '../utils/cost.js';
import fs from 'fs';
import path from 'path';
import { fileURLToPath } from 'url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

// Configure multer for memory storage with size limits
const storage = multer.memoryStorage();
const upload = multer({ 
  storage,
  limits: { 
    fileSize: 25 * 1024 * 1024, // 25MB limit (Whisper API limit)
    files: 1 // Only one file at a time
  },
  fileFilter: (req, file, cb) => {
    // Check file type
    const allowedTypes = [
      'audio/webm',
      'audio/mp3',
      'audio/mpeg',
      'audio/mp4',
      'audio/m4a',
      'audio/wav',
      'audio/flac',
      'audio/ogg'
    ];
    
    if (allowedTypes.includes(file.mimetype) || file.originalname.match(/\.(webm|mp3|mp4|m4a|wav|flac|ogg)$/i)) {
      cb(null, true);
    } else {
      cb(new Error('Invalid file type. Supported formats: WebM, MP3, MP4, M4A, WAV, FLAC, OGG'));
    }
  }
});

// Handle audio transcription with Whisper
export async function POST(req: Request, res: Response) {
  try {
    // Use multer to handle the file upload
    upload.single('audio')(req, res, async (err) => {
      if (err) {
        console.error('File upload error:', err);
        
        if (err instanceof multer.MulterError) {
          if (err.code === 'LIMIT_FILE_SIZE') {
            return res.status(400).json({ 
              message: 'Audio file too large. Maximum size is 25MB.',
              error: 'FILE_TOO_LARGE',
              maxSize: '25MB'
            });
          }
          if (err.code === 'LIMIT_FILE_COUNT') {
            return res.status(400).json({ 
              message: 'Too many files. Please upload one audio file at a time.',
              error: 'TOO_MANY_FILES'
            });
          }
        }
        
        return res.status(400).json({ 
          message: err.message || 'File upload error', 
          error: 'UPLOAD_ERROR' 
        });
      }
      
      if (!req.file) {
        return res.status(400).json({ 
          message: 'No audio file provided',
          error: 'NO_FILE'
        });
      }
      
      // Get user ID from request (could be from auth middleware)
      const userId = (req as any).userId || req.body.userId || 'default';
      
      try {
        // Check cost threshold before processing
        if (isThresholdReached(userId)) {
          const currentCost = getSessionCost(userId);
          return res.status(403).json({
            message: 'Session cost threshold reached',
            error: 'COST_THRESHOLD_EXCEEDED',
            currentCost,
            threshold: process.env.COST_THRESHOLD || '20.00'
          });
        }
        
        // Analyze audio for cost estimation
        const analysis = await analyzeAudioForCost(req.file.buffer);
        
        console.log(`Audio analysis - Size: ${analysis.fileSize} bytes, Duration: ~${analysis.duration.toFixed(1)}s, Estimated cost: ${AudioCostUtils.formatCost(analysis.estimatedCost)}`);
        
        // Log recommendations if any
        if (analysis.recommendations.length > 0) {
          console.log('Audio recommendations:', analysis.recommendations);
        }
        
        // Transcribe the audio using Whisper with cost tracking
        const result = await transcribeWithWhisper(req.file.buffer, userId);
        
        // Get updated session cost
        const sessionCost = getSessionCost(userId);
        
        // Prepare response
        const response = {
          message: 'Audio transcribed successfully',
          transcription: result.transcription,
          duration: result.duration,
          cost: result.cost,
          sessionCost,
          usage: {
            durationMinutes: result.usage.durationMinutes,
            costPerMinute: result.usage.costPerMinute,
            totalCost: result.cost
          },
          analysis: {
            fileSize: analysis.fileSize,
            isOptimal: analysis.isOptimal,
            recommendations: analysis.recommendations
          },
          metadata: {
            originalFilename: req.file.originalname,
            mimeType: req.file.mimetype,
            processingTime: Date.now() - Date.now() // This would be calculated properly in a real implementation
          }
        };
        
        // Add warnings if cost is getting high
        if (sessionCost > 1.0) {
          response.warning = {
            message: 'Session cost is getting high',
            currentCost: sessionCost,
            threshold: parseFloat(process.env.COST_THRESHOLD || '20.00')
          };
        }
        
        return res.status(200).json(response);
        
      } catch (transcriptionError) {
        console.error('Transcription error:', transcriptionError);
        
        // Provide specific error messages
        let errorMessage = 'Error transcribing audio';
        let errorCode = 'TRANSCRIPTION_ERROR';
        
        if (transcriptionError instanceof Error) {
          const errorMsg = transcriptionError.message.toLowerCase();
          
          if (errorMsg.includes('api key')) {
            errorMessage = 'OpenAI API key not configured properly';
            errorCode = 'API_KEY_ERROR';
          } else if (errorMsg.includes('file format') || errorMsg.includes('unsupported')) {
            errorMessage = 'Unsupported audio format';
            errorCode = 'UNSUPPORTED_FORMAT';
          } else if (errorMsg.includes('too short')) {
            errorMessage = 'Audio too short for transcription';
            errorCode = 'AUDIO_TOO_SHORT';
          } else if (errorMsg.includes('too large')) {
            errorMessage = 'Audio file too large';
            errorCode = 'AUDIO_TOO_LARGE';
          } else if (errorMsg.includes('rate limit')) {
            errorMessage = 'Rate limit exceeded. Please try again in a moment.';
            errorCode = 'RATE_LIMIT_ERROR';
          } else if (errorMsg.includes('quota')) {
            errorMessage = 'API quota exceeded. Please check your billing.';
            errorCode = 'QUOTA_EXCEEDED';
          } else {
            errorMessage = transcriptionError.message;
          }
        }
        
        return res.status(500).json({
          message: errorMessage,
          error: errorCode,
          details: process.env.NODE_ENV === 'development' ? transcriptionError : undefined
        });
      }
    });
  } catch (error) {
    console.error('Speech endpoint error:', error);
    return res.status(500).json({
      message: 'Error processing speech request',
      error: 'INTERNAL_ERROR',
      details: process.env.NODE_ENV === 'development' ? error : undefined
    });
  }
}

// GET endpoint for retrieving speech processing statistics
export async function GET(req: Request, res: Response) {
  try {
    const userId = req.query.userId as string || 'default';
    
    const sessionCost = getSessionCost(userId);
    const costThreshold = parseFloat(process.env.COST_THRESHOLD || '20.00');
    
    return res.status(200).json({
      message: 'Speech processing statistics',
      userId,
      sessionCost,
      costThreshold,
      whisperPricing: {
        costPerMinute: AudioCostUtils.WHISPER_COST_PER_MINUTE,
        maxFileSize: AudioCostUtils.MAX_FILE_SIZE,
        minDuration: AudioCostUtils.MIN_AUDIO_DURATION
      },
      supportedFormats: [
        'audio/webm',
        'audio/mp3',
        'audio/mpeg',
        'audio/mp4',
        'audio/m4a',
        'audio/wav',
        'audio/flac',
        'audio/ogg'
      ],
      limits: {
        maxFileSize: '25MB',
        maxDuration: '10 minutes (recommended)',
        minDuration: '0.1 seconds'
      }
    });
  } catch (error) {
    console.error('Error retrieving speech statistics:', error);
    return res.status(500).json({
      message: 'Error retrieving speech statistics',
      error: 'INTERNAL_ERROR'
    });
  }
}
</file>

<file path="utils/audio.ts">
import fs from 'fs';
import path from 'path';
import { promisify } from 'util';
import OpenAI from 'openai';
import dotenv from 'dotenv';
import { trackWhisperCost } from './cost.js';

dotenv.config();

const openai = new OpenAI({
  apiKey: process.env.OPENAI_API_KEY
});

// Audio processing constants
const WHISPER_COST_PER_MINUTE = 0.006; // $0.006 per minute (accurate as of 2025)
const MAX_FILE_SIZE = 25 * 1024 * 1024; // 25MB Whisper limit
const MIN_AUDIO_DURATION = 0.1; // 100ms minimum

// Define AudioBuffer interface for Node.js environment
interface AudioBuffer {
  sampleRate: number;
  length: number;
  duration: number;
  numberOfChannels: number;
  getChannelData(channel: number): Float32Array;
}

interface AudioAnalysisResult {
  duration: number;
  estimatedCost: number;
  fileSize: number;
  isOptimal: boolean;
  recommendations: string[];
}

interface TranscriptionResult {
  transcription: string;
  duration: number;
  cost: number;
  usage: {
    durationMinutes: number;
    costPerMinute: number;
  };
}

/**
 * Analyze audio buffer/blob for cost estimation and optimization
 */
export async function analyzeAudioForCost(audioBuffer: Buffer): Promise<AudioAnalysisResult> {
  const fileSize = audioBuffer.length;
  const recommendations: string[] = [];
  
  // Check file size
  if (fileSize > MAX_FILE_SIZE) {
    throw new Error(`Audio file too large: ${(fileSize / 1024 / 1024).toFixed(1)}MB (limit: 25MB)`);
  }
  
  // Estimate duration from file size (rough estimation)
  // For WebM/MP3 audio, roughly 1MB = 1-2 minutes depending on quality
  const estimatedDurationMinutes = Math.max(0.01, (fileSize / (1024 * 1024)) * 1.5);
  const estimatedCost = estimatedDurationMinutes * WHISPER_COST_PER_MINUTE;
  
  // Generate recommendations
  if (fileSize < 10 * 1024) { // Less than 10KB
    recommendations.push('Audio file very small - may be too short for meaningful transcription');
  }
  
  if (estimatedDurationMinutes > 10) { // Over 10 minutes
    recommendations.push('Consider breaking long audio into smaller chunks for better processing');
  }
  
  if (fileSize > 10 * 1024 * 1024) { // Over 10MB
    recommendations.push('Large file detected - consider audio compression to reduce costs');
  }
  
  return {
    duration: estimatedDurationMinutes * 60, // Convert to seconds
    estimatedCost: Math.round(estimatedCost * 10000) / 10000, // Round to 4 decimal places
    fileSize,
    isOptimal: fileSize > 10 * 1024 && fileSize < 5 * 1024 * 1024, // 10KB - 5MB is optimal
    recommendations
  };
}

/**
 * Get accurate audio duration from file
 */
export async function getAudioDuration(audioBuffer: Buffer): Promise<number> {
  // For now, use the estimation method
  // In a production environment, you might want to use ffprobe or similar
  const analysis = await analyzeAudioForCost(audioBuffer);
  return analysis.duration;
}

/**
 * Enhanced transcription with cost tracking and optimization
 */
export async function transcribeWithWhisper(audioBuffer: Buffer, userId: string = 'default'): Promise<TranscriptionResult> {
  try {
    // Analyze audio first
    const analysis = await analyzeAudioForCost(audioBuffer);
    
    // Check minimum duration
    if (analysis.duration < MIN_AUDIO_DURATION) {
      throw new Error(`Audio too short: ${analysis.duration.toFixed(1)}s (minimum: ${MIN_AUDIO_DURATION}s)`);
    }
    
    // Create temporary file
    const tmpDir = path.join(process.cwd(), 'tmp');
    if (!fs.existsSync(tmpDir)) {
      fs.mkdirSync(tmpDir, { recursive: true });
    }
    
    const tempFilePath = path.join(tmpDir, `audio-${userId}-${Date.now()}.webm`);
    await promisify(fs.writeFile)(tempFilePath, audioBuffer);
    
    // Create readable stream
    const audioFile = fs.createReadStream(tempFilePath);
    
    // Enhance the file object with additional metadata
    (audioFile as any).originalname = path.basename(tempFilePath);
    
    console.log(`Transcribing audio: ${analysis.fileSize} bytes, ~${analysis.duration.toFixed(1)}s, estimated cost: $${analysis.estimatedCost.toFixed(4)}`);
    
    // Call Whisper API with optimized settings
    const startTime = Date.now();
    const transcription = await openai.audio.transcriptions.create({
      file: audioFile,
      model: 'whisper-1',
      language: 'en', // Specify language for better accuracy and speed
      response_format: 'verbose_json', // Get additional metadata
      temperature: 0.1, // Lower temperature for more consistent results
    });
    
    const processingTime = Date.now() - startTime;
    
    // Clean up temporary file
    await promisify(fs.unlink)(tempFilePath).catch(console.error);
    
    // Get actual duration from Whisper response if available
    const actualDuration = (transcription as any).duration || analysis.duration;
    const actualDurationMinutes = Math.max(0.01, actualDuration / 60); // Whisper bills minimum 0.01 minutes
    const actualCost = actualDurationMinutes * WHISPER_COST_PER_MINUTE;
    
    // Track cost in backend
    const sessionCost = trackWhisperCost(userId, actualDurationMinutes, actualCost);
    
    console.log(`Transcription completed in ${processingTime}ms. Duration: ${actualDuration.toFixed(1)}s, Cost: $${actualCost.toFixed(4)}, Session total: $${sessionCost.toFixed(4)}`);
    
    // Log recommendations if any
    if (analysis.recommendations.length > 0) {
      console.log('Audio optimization recommendations:', analysis.recommendations);
    }
    
    return {
      transcription: typeof transcription === 'string' ? transcription : transcription.text,
      duration: actualDuration,
      cost: actualCost,
      usage: {
        durationMinutes: actualDurationMinutes,
        costPerMinute: WHISPER_COST_PER_MINUTE
      }
    };
  } catch (error) {
    console.error('Error transcribing with Whisper:', error);
    
    // Provide more specific error messages
    if (error instanceof Error) {
      if (error.message.includes('file format')) {
        throw new Error('Unsupported audio format. Please use WebM, MP3, MP4, MPEG, MPGA, M4A, or WAV.');
      } else if (error.message.includes('file size')) {
        throw new Error('Audio file too large. Maximum size is 25MB.');
      } else if (error.message.includes('Invalid API key')) {
        throw new Error('OpenAI API key not configured properly.');
      }
    }
    
    throw new Error(`Transcription failed: ${error instanceof Error ? error.message : 'Unknown error'}`);
  }
}

/**
 * Batch transcribe multiple audio files (for future use)
 */
export async function batchTranscribe(audioFiles: Buffer[], userId: string = 'default'): Promise<TranscriptionResult[]> {
  const results: TranscriptionResult[] = [];
  
  for (let i = 0; i < audioFiles.length; i++) {
    console.log(`Processing audio file ${i + 1}/${audioFiles.length}`);
    
    try {
      const result = await transcribeWithWhisper(audioFiles[i], `${userId}-batch-${i}`);
      results.push(result);
      
      // Add small delay between requests to avoid rate limiting
      if (i < audioFiles.length - 1) {
        await new Promise(resolve => setTimeout(resolve, 100));
      }
    } catch (error) {
      console.error(`Failed to transcribe audio file ${i + 1}:`, error);
      // Continue with other files
      results.push({
        transcription: '',
        duration: 0,
        cost: 0,
        usage: { durationMinutes: 0, costPerMinute: WHISPER_COST_PER_MINUTE }
      });
    }
  }
  
  return results;
}

/**
 * More robust RMS calculation for a chunk of audio data.
 */
function calculateRMS(samples: Float32Array): number {
  if (samples.length === 0) return 0;
  let sumOfSquares = 0;
  for (let i = 0; i < samples.length; i++) {
    sumOfSquares += samples[i] * samples[i];
  }
  return Math.sqrt(sumOfSquares / samples.length);
}

/**
 * Analyzes an AudioBuffer for silence using RMS chunks.
 * This is a more common approach for Voice Activity Detection (VAD).
 */
export function analyzeSilenceWithRMSChunks(
  audioBuffer: AudioBuffer,
  rmsThreshold: number = 0.01,
  minSilenceDurationMs: number = 500,
  chunkDurationMs: number = 30
): boolean {
  if (!audioBuffer) {
    console.warn("AudioBuffer is null or undefined.");
    return false;
  }

  const sampleRate = audioBuffer.sampleRate;
  const channelData = audioBuffer.getChannelData(0); // Assuming mono

  const samplesPerChunk = Math.floor((sampleRate * chunkDurationMs) / 1000);
  const numChunksRequiredForSilence = Math.ceil(minSilenceDurationMs / chunkDurationMs);

  if (samplesPerChunk === 0) {
    console.warn("Chunk duration is too short for the sample rate.");
    return false;
  }

  let consecutiveSilentChunks = 0;

  for (let i = 0; i < channelData.length; i += samplesPerChunk) {
    const chunk = channelData.slice(i, i + samplesPerChunk);
    if (chunk.length === 0 && i < channelData.length) continue;

    const rms = calculateRMS(chunk);

    if (rms < rmsThreshold) {
      consecutiveSilentChunks++;
      if (consecutiveSilentChunks >= numChunksRequiredForSilence) {
        return true; // Detected sufficient consecutive silent chunks
      }
    } else {
      consecutiveSilentChunks = 0; // Reset counter if a chunk is not silent
    }
  }

  return false; // No qualifying continuous silence detected
}

/**
 * Legacy function for backward compatibility
 */
export function analyzeSilence(
  audioBuffer: AudioBuffer, 
  silenceThreshold: number = 0.01, 
  minSilenceDurationMs: number = 500
): boolean {
  return analyzeSilenceWithRMSChunks(audioBuffer, silenceThreshold, minSilenceDurationMs);
}

// Export cost calculation utilities
export const AudioCostUtils = {
  WHISPER_COST_PER_MINUTE,
  MAX_FILE_SIZE,
  MIN_AUDIO_DURATION,
  calculateCost: (durationMinutes: number) => durationMinutes * WHISPER_COST_PER_MINUTE,
  formatCost: (cost: number) => `$${cost.toFixed(4)}`,
  formatDuration: (seconds: number) => {
    const minutes = Math.floor(seconds / 60);
    const remainingSeconds = Math.floor(seconds % 60);
    return minutes > 0 ? `${minutes}m ${remainingSeconds}s` : `${remainingSeconds}s`;
  }
};
</file>

<file path="utils/cost.ts">
// backend/utils/cost.ts
import dotenv from 'dotenv';
import { MODEL_CONFIGS } from '../config/models.js';

dotenv.config({ path: new URL('../../../.env', import.meta.url).pathname });

const COST_THRESHOLD = parseFloat(process.env.COST_THRESHOLD || '20.00');
const WHISPER_COST_PER_MINUTE = 0.006; // Keep this if used by trackWhisperCost

export interface SessionCostDetail {
  totalCost: number;
  whisperCost: number;
  llmCost: number;
  lastUpdated: number;
  interactions: number; // To track number of calls contributing to cost
}

// In-memory store for session costs. In production, consider a database.
const sessionCosts = new Map<string, SessionCostDetail>();

function initializeSessionCost(userId: string): SessionCostDetail {
  if (!sessionCosts.has(userId)) {
    sessionCosts.set(userId, {
      totalCost: 0,
      whisperCost: 0,
      llmCost: 0,
      lastUpdated: Date.now(),
      interactions: 0,
    });
  }
  return sessionCosts.get(userId)!;
}

/**
 * Tracks cost for LLM calls.
 * Ensure MODEL_CONFIGS is correctly defined in '../config/models.js'
 * Example MODEL_CONFIGS entry:
 * 'gpt-4o': { inputCostPer1K: 0.005, outputCostPer1K: 0.015, contextWindow: 128000 }
 */
export function trackLlmCost(
  userId: string,
  modelName: string,
  promptTokens: number,
  completionTokens: number
): number {
  const session = initializeSessionCost(userId);
  const modelConfig = MODEL_CONFIGS[modelName] || MODEL_CONFIGS['gpt-4o']; // Fallback to gpt-4o config

  let cost = 0;
  if (modelConfig) {
    const inputCost = (promptTokens / 1000) * modelConfig.inputCostPer1K;
    const outputCost = (completionTokens / 1000) * modelConfig.outputCostPer1K;
    cost = inputCost + outputCost;
  } else {
    console.warn(`Cost configuration for model ${modelName} not found. Using default LLM calculation.`);
    // Fallback generic calculation if modelConfig is missing (less accurate)
    cost = ((promptTokens + completionTokens) / 1000) * 0.01; // Generic $0.01 per 1K tokens
  }
  
  session.llmCost += cost;
  session.totalCost += cost;
  session.interactions += 1;
  session.lastUpdated = Date.now();
  
  console.log(`LLM Cost for ${modelName} (User: ${userId}): $${cost.toFixed(6)}. Session total: $${session.totalCost.toFixed(6)}`);
  return session.totalCost;
}

/**
 * Tracks cost for Whisper calls.
 * Updated to match the signature expected by audio.ts
 */
export function trackWhisperServiceCost(
  userId: string,
  durationMinutes: number, // Duration of the audio processed by Whisper
  providedCost?: number // Optional cost override
): number {
  const session = initializeSessionCost(userId);
  // Whisper bills for a minimum of 0.01 minutes if duration is less
  const billableMinutes = Math.max(durationMinutes, 0.01);
  const cost = providedCost || (billableMinutes * WHISPER_COST_PER_MINUTE);
  
  session.whisperCost += cost;
  session.totalCost += cost;
  session.interactions += 1; // Counting this as an interaction
  session.lastUpdated = Date.now();
  
  console.log(`Whisper Cost (User: ${userId}): $${cost.toFixed(6)} for ${durationMinutes.toFixed(2)} min. Session total: $${session.totalCost.toFixed(6)}`);
  return session.totalCost;
}

export function getSessionCost(userId: string): SessionCostDetail {
  return initializeSessionCost(userId);
}

export function isThresholdReached(userId: string): boolean {
  const session = sessionCosts.get(userId);
  return session ? session.totalCost >= COST_THRESHOLD : false;
}

export function resetSessionCost(userId: string): SessionCostDetail {
  console.log(`Resetting session cost for user: ${userId}`);
  sessionCosts.set(userId, {
    totalCost: 0,
    whisperCost: 0,
    llmCost: 0,
    lastUpdated: Date.now(),
    interactions: 0,
  });
  return sessionCosts.get(userId)!;
}

// Export aliases for compatibility with route imports
export const trackCost = trackLlmCost;
export const trackWhisperCost = trackWhisperServiceCost;

// Periodically clean up old sessions (e.g., inactive for 24 hours)
setInterval(() => {
  const now = Date.now();
  for (const [userId, session] of sessionCosts.entries()) {
    if (now - session.lastUpdated > 24 * 60 * 60 * 1000) { // 24 hours
      sessionCosts.delete(userId);
      console.log(`Cleaned up inactive session for user: ${userId}`);
    }
  }
}, 60 * 60 * 1000); // Check every hour
</file>

<file path="utils/llm.ts">
import OpenAI from 'openai';
import axios from 'axios';
import dotenv from 'dotenv';
import { MODEL_CONFIGS } from '../config/models.js';

dotenv.config();

// Initialize OpenAI client
const openai = new OpenAI({
  apiKey: process.env.OPENAI_API_KEY
});

// Function to call OpenAI API
export async function callOpenAI(
  messages: any[],
  modelName: string = 'gpt-4o',
  temperature: number = 0.7
) {
  try {
    const response = await openai.chat.completions.create({
      model: modelName,
      messages,
      temperature,
      max_tokens: 2000,
    });

    return {
      text: response.choices[0].message.content,
      usage: response.usage,
      model: modelName
    };
  } catch (error) {
    console.error('OpenAI API error:', error);
    // If OpenAI fails, try OpenRouter as fallback
    return callOpenRouter(messages, modelName, temperature);
  }
}

// Function to call OpenRouter API
export async function callOpenRouter(
  messages: any[],
  modelName: string = 'gpt-4o',
  temperature: number = 0.7
) {
  try {
    const response = await axios.post(
      'https://openrouter.ai/api/v1/chat/completions',
      {
        model: modelName,
        messages,
        temperature,
        max_tokens: 2000,
      },
      {
        headers: {
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${process.env.OPENROUTER_API_KEY}`,
          'HTTP-Referer': 'https://voice-coding-assistant.com',
          'X-Title': 'Voice Coding Assistant',
        },
      }
    );

    return {
      text: response.data.choices[0].message.content,
      usage: response.data.usage,
      model: response.data.model
    };
  } catch (error) {
    console.error('OpenRouter API error:', error);
    throw new Error('Failed to get response from AI models');
  }
}

// Calculate cost of API usage
export function calculateCost(
  inputTokens: number,
  outputTokens: number,
  modelName: string
): number {
  const modelConfig = MODEL_CONFIGS[modelName] || MODEL_CONFIGS['gpt-4o'];
  
  const inputCost = (inputTokens / 1000) * modelConfig.inputCostPer1K;
  const outputCost = (outputTokens / 1000) * modelConfig.outputCostPer1K;
  
  return inputCost + outputCost;
}
</file>

<file path="Dockerfile">
FROM node:18-alpine AS build

WORKDIR /app

COPY package*.json ./
RUN npm install

COPY . .
RUN npm run build

FROM node:18-alpine

WORKDIR /app

COPY package*.json ./
RUN npm install --production

COPY --from=build /app/dist ./dist
COPY --from=build /app/prompts ./prompts

ENV NODE_ENV=production
EXPOSE 3001

CMD ["node", "dist/server.js"]
</file>

<file path="package.json">
{
  "name": "voice-coding-assistant-backend",
  "version": "1.0.0",
  "description": "Backend for voice coding assistant",
  "main": "dist/server.js",
  "type": "module",
  "scripts": {
    "start": "node dist/server.js",
    "dev": "tsx watch server.ts",
    "build": "tsc",
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "dependencies": {
    "axios": "^1.6.2",
    "cookie-parser": "^1.4.7",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "express": "^4.18.2",
    "express-rate-limit": "^7.1.5",
    "helmet": "^7.1.0",
    "morgan": "^1.10.0",
    "multer": "^1.4.5-lts.1",
    "openai": "^4.20.1"
  },
  "devDependencies": {
    "@types/cookie-parser": "^1.4.8",
    "@types/cors": "^2.8.17",
    "@types/express": "^4.17.21",
    "@types/morgan": "^1.9.9",
    "@types/multer": "^1.4.10",
    "@types/node": "^20.10.0",
    "cross-env": "^7.0.3",
    "ts-node-dev": "^2.0.0",
    "tsx": "^4.19.4",
    "typescript": "^5.3.2"
  }
}
</file>

<file path="server.ts">
// backend/server.ts
import express from 'express';
import cors from 'cors';
import helmet from 'helmet';
import morgan from 'morgan';
import path from 'path';
import { fileURLToPath } from 'url';
import dotenv from 'dotenv';
import cookieParser from 'cookie-parser';
import { configureRouter } from './config/router.js';
import { authMiddleware } from './middleware/auth.js';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

// Load environment variables from root directory
dotenv.config({ path: path.resolve(__dirname, '../../.env') });

// Initialize express app
const app = express();
const PORT = process.env.PORT || 3001;

// Middleware
app.use(helmet());
app.use(morgan('dev'));
app.use(cookieParser());
app.use(express.json({ limit: '50mb' }));
app.use(express.urlencoded({ extended: true, limit: '50mb' }));

// Configure CORS
app.use(cors({
  origin: process.env.FRONTEND_URL || 'http://localhost:3000',
  methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS'],
  allowedHeaders: ['Content-Type', 'Authorization', 'X-Requested-With'],
  credentials: true
}));

// Handle OPTIONS requests for CORS preflight
app.options('*', cors());

// Health check endpoint (no auth required)
app.get('/health', (req, res) => {
  res.status(200).json({ 
    status: 'OK', 
    timestamp: new Date().toISOString(),
    port: PORT 
  });
});

// Set up API routes with authentication middleware
const setupRoutes = async () => {
  try {
    const router = await configureRouter();
    
    // All /api routes will go through authMiddleware
    app.use('/api', authMiddleware, router);
    
    // Add a catch-all for unmatched API routes
    app.use('/api/*', (req, res) => {
      res.status(404).json({
        message: `API endpoint not found: ${req.method} ${req.path}`,
        error: 'ENDPOINT_NOT_FOUND',
        availableEndpoints: [
          'POST /api/auth',
          'POST /api/chat', 
          'GET /api/cost',
          'POST /api/cost',
          'POST /api/speech',
          'GET /api/speech'
        ]
      });
    });
    
    // Serve static frontend in production
    if (process.env.NODE_ENV === 'production') {
      const frontendDistPath = path.join(__dirname, '../../frontend/dist');
      app.use(express.static(frontendDistPath));
      
      app.get('*', (req, res) => {
        res.sendFile(path.join(frontendDistPath, 'index.html'));
      });
    }
    
    // Start server
    app.listen(PORT, () => {
      console.log(`Ô£ø√º√∂√Ñ Server running on port ${PORT}`);
      console.log(`Ô£ø√º√¨¬∞ Frontend URL configured for CORS: ${process.env.FRONTEND_URL || 'http://localhost:3000'}`);
      console.log(`Ô£ø√º√Æ√´ Auth password configured: ${process.env.PASSWORD ? 'Yes' : 'No'}`);
      
      if (!process.env.PASSWORD) {
        console.warn('‚Äö√∂‚Ä†√î‚àè√®  WARNING: PASSWORD is not set in the .env file. Authentication will fail.');
      }
      
      // Log available routes
      console.log('Ô£ø√º√¨√£ Available API endpoints:');
      console.log('   POST /api/auth - Authentication');
      console.log('   POST /api/chat - Chat with AI');
      console.log('   GET  /api/cost - Get session cost');
      console.log('   POST /api/cost - Reset session cost');
      console.log('   POST /api/speech - Transcribe audio');
      console.log('   GET  /api/speech - Get speech stats');
    });
  } catch (error) {
    console.error('‚Äö√π√• Failed to configure routes:', error);
    throw error;
  }
};

// Global error handling middleware (should be last)
app.use((err: any, req: express.Request, res: express.Response, next: express.NextFunction) => {
  console.error('Global error handler:', err.stack);
  res.status(err.status || 500).json({
    message: err.message || 'Something went wrong on the server.',
    error: process.env.NODE_ENV === 'production' ? {} : { message: err.message, stack: err.stack }
  });
});

// Initialize routes and start server
setupRoutes().catch(error => {
  console.error('‚Äö√π√• Failed to start server:', error);
  process.exit(1);
});

export default app;
</file>

</files>


--- FILE: docker-compose.yml (Relevance: 0.58) ---

version: '3.8'

services:
  backend:
    build:
      context: ./backend
      dockerfile: Dockerfile
    ports:
      - "3001:3001"
    environment:
      - NODE_ENV=production
    env_file:
      - .env
    volumes:
      - ./prompts:/app/prompts
    restart: unless-stopped

  frontend:
    build:
      context: ./frontend
      dockerfile: Dockerfile
    ports:
      - "80:80"
    depends_on:
      - backend
    restart: unless-stopped

networks:
  default:
    driver: bridge

--- FILE: confluence_output.json (Relevance: 0.58) ---

[
  {
    "file_path": "/home/victor/Documents/manic/voice-coding-assistant/backend/server.ts",
    "relative_path": "server.ts",
    "file_name": "server.ts",
    "extension": ".ts",
    "size_bytes": 4044,
    "last_modified": "2025-05-22T15:39:02.109524",
    "relevance_score": 0.5697170360346391,
    "similarity_score": 0.5284981975632331,
    "keyword_score": 0.5971962616822429,
    "match_type": "keyword_similarity",
    "matched_keywords": [
      "app"
    ],
    "content_snippet": "dotenv.config({ path: path.resolve(__dirname, '../../.env') });\n\n// Initialize express app\nconst app = express();\nconst PORT = process.env.PORT || 3001;\n\n// Middleware\napp.use(helmet());\napp.use(morgan('dev'));\napp.use(cookieParser());",
    "full_content": "// backend/server.ts\nimport express from 'express';\nimport cors from 'cors';\nimport helmet from 'helmet';\nimport morgan from 'morgan';\nimport path from 'path';\nimport { fileURLToPath } from 'url';\nimport dotenv from 'dotenv';\nimport cookieParser from 'cookie-parser';\nimport { configureRouter } from './config/router.js';\nimport { authMiddleware } from './middleware/auth.js';\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\n// Load environment variables from root directory\ndotenv.config({ path: path.resolve(__dirname, '../../.env') });\n\n// Initialize express app\nconst app = express();\nconst PORT = process.env.PORT || 3001;\n\n// Middleware\napp.use(helmet());\napp.use(morgan('dev'));\napp.use(cookieParser());\napp.use(express.json({ limit: '50mb' }));\napp.use(express.urlencoded({ extended: true, limit: '50mb' }));\n\n// Configure CORS\napp.use(cors({\n  origin: process.env.FRONTEND_URL || 'http://localhost:3000',\n  methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS'],\n  allowedHeaders: ['Content-Type', 'Authorization', 'X-Requested-With'],\n  credentials: true\n}));\n\n// Handle OPTIONS requests for CORS preflight\napp.options('*', cors());\n\n// Health check endpoint (no auth required)\napp.get('/health', (req, res) => {\n  res.status(200).json({ \n    status: 'OK', \n    timestamp: new Date().toISOString(),\n    port: PORT \n  });\n});\n\n// Set up API routes with authentication middleware\nconst setupRoutes = async () => {\n  try {\n    const router = await configureRouter();\n    \n    // All /api routes will go through authMiddleware\n    app.use('/api', authMiddleware, router);\n    \n    // Add a catch-all for unmatched API routes\n    app.use('/api/*', (req, res) => {\n      res.status(404).json({\n        message: `API endpoint not found: ${req.method} ${req.path}`,\n        error: 'ENDPOINT_NOT_FOUND',\n        availableEndpoints: [\n          'POST /api/auth',\n          'POST /api/chat', \n          'GET /api/cost',\n          'POST /api/cost',\n          'POST /api/speech',\n          'GET /api/speech'\n        ]\n      });\n    });\n    \n    // Serve static frontend in production\n    if (process.env.NODE_ENV === 'production') {\n      const frontendDistPath = path.join(__dirname, '../../frontend/dist');\n      app.use(express.static(frontendDistPath));\n      \n      app.get('*', (req, res) => {\n        res.sendFile(path.join(frontendDistPath, 'index.html'));\n      });\n    }\n    \n    // Start server\n    app.listen(PORT, () => {\n      console.log(`Ô£ø√º√∂√Ñ Server running on port ${PORT}`);\n      console.log(`Ô£ø√º√¨¬∞ Frontend URL configured for CORS: ${process.env.FRONTEND_URL || 'http://localhost:3000'}`);\n      console.log(`Ô£ø√º√Æ√´ Auth password configured: ${process.env.PASSWORD ? 'Yes' : 'No'}`);\n      \n      if (!process.env.PASSWORD) {\n        console.warn('‚Äö√∂‚Ä†√î‚àè√®  WARNING: PASSWORD is not set in the .env file. Authentication will fail.');\n      }\n      \n      // Log available routes\n      console.log('Ô£ø√º√¨√£ Available API endpoints:');\n      console.log('   POST /api/auth - Authentication');\n      console.log('   POST /api/chat - Chat with AI');\n      console.log('   GET  /api/cost - Get session cost');\n      console.log('   POST /api/cost - Reset session cost');\n      console.log('   POST /api/speech - Transcribe audio');\n      console.log('   GET  /api/speech - Get speech stats');\n    });\n  } catch (error) {\n    console.error('‚Äö√π√• Failed to configure routes:', error);\n    throw error;\n  }\n};\n\n// Global error handling middleware (should be last)\napp.use((err: any, req: express.Request, res: express.Response, next: express.NextFunction) => {\n  console.error('Global error handler:', err.stack);\n  res.status(err.status || 500).json({\n    message: err.message || 'Something went wrong on the server.',\n    error: process.env.NODE_ENV === 'production' ? {} : { message: err.message, stack: err.stack }\n  });\n});\n\n// Initialize routes and start server\nsetupRoutes().catch(error => {\n  console.error('‚Äö√π√• Failed to start server:', error);\n  process.exit(1);\n});\n\nexport default app;",
    "approx_token_count": 427,
    "full_content_included_in_flat": false,
    "rank": 1
  },
  {
    "file_path": "/home/victor/Documents/manic/voice-coding-assistant/backend/repomix-output.xml",
    "relative_path": "repomix-output.xml",
    "file_name": "repomix-output.xml",
    "extension": ".xml",
    "size_bytes": 55540,
    "last_modified": "2025-05-22T18:06:53.450363",
    "relevance_score": 0.5584903655097035,
    "similarity_score": 0.7382134705255623,
    "keyword_score": 0.4386749621657978,
    "match_type": "keyword_similarity",
    "matched_keywords": [
      "Dockerfile",
      "app"
    ],
    "content_snippet": "  cost.ts\n  llm.ts\nDockerfile\npackage.json\nserver.ts\n    }\n    \n    // Get appropriate model for the mode\n    const modelName = MODEL_PREFERENCES[mode as keyof typeof MODEL_PREFERENCES] || MODEL_PREFERENCES.coding;\n    ",
    "full_content": "This file is a merged representation of the entire codebase, combined into a single document by Repomix.\n\n<file_summary>\nThis section contains a summary of this file.\n\n<purpose>\nThis file contains a packed representation of the entire repository's contents.\nIt is designed to be easily consumable by AI systems for analysis, code review,\nor other automated processes.\n</purpose>\n\n<file_format>\nThe content is organized as follows:\n1. This summary section\n2. Repository information\n3. Directory structure\n4. Repository files (if enabled)\n5. Multiple file entries, each consisting of:\n  - File path as an attribute\n  - Full contents of the file\n</file_format>\n\n<usage_guidelines>\n- This file should be treated as read-only. Any changes should be made to the\n  original repository files, not this packed version.\n- When processing this file, use the file path to distinguish\n  between different files in the repository.\n- Be aware that this file may contain sensitive information. Handle it with\n  the same level of security as you would the original repository.\n</usage_guidelines>\n\n<notes>\n- Some files may have been excluded based on .gitignore rules and Repomix's configuration\n- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files\n- Files matching patterns in .gitignore are excluded\n- Files matching default ignore patterns are excluded\n- Files are sorted by Git change count (files with more changes are at the bottom)\n</notes>\n\n</file_summary>\n\n<directory_structure>\nconfig/\n  auth.ts\n  models.ts\n  router.ts\nmiddleware/\n  auth.ts\nroutes/\n  auth.ts\n  chat.ts\n  cost.ts\n  diagram.ts\n  speech.ts\nutils/\n  audio.ts\n  cost.ts\n  llm.ts\nDockerfile\npackage.json\nserver.ts\n</directory_structure>\n\n<files>\nThis section contains the contents of the repository's files.\n\n<file path=\"config/auth.ts\">\nimport { Request, Response, NextFunction } from 'express';\nimport dotenv from 'dotenv';\n\ndotenv.config();\n\n// Simple password authentication middleware\nexport const authMiddleware = (req: Request, res: Response, next: NextFunction) => {\n  // Skip auth check for login route\n  if (req.path === '/auth') {\n    return next();\n  }\n\n  const authHeader = req.headers.authorization;\n  const password = process.env.PASSWORD;\n\n  if (!password) {\n    console.warn('No password set in environment variables');\n    return next();\n  }\n\n  if (!authHeader || !authHeader.startsWith('Bearer ')) {\n    return res.status(401).json({ message: 'Unauthorized: Missing authentication token' });\n  }\n\n  const token = authHeader.split(' ')[1];\n  \n  if (token !== password) {\n    return res.status(401).json({ message: 'Unauthorized: Invalid authentication token' });\n  }\n\n  next();\n};\n</file>\n\n<file path=\"config/models.ts\">\nimport dotenv from 'dotenv';\n\ndotenv.config();\n\nexport interface ModelConfig {\n  modelName: string;\n  inputCostPer1K: number;\n  outputCostPer1K: number;\n  provider: 'openai' | 'openrouter';\n}\n\n// Model configurations with pricing information\nexport const MODEL_CONFIGS: Record<string, ModelConfig> = {\n  'gpt-4o': {\n    modelName: 'gpt-4o',\n    inputCostPer1K: 0.5,\n    outputCostPer1K: 1.5,\n    provider: 'openai'\n  },\n  'gpt-4o-mini': {\n    modelName: 'gpt-4o-mini',\n    inputCostPer1K: 0.15,\n    outputCostPer1K: 0.6,\n    provider: 'openai'\n  },\n  'gpt-3.5-turbo': {\n    modelName: 'gpt-3.5-turbo',\n    inputCostPer1K: 0.0015,\n    outputCostPer1K: 0.002,\n    provider: 'openai'\n  },\n  'claude-3-opus-20240229': {\n    modelName: 'claude-3-opus-20240229',\n    inputCostPer1K: 15,\n    outputCostPer1K: 75,\n    provider: 'openrouter'\n  },\n  'claude-3-sonnet-20240229': {\n    modelName: 'claude-3-sonnet-20240229',\n    inputCostPer1K: 3,\n    outputCostPer1K: 15,\n    provider: 'openrouter'\n  }\n};\n\n// Available models by mode\nexport const MODEL_PREFERENCES = {\n  coding: process.env.MODEL_PREF_CODING || 'gpt-4o',\n  system_design: process.env.MODEL_PREF_SYSTEM_DESIGN || 'gpt-4o',\n  meeting: process.env.MODEL_PREF_SUMMARY || 'gpt-4o-mini'\n};\n\nexport const DEFAULT_LANGUAGE = process.env.DEFAULT_LANGUAGE || 'python';\nexport const TOKEN_LIMIT = parseInt(process.env.TOKEN_LIMIT || '4000', 10);\nexport const COST_THRESHOLD = parseFloat(process.env.COST_THRESHOLD || '5.0');\n</file>\n\n<file path=\"config/router.ts\">\nimport { Router, Request, Response } from 'express';\nimport fs from 'fs';\nimport path from 'path';\nimport { fileURLToPath } from 'url';\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\nexport async function configureRouter(): Promise<Router> {\n  const router = Router();\n  const routesDir = path.join(__dirname, '../routes');\n\n  console.log('√î¬£√∏‚àö¬∫‚àö√Ü‚àö√º Configuring routes from:', routesDir);\n\n  try {\n    // Check if routes directory exists\n    if (!fs.existsSync(routesDir)) {\n      console.error('‚Äö√Ñ√∂‚àöœÄ‚àö‚Ä¢ Routes directory does not exist:', routesDir);\n      return router;\n    }\n\n    // Read all route files\n    const routeFiles = fs.readdirSync(routesDir);\n    console.log('√î¬£√∏‚àö¬∫‚àö¬®‚àö√ñ Found route files:', routeFiles);\n    \n    for (const file of routeFiles) {\n      if (file.endsWith('.ts') || file.endsWith('.js')) {\n        const routePath = `../routes/${file}`;\n        const routeName = file.replace(/\\.(ts|js)$/, '');\n        \n        try {\n          console.log(`√î¬£√∏‚àö¬∫‚àö√Ü‚àö√´ Loading route: ${routeName} from ${routePath}`);\n          \n          // Import route dynamically\n          const routeModule = await import(routePath);\n          \n          // Log what we found in the module\n          console.log(`√î¬£√∏‚àö¬∫‚àö¬®‚àö¬£ Route ${routeName} exports:`, Object.keys(routeModule));\n          \n          // Register HTTP methods if they exist in the module\n          const methods = ['GET', 'POST', 'PUT', 'DELETE', 'PATCH'];\n          let registeredCount = 0;\n          \n          methods.forEach(method => {\n            if (typeof routeModule[method] === 'function') {\n              const routeHandler = async (req: Request, res: Response) => {\n                try {\n                  console.log(`√î¬£√∏‚àö¬∫‚àö¬®¬¨√Ü Handling ${method} /${routeName}`);\n                  await routeModule[method](req, res);\n                } catch (error) {\n                  console.error(`‚Äö√Ñ√∂‚àöœÄ‚àö‚Ä¢ Error in ${method} /${routeName}:`, error);\n                  res.status(500).json({\n                    message: 'Internal server error',\n                    error: process.env.NODE_ENV === 'production' ? undefined : (error as Error).message\n                  });\n                }\n              };\n\n              // Use explicit method calls instead of dynamic access\n              switch (method.toLowerCase()) {\n                case 'get':\n                  router.get(`/${routeName}`, routeHandler);\n                  break;\n                case 'post':\n                  router.post(`/${routeName}`, routeHandler);\n                  break;\n                case 'put':\n                  router.put(`/${routeName}`, routeHandler);\n                  break;\n                case 'delete':\n                  router.delete(`/${routeName}`, routeHandler);\n                  break;\n                case 'patch':\n                  router.patch(`/${routeName}`, routeHandler);\n                  break;\n                default:\n                  console.warn(`‚Äö√Ñ√∂‚àö‚àÇ‚Äö√Ñ‚Ä†‚àö√Æ‚Äö√†√®‚àö¬Æ  Unsupported HTTP method: ${method}`);\n                  return; // Use return instead of continue in forEach\n              }\n              \n              registeredCount++;\n              console.log(`‚Äö√Ñ√∂‚àö‚à´‚àö√± Registered route: ${method} /api/${routeName}`);\n            }\n          });\n\n          if (registeredCount === 0) {\n            console.warn(`‚Äö√Ñ√∂‚àö‚àÇ‚Äö√Ñ‚Ä†‚àö√Æ‚Äö√†√®‚àö¬Æ  No HTTP methods found in ${routeName} route module`);\n          }\n\n        } catch (error) {\n          console.error(`‚Äö√Ñ√∂‚àöœÄ‚àö‚Ä¢ Error loading route ${file}:`, error);\n        }\n      }\n    }\n\n    // Add a test route to verify the router is working\n    router.get('/test', (req: Request, res: Response) => {\n      res.json({ \n        message: 'Router is working!', \n        timestamp: new Date().toISOString(),\n        availableRoutes: routeFiles\n      });\n    });\n    console.log('‚Äö√Ñ√∂‚àö‚à´‚àö√± Added test route: GET /api/test');\n\n  } catch (error) {\n    console.error('‚Äö√Ñ√∂‚àöœÄ‚àö‚Ä¢ Error setting up routes:', error);\n  }\n\n  return router;\n}\n</file>\n\n<file path=\"middleware/auth.ts\">\n// backend/middleware/auth.ts\nimport { Request, Response, NextFunction } from 'express';\nimport dotenv from 'dotenv';\nimport path from 'path';\nimport { fileURLToPath } from 'url';\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\n// Load .env variables from the root of the project\ndotenv.config({ path: path.resolve(__dirname, '../../../.env') });\n\n/**\n * Authentication middleware for Express routes\n * Validates Bearer tokens and auth cookies\n */\nexport const authMiddleware = (req: Request, res: Response, next: NextFunction) => {\n  // Skip auth check for the auth route itself\n  if (req.path === '/auth') {\n    return next();\n  }\n\n  const authHeader = req.headers.authorization;\n  const authCookie = req.cookies?.auth; \n  const password = process.env.PASSWORD;\n\n  if (!password) {\n    console.error('SERVER ERROR: Authentication password is not set in environment variables. Denying access.');\n    return res.status(500).json({ \n      message: 'Server configuration error: Authentication not configured.',\n      error: 'AUTH_NOT_CONFIGURED'\n    });\n  }\n\n  // Check Bearer token first (more common for API clients)\n  if (authHeader && authHeader.startsWith('Bearer ')) {\n    const token = authHeader.split(' ')[1];\n    if (token === password) {\n      // Add user info to request for downstream use\n      (req as any).user = { authenticated: true, id: 'default_user' };\n      return next(); // Authenticated\n    }\n  }\n\n  // Check cookie as fallback (more common for browser sessions after login)\n  if (authCookie && authCookie === password) {\n    // Add user info to request for downstream use\n    (req as any).user = { authenticated: true, id: 'default_user' };\n    return next(); // Authenticated\n  }\n  \n  // Log unauthorized attempts for debugging\n  console.warn(`Unauthorized access attempt to ${req.method} ${req.path}. IP: ${req.ip}`);\n  \n  return res.status(401).json({ \n    message: 'Unauthorized: Authentication required',\n    error: 'AUTHENTICATION_REQUIRED'\n  });\n};\n</file>\n\n<file path=\"routes/auth.ts\">\n// backend/routes/auth.ts\nimport { Request, Response } from 'express';\nimport dotenv from 'dotenv';\n\ndotenv.config();\n\n/**\n * Handle POST /api/auth - User authentication\n * @param req - Express request object\n * @param res - Express response object\n */\nexport async function POST(req: Request, res: Response): Promise<void> {\n  try {\n    const { password, rememberMe = false } = req.body;\n    const correctPassword = process.env.PASSWORD;\n\n    if (!correctPassword) {\n      console.error('Server configuration error: PASSWORD not set in environment');\n      res.status(500).json({\n        message: 'Server configuration error',\n        error: 'AUTH_NOT_CONFIGURED'\n      });\n      return;\n    }\n\n    if (!password) {\n      res.status(400).json({\n        message: 'Password is required',\n        error: 'MISSING_PASSWORD'\n      });\n      return;\n    }\n\n    if (password !== correctPassword) {\n      res.status(401).json({\n        message: 'Invalid password',\n        error: 'INVALID_CREDENTIALS'\n      });\n      return;\n    }\n\n    // Successful authentication\n    const token = correctPassword; // Using password as token for simplicity\n    \n    // Set cookie if remember me is selected\n    if (rememberMe) {\n      res.cookie('auth', token, {\n        httpOnly: true,\n        secure: process.env.NODE_ENV === 'production',\n        maxAge: 30 * 24 * 60 * 60 * 1000, // 30 days\n        sameSite: 'strict'\n      });\n    }\n\n    res.status(200).json({\n      message: 'Authentication successful',\n      token: token,\n      rememberMe: rememberMe,\n      user: {\n        authenticated: true,\n        id: 'default_user'\n      }\n    });\n\n  } catch (error) {\n    console.error('Auth endpoint error:', error);\n    res.status(500).json({\n      message: 'Internal server error during authentication',\n      error: process.env.NODE_ENV === 'production' ? 'INTERNAL_ERROR' : (error as Error).message\n    });\n  }\n}\n\n/**\n * Handle GET /api/auth - Check authentication status\n * @param req - Express request object  \n * @param res - Express response object\n */\nexport async function GET(req: Request, res: Response): Promise<void> {\n  try {\n    // If we reach here, the auth middleware has already validated the token\n    const user = (req as any).user || { authenticated: true, id: 'default_user' };\n    \n    res.status(200).json({\n      message: 'Authenticated',\n      authenticated: true,\n      user: user\n    });\n  } catch (error) {\n    console.error('Auth status check error:', error);\n    res.status(500).json({\n      message: 'Error checking authentication status',\n      error: process.env.NODE_ENV === 'production' ? 'INTERNAL_ERROR' : (error as Error).message\n    });\n  }\n}\n</file>\n\n<file path=\"routes/chat.ts\">\n// backend/routes/chat.ts\nimport { Request, Response } from 'express';\nimport { callOpenAI } from '../utils/llm.js';\nimport { trackCost, getSessionCost, isThresholdReached } from '../utils/cost.js';\nimport { MODEL_PREFERENCES } from '../config/models.js';\nimport fs from 'fs';\nimport path from 'path';\nimport { fileURLToPath } from 'url';\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\n// Load prompt templates\nfunction loadPromptTemplate(templateName: string): string {\n  try {\n    const promptPath = path.join(__dirname, '../../prompts', `${templateName}.md`);\n    return fs.readFileSync(promptPath, 'utf-8');\n  } catch (error) {\n    console.error(`Error loading prompt template ${templateName}:`, error);\n    return ''; // Return empty string if template not found\n  }\n}\n\n/**\n * Handle POST /api/chat - Process chat messages\n * @param req - Express request object\n * @param res - Express response object\n */\nexport async function POST(req: Request, res: Response): Promise<void> {\n  try {\n    const { mode, messages, language = 'python', generateDiagram = false, userId = 'default_user' } = req.body;\n    \n    // Validate required fields\n    if (!messages || !Array.isArray(messages) || messages.length === 0) {\n      res.status(400).json({\n        message: 'Messages array is required and cannot be empty',\n        error: 'INVALID_MESSAGES'\n      });\n      return;\n    }\n    \n    // Check if cost threshold reached\n    if (isThresholdReached(userId)) {\n      const currentCost = getSessionCost(userId);\n      res.status(403).json({\n        message: 'Session cost threshold reached',\n        error: 'COST_THRESHOLD_EXCEEDED',\n        currentCost: currentCost.totalCost,\n        threshold: process.env.COST_THRESHOLD || '20.00'\n      });\n      return;\n    }\n    \n    // Get appropriate model for the mode\n    const modelName = MODEL_PREFERENCES[mode as keyof typeof MODEL_PREFERENCES] || MODEL_PREFERENCES.coding;\n    \n    // Load appropriate prompt template\n    const templateContent = loadPromptTemplate(mode || 'coding');\n    \n    // Replace placeholders in template\n    const processedTemplate = templateContent\n      .replace(/{{language}}/g, language)\n      .replace(/{{generateDiagram}}/g, generateDiagram ? 'true' : 'false');\n    \n    // Prepare messages for API call\n    const systemMessage = {\n      role: 'system',\n      content: processedTemplate || `You are a helpful assistant specializing in ${mode || 'coding'} questions. Please provide clear, detailed responses in ${language}.`\n    };\n    \n    const apiMessages = [systemMessage, ...messages];\n    \n    console.log(`Processing chat request - Mode: ${mode}, Model: ${modelName}, User: ${userId}`);\n    \n    // Call LLM API\n    const response = await callOpenAI(apiMessages, modelName);\n    \n    // Track cost if usage information is available\n    if (response.usage) {\n      const { prompt_tokens, completion_tokens } = response.usage;\n      const sessionCost = trackCost(\n        userId,\n        modelName,\n        prompt_tokens || 0,\n        completion_tokens || 0\n      );\n      \n      // Return response with cost information\n      res.status(200).json({\n        message: response.text,\n        model: response.model,\n        usage: response.usage,\n        sessionCost,\n        cost: {\n          prompt_tokens: prompt_tokens || 0,\n          completion_tokens: completion_tokens || 0,\n          total_tokens: (prompt_tokens || 0) + (completion_tokens || 0)\n        }\n      });\n      return;\n    }\n    \n    // Return response without detailed cost tracking\n    const sessionCostDetail = getSessionCost(userId);\n    res.status(200).json({\n      message: response.text,\n      model: response.model,\n      sessionCost: sessionCostDetail.totalCost\n    });\n    \n  } catch (error) {\n    console.error('Error in chat endpoint:', error);\n    \n    // Provide more specific error messages\n    let errorMessage = 'Error processing chat request';\n    let statusCode = 500;\n    \n    if (error instanceof Error) {\n      if (error.message.includes('API key')) {\n        errorMessage = 'AI service configuration error';\n        statusCode = 503;\n      } else if (error.message.includes('rate limit')) {\n        errorMessage = 'AI service rate limit exceeded. Please try again later.';\n        statusCode = 429;\n      } else if (error.message.includes('timeout')) {\n        errorMessage = 'Request timeout. Please try again.';\n        statusCode = 408;\n      }\n    }\n    \n    res.status(statusCode).json({\n      message: errorMessage,\n      error: process.env.NODE_ENV === 'production' ? 'CHAT_ERROR' : (error as Error).message\n    });\n  }\n}\n</file>\n\n<file path=\"routes/cost.ts\">\n// backend/utils/cost.ts\nimport dotenv from 'dotenv';\nimport path from 'path';\nimport { fileURLToPath } from 'url';\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\n// Load environment variables from root directory\ndotenv.config({ path: path.resolve(__dirname, '../../../.env') });\n\n// Model cost configurations (since models.js is missing)\nconst MODEL_CONFIGS: Record<string, { inputCostPer1K: number; outputCostPer1K: number; contextWindow: number }> = {\n  'gpt-4o': { inputCostPer1K: 0.005, outputCostPer1K: 0.015, contextWindow: 128000 },\n  'gpt-4o-mini': { inputCostPer1K: 0.00015, outputCostPer1K: 0.0006, contextWindow: 128000 },\n  'gpt-4': { inputCostPer1K: 0.03, outputCostPer1K: 0.06, contextWindow: 8192 },\n  'gpt-3.5-turbo': { inputCostPer1K: 0.001, outputCostPer1K: 0.002, contextWindow: 4096 },\n};\n\nconst COST_THRESHOLD = parseFloat(process.env.COST_THRESHOLD || '20.00');\nconst WHISPER_COST_PER_MINUTE = 0.006;\n\nexport interface SessionCostDetail {\n  totalCost: number;\n  whisperCost: number;\n  llmCost: number;\n  lastUpdated: number;\n  interactions: number;\n}\n\n// In-memory store for session costs\nconst sessionCosts = new Map<string, SessionCostDetail>();\n\n/**\n * Initialize session cost data for a user\n */\nfunction initializeSessionCost(userId: string): SessionCostDetail {\n  if (!sessionCosts.has(userId)) {\n    sessionCosts.set(userId, {\n      totalCost: 0,\n      whisperCost: 0,\n      llmCost: 0,\n      lastUpdated: Date.now(),\n      interactions: 0,\n    });\n  }\n  return sessionCosts.get(userId)!;\n}\n\n/**\n * Track cost for LLM calls\n * @param userId - User identifier\n * @param modelName - Name of the model used\n * @param promptTokens - Number of input tokens\n * @param completionTokens - Number of output tokens\n * @returns Total session cost\n */\nexport function trackCost(\n  userId: string,\n  modelName: string,\n  promptTokens: number,\n  completionTokens: number\n): number {\n  const session = initializeSessionCost(userId);\n  const modelConfig = MODEL_CONFIGS[modelName] || MODEL_CONFIGS['gpt-4o'];\n\n  let cost = 0;\n  if (modelConfig) {\n    const inputCost = (promptTokens / 1000) * modelConfig.inputCostPer1K;\n    const outputCost = (completionTokens / 1000) * modelConfig.outputCostPer1K;\n    cost = inputCost + outputCost;\n  } else {\n    console.warn(`Cost configuration for model ${modelName} not found. Using default calculation.`);\n    cost = ((promptTokens + completionTokens) / 1000) * 0.01;\n  }\n  \n  session.llmCost += cost;\n  session.totalCost += cost;\n  session.interactions += 1;\n  session.lastUpdated = Date.now();\n  \n  console.log(`LLM Cost for ${modelName} (User: ${userId}): $${cost.toFixed(6)}. Session total: $${session.totalCost.toFixed(6)}`);\n  return session.totalCost;\n}\n\n/**\n * Track cost for LLM calls (alias for trackCost for compatibility)\n */\nexport const trackLlmCost = trackCost;\n\n/**\n * Track cost for Whisper transcription\n * @param userId - User identifier  \n * @param durationMinutes - Duration of audio in minutes\n * @returns Total session cost\n */\nexport function trackWhisperCost(\n  userId: string,\n  durationMinutes: number\n): number {\n  const session = initializeSessionCost(userId);\n  // Whisper bills for a minimum of 0.01 minutes\n  const billableMinutes = Math.max(durationMinutes, 0.01);\n  const cost = billableMinutes * WHISPER_COST_PER_MINUTE;\n  \n  session.whisperCost += cost;\n  session.totalCost += cost;\n  session.interactions += 1;\n  session.lastUpdated = Date.now();\n  \n  console.log(`Whisper Cost (User: ${userId}): $${cost.toFixed(6)} for ${durationMinutes.toFixed(2)} min. Session total: $${session.totalCost.toFixed(6)}`);\n  return session.totalCost;\n}\n\n/**\n * Alternative name for trackWhisperCost for compatibility\n */\nexport const trackWhisperServiceCost = trackWhisperCost;\n\n/**\n * Get current session cost details\n * @param userId - User identifier\n * @returns Session cost details\n */\nexport function getSessionCost(userId: string): SessionCostDetail {\n  return initializeSessionCost(userId);\n}\n\n/**\n * Check if cost threshold has been reached\n * @param userId - User identifier  \n * @returns True if threshold reached\n */\nexport function isThresholdReached(userId: string): boolean {\n  const session = sessionCosts.get(userId);\n  return session ? session.totalCost >= COST_THRESHOLD : false;\n}\n\n/**\n * Reset session cost for a user\n * @param userId - User identifier\n * @returns New session cost details\n */\nexport function resetSessionCost(userId: string): SessionCostDetail {\n  console.log(`Resetting session cost for user: ${userId}`);\n  sessionCosts.set(userId, {\n    totalCost: 0,\n    whisperCost: 0,\n    llmCost: 0,\n    lastUpdated: Date.now(),\n    interactions: 0,\n  });\n  return sessionCosts.get(userId)!;\n}\n\n// Clean up old sessions periodically (24 hours of inactivity)\nsetInterval(() => {\n  const now = Date.now();\n  for (const [userId, session] of sessionCosts.entries()) {\n    if (now - session.lastUpdated > 24 * 60 * 60 * 1000) {\n      sessionCosts.delete(userId);\n      console.log(`Cleaned up inactive session for user: ${userId}`);\n    }\n  }\n}, 60 * 60 * 1000); // Check every hour\n</file>\n\n<file path=\"routes/diagram.ts\">\nimport { Request, Response } from 'express';\nimport { callOpenAI } from '../utils/llm.js';\nimport { trackCost, getSessionCost, isThresholdReached } from '../utils/cost.js';\n\n// Generate diagrams from text descriptions\nexport async function POST(req: Request, res: Response) {\n  try {\n    const { description, type = 'mermaid', userId = 'default' } = req.body;\n    \n    // Check if cost threshold reached\n    if (isThresholdReached(userId)) {\n      return res.status(403).json({\n        message: 'Session cost threshold reached',\n        currentCost: getSessionCost(userId)\n      });\n    }\n    \n    // Create a prompt to generate the diagram\n    const diagramPrompt = [\n      {\n        role: 'system',\n        content: `You are a diagram generator. The user will provide a description of a diagram they want to create. Generate a valid ${type} syntax that correctly represents their description. Only return the diagram code without any explanations or markdown formatting.`\n      },\n      {\n        role: 'user',\n        content: description\n      }\n    ];\n    \n    // Call LLM API to generate diagram code\n    const response = await callOpenAI(diagramPrompt, 'gpt-4o');\n    \n    // Extract the diagram code from the response\n    let diagramCode = response.text;\n    \n    // Clean up the diagram code (remove markdown code fences if present)\n    diagramCode = diagramCode.replace(/```(?:mermaid|plantuml|graphviz)?\\n/g, '');\n    diagramCode = diagramCode.replace(/```$/g, '');\n    \n    // Track cost\n    if (response.usage) {\n      const { prompt_tokens, completion_tokens } = response.usage;\n      const sessionCost = trackCost(\n        userId,\n        'gpt-4o',\n        prompt_tokens || 0,\n        completion_tokens || 0\n      );\n      \n      // Return response with cost information\n      return res.status(200).json({\n        diagramCode,\n        type,\n        usage: response.usage,\n        sessionCost\n      });\n    }\n    \n    return res.status(200).json({\n      diagramCode,\n      type,\n      sessionCost: getSessionCost(userId)\n    });\n  } catch (error) {\n    console.error('Error in diagram endpoint:', error);\n    return res.status(500).json({\n      message: 'Error generating diagram',\n      error: (error as Error).message\n    });\n  }\n}\n</file>\n\n<file path=\"routes/speech.ts\">\nimport { Request, Response } from 'express';\nimport multer from 'multer';\nimport { transcribeWithWhisper, analyzeAudioForCost, AudioCostUtils } from '../utils/audio.js';\nimport { getSessionCost, isThresholdReached } from '../utils/cost.js';\nimport fs from 'fs';\nimport path from 'path';\nimport { fileURLToPath } from 'url';\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\n// Configure multer for memory storage with size limits\nconst storage = multer.memoryStorage();\nconst upload = multer({ \n  storage,\n  limits: { \n    fileSize: 25 * 1024 * 1024, // 25MB limit (Whisper API limit)\n    files: 1 // Only one file at a time\n  },\n  fileFilter: (req, file, cb) => {\n    // Check file type\n    const allowedTypes = [\n      'audio/webm',\n      'audio/mp3',\n      'audio/mpeg',\n      'audio/mp4',\n      'audio/m4a',\n      'audio/wav',\n      'audio/flac',\n      'audio/ogg'\n    ];\n    \n    if (allowedTypes.includes(file.mimetype) || file.originalname.match(/\\.(webm|mp3|mp4|m4a|wav|flac|ogg)$/i)) {\n      cb(null, true);\n    } else {\n      cb(new Error('Invalid file type. Supported formats: WebM, MP3, MP4, M4A, WAV, FLAC, OGG'));\n    }\n  }\n});\n\n// Handle audio transcription with Whisper\nexport async function POST(req: Request, res: Response) {\n  try {\n    // Use multer to handle the file upload\n    upload.single('audio')(req, res, async (err) => {\n      if (err) {\n        console.error('File upload error:', err);\n        \n        if (err instanceof multer.MulterError) {\n          if (err.code === 'LIMIT_FILE_SIZE') {\n            return res.status(400).json({ \n              message: 'Audio file too large. Maximum size is 25MB.',\n              error: 'FILE_TOO_LARGE',\n              maxSize: '25MB'\n            });\n          }\n          if (err.code === 'LIMIT_FILE_COUNT') {\n            return res.status(400).json({ \n              message: 'Too many files. Please upload one audio file at a time.',\n              error: 'TOO_MANY_FILES'\n            });\n          }\n        }\n        \n        return res.status(400).json({ \n          message: err.message || 'File upload error', \n          error: 'UPLOAD_ERROR' \n        });\n      }\n      \n      if (!req.file) {\n        return res.status(400).json({ \n          message: 'No audio file provided',\n          error: 'NO_FILE'\n        });\n      }\n      \n      // Get user ID from request (could be from auth middleware)\n      const userId = (req as any).userId || req.body.userId || 'default';\n      \n      try {\n        // Check cost threshold before processing\n        if (isThresholdReached(userId)) {\n          const currentCost = getSessionCost(userId);\n          return res.status(403).json({\n            message: 'Session cost threshold reached',\n            error: 'COST_THRESHOLD_EXCEEDED',\n            currentCost,\n            threshold: process.env.COST_THRESHOLD || '20.00'\n          });\n        }\n        \n        // Analyze audio for cost estimation\n        const analysis = await analyzeAudioForCost(req.file.buffer);\n        \n        console.log(`Audio analysis - Size: ${analysis.fileSize} bytes, Duration: ~${analysis.duration.toFixed(1)}s, Estimated cost: ${AudioCostUtils.formatCost(analysis.estimatedCost)}`);\n        \n        // Log recommendations if any\n        if (analysis.recommendations.length > 0) {\n          console.log('Audio recommendations:', analysis.recommendations);\n        }\n        \n        // Transcribe the audio using Whisper with cost tracking\n        const result = await transcribeWithWhisper(req.file.buffer, userId);\n        \n        // Get updated session cost\n        const sessionCost = getSessionCost(userId);\n        \n        // Prepare response\n        const response = {\n          message: 'Audio transcribed successfully',\n          transcription: result.transcription,\n          duration: result.duration,\n          cost: result.cost,\n          sessionCost,\n          usage: {\n            durationMinutes: result.usage.durationMinutes,\n            costPerMinute: result.usage.costPerMinute,\n            totalCost: result.cost\n          },\n          analysis: {\n            fileSize: analysis.fileSize,\n            isOptimal: analysis.isOptimal,\n            recommendations: analysis.recommendations\n          },\n          metadata: {\n            originalFilename: req.file.originalname,\n            mimeType: req.file.mimetype,\n            processingTime: Date.now() - Date.now() // This would be calculated properly in a real implementation\n          }\n        };\n        \n        // Add warnings if cost is getting high\n        if (sessionCost > 1.0) {\n          response.warning = {\n            message: 'Session cost is getting high',\n            currentCost: sessionCost,\n            threshold: parseFloat(process.env.COST_THRESHOLD || '20.00')\n          };\n        }\n        \n        return res.status(200).json(response);\n        \n      } catch (transcriptionError) {\n        console.error('Transcription error:', transcriptionError);\n        \n        // Provide specific error messages\n        let errorMessage = 'Error transcribing audio';\n        let errorCode = 'TRANSCRIPTION_ERROR';\n        \n        if (transcriptionError instanceof Error) {\n          const errorMsg = transcriptionError.message.toLowerCase();\n          \n          if (errorMsg.includes('api key')) {\n            errorMessage = 'OpenAI API key not configured properly';\n            errorCode = 'API_KEY_ERROR';\n          } else if (errorMsg.includes('file format') || errorMsg.includes('unsupported')) {\n            errorMessage = 'Unsupported audio format';\n            errorCode = 'UNSUPPORTED_FORMAT';\n          } else if (errorMsg.includes('too short')) {\n            errorMessage = 'Audio too short for transcription';\n            errorCode = 'AUDIO_TOO_SHORT';\n          } else if (errorMsg.includes('too large')) {\n            errorMessage = 'Audio file too large';\n            errorCode = 'AUDIO_TOO_LARGE';\n          } else if (errorMsg.includes('rate limit')) {\n            errorMessage = 'Rate limit exceeded. Please try again in a moment.';\n            errorCode = 'RATE_LIMIT_ERROR';\n          } else if (errorMsg.includes('quota')) {\n            errorMessage = 'API quota exceeded. Please check your billing.';\n            errorCode = 'QUOTA_EXCEEDED';\n          } else {\n            errorMessage = transcriptionError.message;\n          }\n        }\n        \n        return res.status(500).json({\n          message: errorMessage,\n          error: errorCode,\n          details: process.env.NODE_ENV === 'development' ? transcriptionError : undefined\n        });\n      }\n    });\n  } catch (error) {\n    console.error('Speech endpoint error:', error);\n    return res.status(500).json({\n      message: 'Error processing speech request',\n      error: 'INTERNAL_ERROR',\n      details: process.env.NODE_ENV === 'development' ? error : undefined\n    });\n  }\n}\n\n// GET endpoint for retrieving speech processing statistics\nexport async function GET(req: Request, res: Response) {\n  try {\n    const userId = req.query.userId as string || 'default';\n    \n    const sessionCost = getSessionCost(userId);\n    const costThreshold = parseFloat(process.env.COST_THRESHOLD || '20.00');\n    \n    return res.status(200).json({\n      message: 'Speech processing statistics',\n      userId,\n      sessionCost,\n      costThreshold,\n      whisperPricing: {\n        costPerMinute: AudioCostUtils.WHISPER_COST_PER_MINUTE,\n        maxFileSize: AudioCostUtils.MAX_FILE_SIZE,\n        minDuration: AudioCostUtils.MIN_AUDIO_DURATION\n      },\n      supportedFormats: [\n        'audio/webm',\n        'audio/mp3',\n        'audio/mpeg',\n        'audio/mp4',\n        'audio/m4a',\n        'audio/wav',\n        'audio/flac',\n        'audio/ogg'\n      ],\n      limits: {\n        maxFileSize: '25MB',\n        maxDuration: '10 minutes (recommended)',\n        minDuration: '0.1 seconds'\n      }\n    });\n  } catch (error) {\n    console.error('Error retrieving speech statistics:', error);\n    return res.status(500).json({\n      message: 'Error retrieving speech statistics',\n      error: 'INTERNAL_ERROR'\n    });\n  }\n}\n</file>\n\n<file path=\"utils/audio.ts\">\nimport fs from 'fs';\nimport path from 'path';\nimport { promisify } from 'util';\nimport OpenAI from 'openai';\nimport dotenv from 'dotenv';\nimport { trackWhisperCost } from './cost.js';\n\ndotenv.config();\n\nconst openai = new OpenAI({\n  apiKey: process.env.OPENAI_API_KEY\n});\n\n// Audio processing constants\nconst WHISPER_COST_PER_MINUTE = 0.006; // $0.006 per minute (accurate as of 2025)\nconst MAX_FILE_SIZE = 25 * 1024 * 1024; // 25MB Whisper limit\nconst MIN_AUDIO_DURATION = 0.1; // 100ms minimum\n\n// Define AudioBuffer interface for Node.js environment\ninterface AudioBuffer {\n  sampleRate: number;\n  length: number;\n  duration: number;\n  numberOfChannels: number;\n  getChannelData(channel: number): Float32Array;\n}\n\ninterface AudioAnalysisResult {\n  duration: number;\n  estimatedCost: number;\n  fileSize: number;\n  isOptimal: boolean;\n  recommendations: string[];\n}\n\ninterface TranscriptionResult {\n  transcription: string;\n  duration: number;\n  cost: number;\n  usage: {\n    durationMinutes: number;\n    costPerMinute: number;\n  };\n}\n\n/**\n * Analyze audio buffer/blob for cost estimation and optimization\n */\nexport async function analyzeAudioForCost(audioBuffer: Buffer): Promise<AudioAnalysisResult> {\n  const fileSize = audioBuffer.length;\n  const recommendations: string[] = [];\n  \n  // Check file size\n  if (fileSize > MAX_FILE_SIZE) {\n    throw new Error(`Audio file too large: ${(fileSize / 1024 / 1024).toFixed(1)}MB (limit: 25MB)`);\n  }\n  \n  // Estimate duration from file size (rough estimation)\n  // For WebM/MP3 audio, roughly 1MB = 1-2 minutes depending on quality\n  const estimatedDurationMinutes = Math.max(0.01, (fileSize / (1024 * 1024)) * 1.5);\n  const estimatedCost = estimatedDurationMinutes * WHISPER_COST_PER_MINUTE;\n  \n  // Generate recommendations\n  if (fileSize < 10 * 1024) { // Less than 10KB\n    recommendations.push('Audio file very small - may be too short for meaningful transcription');\n  }\n  \n  if (estimatedDurationMinutes > 10) { // Over 10 minutes\n    recommendations.push('Consider breaking long audio into smaller chunks for better processing');\n  }\n  \n  if (fileSize > 10 * 1024 * 1024) { // Over 10MB\n    recommendations.push('Large file detected - consider audio compression to reduce costs');\n  }\n  \n  return {\n    duration: estimatedDurationMinutes * 60, // Convert to seconds\n    estimatedCost: Math.round(estimatedCost * 10000) / 10000, // Round to 4 decimal places\n    fileSize,\n    isOptimal: fileSize > 10 * 1024 && fileSize < 5 * 1024 * 1024, // 10KB - 5MB is optimal\n    recommendations\n  };\n}\n\n/**\n * Get accurate audio duration from file\n */\nexport async function getAudioDuration(audioBuffer: Buffer): Promise<number> {\n  // For now, use the estimation method\n  // In a production environment, you might want to use ffprobe or similar\n  const analysis = await analyzeAudioForCost(audioBuffer);\n  return analysis.duration;\n}\n\n/**\n * Enhanced transcription with cost tracking and optimization\n */\nexport async function transcribeWithWhisper(audioBuffer: Buffer, userId: string = 'default'): Promise<TranscriptionResult> {\n  try {\n    // Analyze audio first\n    const analysis = await analyzeAudioForCost(audioBuffer);\n    \n    // Check minimum duration\n    if (analysis.duration < MIN_AUDIO_DURATION) {\n      throw new Error(`Audio too short: ${analysis.duration.toFixed(1)}s (minimum: ${MIN_AUDIO_DURATION}s)`);\n    }\n    \n    // Create temporary file\n    const tmpDir = path.join(process.cwd(), 'tmp');\n    if (!fs.existsSync(tmpDir)) {\n      fs.mkdirSync(tmpDir, { recursive: true });\n    }\n    \n    const tempFilePath = path.join(tmpDir, `audio-${userId}-${Date.now()}.webm`);\n    await promisify(fs.writeFile)(tempFilePath, audioBuffer);\n    \n    // Create readable stream\n    const audioFile = fs.createReadStream(tempFilePath);\n    \n    // Enhance the file object with additional metadata\n    (audioFile as any).originalname = path.basename(tempFilePath);\n    \n    console.log(`Transcribing audio: ${analysis.fileSize} bytes, ~${analysis.duration.toFixed(1)}s, estimated cost: $${analysis.estimatedCost.toFixed(4)}`);\n    \n    // Call Whisper API with optimized settings\n    const startTime = Date.now();\n    const transcription = await openai.audio.transcriptions.create({\n      file: audioFile,\n      model: 'whisper-1',\n      language: 'en', // Specify language for better accuracy and speed\n      response_format: 'verbose_json', // Get additional metadata\n      temperature: 0.1, // Lower temperature for more consistent results\n    });\n    \n    const processingTime = Date.now() - startTime;\n    \n    // Clean up temporary file\n    await promisify(fs.unlink)(tempFilePath).catch(console.error);\n    \n    // Get actual duration from Whisper response if available\n    const actualDuration = (transcription as any).duration || analysis.duration;\n    const actualDurationMinutes = Math.max(0.01, actualDuration / 60); // Whisper bills minimum 0.01 minutes\n    const actualCost = actualDurationMinutes * WHISPER_COST_PER_MINUTE;\n    \n    // Track cost in backend\n    const sessionCost = trackWhisperCost(userId, actualDurationMinutes, actualCost);\n    \n    console.log(`Transcription completed in ${processingTime}ms. Duration: ${actualDuration.toFixed(1)}s, Cost: $${actualCost.toFixed(4)}, Session total: $${sessionCost.toFixed(4)}`);\n    \n    // Log recommendations if any\n    if (analysis.recommendations.length > 0) {\n      console.log('Audio optimization recommendations:', analysis.recommendations);\n    }\n    \n    return {\n      transcription: typeof transcription === 'string' ? transcription : transcription.text,\n      duration: actualDuration,\n      cost: actualCost,\n      usage: {\n        durationMinutes: actualDurationMinutes,\n        costPerMinute: WHISPER_COST_PER_MINUTE\n      }\n    };\n  } catch (error) {\n    console.error('Error transcribing with Whisper:', error);\n    \n    // Provide more specific error messages\n    if (error instanceof Error) {\n      if (error.message.includes('file format')) {\n        throw new Error('Unsupported audio format. Please use WebM, MP3, MP4, MPEG, MPGA, M4A, or WAV.');\n      } else if (error.message.includes('file size')) {\n        throw new Error('Audio file too large. Maximum size is 25MB.');\n      } else if (error.message.includes('Invalid API key')) {\n        throw new Error('OpenAI API key not configured properly.');\n      }\n    }\n    \n    throw new Error(`Transcription failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n  }\n}\n\n/**\n * Batch transcribe multiple audio files (for future use)\n */\nexport async function batchTranscribe(audioFiles: Buffer[], userId: string = 'default'): Promise<TranscriptionResult[]> {\n  const results: TranscriptionResult[] = [];\n  \n  for (let i = 0; i < audioFiles.length; i++) {\n    console.log(`Processing audio file ${i + 1}/${audioFiles.length}`);\n    \n    try {\n      const result = await transcribeWithWhisper(audioFiles[i], `${userId}-batch-${i}`);\n      results.push(result);\n      \n      // Add small delay between requests to avoid rate limiting\n      if (i < audioFiles.length - 1) {\n        await new Promise(resolve => setTimeout(resolve, 100));\n      }\n    } catch (error) {\n      console.error(`Failed to transcribe audio file ${i + 1}:`, error);\n      // Continue with other files\n      results.push({\n        transcription: '',\n        duration: 0,\n        cost: 0,\n        usage: { durationMinutes: 0, costPerMinute: WHISPER_COST_PER_MINUTE }\n      });\n    }\n  }\n  \n  return results;\n}\n\n/**\n * More robust RMS calculation for a chunk of audio data.\n */\nfunction calculateRMS(samples: Float32Array): number {\n  if (samples.length === 0) return 0;\n  let sumOfSquares = 0;\n  for (let i = 0; i < samples.length; i++) {\n    sumOfSquares += samples[i] * samples[i];\n  }\n  return Math.sqrt(sumOfSquares / samples.length);\n}\n\n/**\n * Analyzes an AudioBuffer for silence using RMS chunks.\n * This is a more common approach for Voice Activity Detection (VAD).\n */\nexport function analyzeSilenceWithRMSChunks(\n  audioBuffer: AudioBuffer,\n  rmsThreshold: number = 0.01,\n  minSilenceDurationMs: number = 500,\n  chunkDurationMs: number = 30\n): boolean {\n  if (!audioBuffer) {\n    console.warn(\"AudioBuffer is null or undefined.\");\n    return false;\n  }\n\n  const sampleRate = audioBuffer.sampleRate;\n  const channelData = audioBuffer.getChannelData(0); // Assuming mono\n\n  const samplesPerChunk = Math.floor((sampleRate * chunkDurationMs) / 1000);\n  const numChunksRequiredForSilence = Math.ceil(minSilenceDurationMs / chunkDurationMs);\n\n  if (samplesPerChunk === 0) {\n    console.warn(\"Chunk duration is too short for the sample rate.\");\n    return false;\n  }\n\n  let consecutiveSilentChunks = 0;\n\n  for (let i = 0; i < channelData.length; i += samplesPerChunk) {\n    const chunk = channelData.slice(i, i + samplesPerChunk);\n    if (chunk.length === 0 && i < channelData.length) continue;\n\n    const rms = calculateRMS(chunk);\n\n    if (rms < rmsThreshold) {\n      consecutiveSilentChunks++;\n      if (consecutiveSilentChunks >= numChunksRequiredForSilence) {\n        return true; // Detected sufficient consecutive silent chunks\n      }\n    } else {\n      consecutiveSilentChunks = 0; // Reset counter if a chunk is not silent\n    }\n  }\n\n  return false; // No qualifying continuous silence detected\n}\n\n/**\n * Legacy function for backward compatibility\n */\nexport function analyzeSilence(\n  audioBuffer: AudioBuffer, \n  silenceThreshold: number = 0.01, \n  minSilenceDurationMs: number = 500\n): boolean {\n  return analyzeSilenceWithRMSChunks(audioBuffer, silenceThreshold, minSilenceDurationMs);\n}\n\n// Export cost calculation utilities\nexport const AudioCostUtils = {\n  WHISPER_COST_PER_MINUTE,\n  MAX_FILE_SIZE,\n  MIN_AUDIO_DURATION,\n  calculateCost: (durationMinutes: number) => durationMinutes * WHISPER_COST_PER_MINUTE,\n  formatCost: (cost: number) => `$${cost.toFixed(4)}`,\n  formatDuration: (seconds: number) => {\n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = Math.floor(seconds % 60);\n    return minutes > 0 ? `${minutes}m ${remainingSeconds}s` : `${remainingSeconds}s`;\n  }\n};\n</file>\n\n<file path=\"utils/cost.ts\">\n// backend/utils/cost.ts\nimport dotenv from 'dotenv';\nimport { MODEL_CONFIGS } from '../config/models.js';\n\ndotenv.config({ path: new URL('../../../.env', import.meta.url).pathname });\n\nconst COST_THRESHOLD = parseFloat(process.env.COST_THRESHOLD || '20.00');\nconst WHISPER_COST_PER_MINUTE = 0.006; // Keep this if used by trackWhisperCost\n\nexport interface SessionCostDetail {\n  totalCost: number;\n  whisperCost: number;\n  llmCost: number;\n  lastUpdated: number;\n  interactions: number; // To track number of calls contributing to cost\n}\n\n// In-memory store for session costs. In production, consider a database.\nconst sessionCosts = new Map<string, SessionCostDetail>();\n\nfunction initializeSessionCost(userId: string): SessionCostDetail {\n  if (!sessionCosts.has(userId)) {\n    sessionCosts.set(userId, {\n      totalCost: 0,\n      whisperCost: 0,\n      llmCost: 0,\n      lastUpdated: Date.now(),\n      interactions: 0,\n    });\n  }\n  return sessionCosts.get(userId)!;\n}\n\n/**\n * Tracks cost for LLM calls.\n * Ensure MODEL_CONFIGS is correctly defined in '../config/models.js'\n * Example MODEL_CONFIGS entry:\n * 'gpt-4o': { inputCostPer1K: 0.005, outputCostPer1K: 0.015, contextWindow: 128000 }\n */\nexport function trackLlmCost(\n  userId: string,\n  modelName: string,\n  promptTokens: number,\n  completionTokens: number\n): number {\n  const session = initializeSessionCost(userId);\n  const modelConfig = MODEL_CONFIGS[modelName] || MODEL_CONFIGS['gpt-4o']; // Fallback to gpt-4o config\n\n  let cost = 0;\n  if (modelConfig) {\n    const inputCost = (promptTokens / 1000) * modelConfig.inputCostPer1K;\n    const outputCost = (completionTokens / 1000) * modelConfig.outputCostPer1K;\n    cost = inputCost + outputCost;\n  } else {\n    console.warn(`Cost configuration for model ${modelName} not found. Using default LLM calculation.`);\n    // Fallback generic calculation if modelConfig is missing (less accurate)\n    cost = ((promptTokens + completionTokens) / 1000) * 0.01; // Generic $0.01 per 1K tokens\n  }\n  \n  session.llmCost += cost;\n  session.totalCost += cost;\n  session.interactions += 1;\n  session.lastUpdated = Date.now();\n  \n  console.log(`LLM Cost for ${modelName} (User: ${userId}): $${cost.toFixed(6)}. Session total: $${session.totalCost.toFixed(6)}`);\n  return session.totalCost;\n}\n\n/**\n * Tracks cost for Whisper calls.\n * Updated to match the signature expected by audio.ts\n */\nexport function trackWhisperServiceCost(\n  userId: string,\n  durationMinutes: number, // Duration of the audio processed by Whisper\n  providedCost?: number // Optional cost override\n): number {\n  const session = initializeSessionCost(userId);\n  // Whisper bills for a minimum of 0.01 minutes if duration is less\n  const billableMinutes = Math.max(durationMinutes, 0.01);\n  const cost = providedCost || (billableMinutes * WHISPER_COST_PER_MINUTE);\n  \n  session.whisperCost += cost;\n  session.totalCost += cost;\n  session.interactions += 1; // Counting this as an interaction\n  session.lastUpdated = Date.now();\n  \n  console.log(`Whisper Cost (User: ${userId}): $${cost.toFixed(6)} for ${durationMinutes.toFixed(2)} min. Session total: $${session.totalCost.toFixed(6)}`);\n  return session.totalCost;\n}\n\nexport function getSessionCost(userId: string): SessionCostDetail {\n  return initializeSessionCost(userId);\n}\n\nexport function isThresholdReached(userId: string): boolean {\n  const session = sessionCosts.get(userId);\n  return session ? session.totalCost >= COST_THRESHOLD : false;\n}\n\nexport function resetSessionCost(userId: string): SessionCostDetail {\n  console.log(`Resetting session cost for user: ${userId}`);\n  sessionCosts.set(userId, {\n    totalCost: 0,\n    whisperCost: 0,\n    llmCost: 0,\n    lastUpdated: Date.now(),\n    interactions: 0,\n  });\n  return sessionCosts.get(userId)!;\n}\n\n// Export aliases for compatibility with route imports\nexport const trackCost = trackLlmCost;\nexport const trackWhisperCost = trackWhisperServiceCost;\n\n// Periodically clean up old sessions (e.g., inactive for 24 hours)\nsetInterval(() => {\n  const now = Date.now();\n  for (const [userId, session] of sessionCosts.entries()) {\n    if (now - session.lastUpdated > 24 * 60 * 60 * 1000) { // 24 hours\n      sessionCosts.delete(userId);\n      console.log(`Cleaned up inactive session for user: ${userId}`);\n    }\n  }\n}, 60 * 60 * 1000); // Check every hour\n</file>\n\n<file path=\"utils/llm.ts\">\nimport OpenAI from 'openai';\nimport axios from 'axios';\nimport dotenv from 'dotenv';\nimport { MODEL_CONFIGS } from '../config/models.js';\n\ndotenv.config();\n\n// Initialize OpenAI client\nconst openai = new OpenAI({\n  apiKey: process.env.OPENAI_API_KEY\n});\n\n// Function to call OpenAI API\nexport async function callOpenAI(\n  messages: any[],\n  modelName: string = 'gpt-4o',\n  temperature: number = 0.7\n) {\n  try {\n    const response = await openai.chat.completions.create({\n      model: modelName,\n      messages,\n      temperature,\n      max_tokens: 2000,\n    });\n\n    return {\n      text: response.choices[0].message.content,\n      usage: response.usage,\n      model: modelName\n    };\n  } catch (error) {\n    console.error('OpenAI API error:', error);\n    // If OpenAI fails, try OpenRouter as fallback\n    return callOpenRouter(messages, modelName, temperature);\n  }\n}\n\n// Function to call OpenRouter API\nexport async function callOpenRouter(\n  messages: any[],\n  modelName: string = 'gpt-4o',\n  temperature: number = 0.7\n) {\n  try {\n    const response = await axios.post(\n      'https://openrouter.ai/api/v1/chat/completions',\n      {\n        model: modelName,\n        messages,\n        temperature,\n        max_tokens: 2000,\n      },\n      {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${process.env.OPENROUTER_API_KEY}`,\n          'HTTP-Referer': 'https://voice-coding-assistant.com',\n          'X-Title': 'Voice Coding Assistant',\n        },\n      }\n    );\n\n    return {\n      text: response.data.choices[0].message.content,\n      usage: response.data.usage,\n      model: response.data.model\n    };\n  } catch (error) {\n    console.error('OpenRouter API error:', error);\n    throw new Error('Failed to get response from AI models');\n  }\n}\n\n// Calculate cost of API usage\nexport function calculateCost(\n  inputTokens: number,\n  outputTokens: number,\n  modelName: string\n): number {\n  const modelConfig = MODEL_CONFIGS[modelName] || MODEL_CONFIGS['gpt-4o'];\n  \n  const inputCost = (inputTokens / 1000) * modelConfig.inputCostPer1K;\n  const outputCost = (outputTokens / 1000) * modelConfig.outputCostPer1K;\n  \n  return inputCost + outputCost;\n}\n</file>\n\n<file path=\"Dockerfile\">\nFROM node:18-alpine AS build\n\nWORKDIR /app\n\nCOPY package*.json ./\nRUN npm install\n\nCOPY . .\nRUN npm run build\n\nFROM node:18-alpine\n\nWORKDIR /app\n\nCOPY package*.json ./\nRUN npm install --production\n\nCOPY --from=build /app/dist ./dist\nCOPY --from=build /app/prompts ./prompts\n\nENV NODE_ENV=production\nEXPOSE 3001\n\nCMD [\"node\", \"dist/server.js\"]\n</file>\n\n<file path=\"package.json\">\n{\n  \"name\": \"voice-coding-assistant-backend\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Backend for voice coding assistant\",\n  \"main\": \"dist/server.js\",\n  \"type\": \"module\",\n  \"scripts\": {\n    \"start\": \"node dist/server.js\",\n    \"dev\": \"tsx watch server.ts\",\n    \"build\": \"tsc\",\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n  \"dependencies\": {\n    \"axios\": \"^1.6.2\",\n    \"cookie-parser\": \"^1.4.7\",\n    \"cors\": \"^2.8.5\",\n    \"dotenv\": \"^16.3.1\",\n    \"express\": \"^4.18.2\",\n    \"express-rate-limit\": \"^7.1.5\",\n    \"helmet\": \"^7.1.0\",\n    \"morgan\": \"^1.10.0\",\n    \"multer\": \"^1.4.5-lts.1\",\n    \"openai\": \"^4.20.1\"\n  },\n  \"devDependencies\": {\n    \"@types/cookie-parser\": \"^1.4.8\",\n    \"@types/cors\": \"^2.8.17\",\n    \"@types/express\": \"^4.17.21\",\n    \"@types/morgan\": \"^1.9.9\",\n    \"@types/multer\": \"^1.4.10\",\n    \"@types/node\": \"^20.10.0\",\n    \"cross-env\": \"^7.0.3\",\n    \"ts-node-dev\": \"^2.0.0\",\n    \"tsx\": \"^4.19.4\",\n    \"typescript\": \"^5.3.2\"\n  }\n}\n</file>\n\n<file path=\"server.ts\">\n// backend/server.ts\nimport express from 'express';\nimport cors from 'cors';\nimport helmet from 'helmet';\nimport morgan from 'morgan';\nimport path from 'path';\nimport { fileURLToPath } from 'url';\nimport dotenv from 'dotenv';\nimport cookieParser from 'cookie-parser';\nimport { configureRouter } from './config/router.js';\nimport { authMiddleware } from './middleware/auth.js';\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\n// Load environment variables from root directory\ndotenv.config({ path: path.resolve(__dirname, '../../.env') });\n\n// Initialize express app\nconst app = express();\nconst PORT = process.env.PORT || 3001;\n\n// Middleware\napp.use(helmet());\napp.use(morgan('dev'));\napp.use(cookieParser());\napp.use(express.json({ limit: '50mb' }));\napp.use(express.urlencoded({ extended: true, limit: '50mb' }));\n\n// Configure CORS\napp.use(cors({\n  origin: process.env.FRONTEND_URL || 'http://localhost:3000',\n  methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS'],\n  allowedHeaders: ['Content-Type', 'Authorization', 'X-Requested-With'],\n  credentials: true\n}));\n\n// Handle OPTIONS requests for CORS preflight\napp.options('*', cors());\n\n// Health check endpoint (no auth required)\napp.get('/health', (req, res) => {\n  res.status(200).json({ \n    status: 'OK', \n    timestamp: new Date().toISOString(),\n    port: PORT \n  });\n});\n\n// Set up API routes with authentication middleware\nconst setupRoutes = async () => {\n  try {\n    const router = await configureRouter();\n    \n    // All /api routes will go through authMiddleware\n    app.use('/api', authMiddleware, router);\n    \n    // Add a catch-all for unmatched API routes\n    app.use('/api/*', (req, res) => {\n      res.status(404).json({\n        message: `API endpoint not found: ${req.method} ${req.path}`,\n        error: 'ENDPOINT_NOT_FOUND',\n        availableEndpoints: [\n          'POST /api/auth',\n          'POST /api/chat', \n          'GET /api/cost',\n          'POST /api/cost',\n          'POST /api/speech',\n          'GET /api/speech'\n        ]\n      });\n    });\n    \n    // Serve static frontend in production\n    if (process.env.NODE_ENV === 'production') {\n      const frontendDistPath = path.join(__dirname, '../../frontend/dist');\n      app.use(express.static(frontendDistPath));\n      \n      app.get('*', (req, res) => {\n        res.sendFile(path.join(frontendDistPath, 'index.html'));\n      });\n    }\n    \n    // Start server\n    app.listen(PORT, () => {\n      console.log(`√î¬£√∏‚àö¬∫‚àö‚àÇ‚àö√ë Server running on port ${PORT}`);\n      console.log(`√î¬£√∏‚àö¬∫‚àö¬®¬¨‚àû Frontend URL configured for CORS: ${process.env.FRONTEND_URL || 'http://localhost:3000'}`);\n      console.log(`√î¬£√∏‚àö¬∫‚àö√Ü‚àö¬¥ Auth password configured: ${process.env.PASSWORD ? 'Yes' : 'No'}`);\n      \n      if (!process.env.PASSWORD) {\n        console.warn('‚Äö√Ñ√∂‚àö‚àÇ‚Äö√Ñ‚Ä†‚àö√Æ‚Äö√†√®‚àö¬Æ  WARNING: PASSWORD is not set in the .env file. Authentication will fail.');\n      }\n      \n      // Log available routes\n      console.log('√î¬£√∏‚àö¬∫‚àö¬®‚àö¬£ Available API endpoints:');\n      console.log('   POST /api/auth - Authentication');\n      console.log('   POST /api/chat - Chat with AI');\n      console.log('   GET  /api/cost - Get session cost');\n      console.log('   POST /api/cost - Reset session cost');\n      console.log('   POST /api/speech - Transcribe audio');\n      console.log('   GET  /api/speech - Get speech stats');\n    });\n  } catch (error) {\n    console.error('‚Äö√Ñ√∂‚àöœÄ‚àö‚Ä¢ Failed to configure routes:', error);\n    throw error;\n  }\n};\n\n// Global error handling middleware (should be last)\napp.use((err: any, req: express.Request, res: express.Response, next: express.NextFunction) => {\n  console.error('Global error handler:', err.stack);\n  res.status(err.status || 500).json({\n    message: err.message || 'Something went wrong on the server.',\n    error: process.env.NODE_ENV === 'production' ? {} : { message: err.message, stack: err.stack }\n  });\n});\n\n// Initialize routes and start server\nsetupRoutes().catch(error => {\n  console.error('‚Äö√Ñ√∂‚àöœÄ‚àö‚Ä¢ Failed to start server:', error);\n  process.exit(1);\n});\n\nexport default app;\n</file>\n\n</files>\n",
    "approx_token_count": 5946,
    "full_content_included_in_flat": false,
    "rank": 2
  },
  {
    "file_path": "/home/victor/Documents/manic/voice-coding-assistant/backend/routes/speech.ts",
    "relative_path": "routes/speech.ts",
    "file_name": "speech.ts",
    "extension": ".ts",
    "size_bytes": 8174,
    "last_modified": "2025-05-22T18:51:00.482252",
    "relevance_score": 0.2,
    "similarity_score": 0.5,
    "keyword_score": 0.0,
    "match_type": "similarity",
    "matched_keywords": [],
    "content_snippet": "import { Request, Response } from 'express';\nimport multer from 'multer';\nimport { transcribeWithWhisper, analyzeAudioForCost, AudioCostUtils } from '../utils/audio.js';\nimport { getSessionCost, isThresholdReached } from '../utils/cost.js';\nimport fs from 'fs';\nimport path from 'path';\nimport { fileURLToPath } from 'url';\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);",
    "full_content": "import { Request, Response } from 'express';\nimport multer from 'multer';\nimport { transcribeWithWhisper, analyzeAudioForCost, AudioCostUtils } from '../utils/audio.js';\nimport { getSessionCost, isThresholdReached } from '../utils/cost.js';\nimport fs from 'fs';\nimport path from 'path';\nimport { fileURLToPath } from 'url';\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\n// Configure multer for memory storage with size limits\nconst storage = multer.memoryStorage();\nconst upload = multer({ \n  storage,\n  limits: { \n    fileSize: 25 * 1024 * 1024, // 25MB limit (Whisper API limit)\n    files: 1 // Only one file at a time\n  },\n  fileFilter: (req, file, cb) => {\n    // Check file type\n    const allowedTypes = [\n      'audio/webm',\n      'audio/mp3',\n      'audio/mpeg',\n      'audio/mp4',\n      'audio/m4a',\n      'audio/wav',\n      'audio/flac',\n      'audio/ogg'\n    ];\n    \n    if (allowedTypes.includes(file.mimetype) || file.originalname.match(/\\.(webm|mp3|mp4|m4a|wav|flac|ogg)$/i)) {\n      cb(null, true);\n    } else {\n      cb(new Error('Invalid file type. Supported formats: WebM, MP3, MP4, M4A, WAV, FLAC, OGG'));\n    }\n  }\n});\n\n// Handle audio transcription with Whisper\nexport async function POST(req: Request, res: Response): Promise<any> {\n  try {\n    // Use multer to handle the file upload\n    upload.single('audio')(req, res, async (err) => {\n      if (err) {\n        console.error('File upload error:', err);\n        \n        if (err instanceof multer.MulterError) {\n          if (err.code === 'LIMIT_FILE_SIZE') {\n            return res.status(400).json({ \n              message: 'Audio file too large. Maximum size is 25MB.',\n              error: 'FILE_TOO_LARGE',\n              maxSize: '25MB'\n            });\n          }\n          if (err.code === 'LIMIT_FILE_COUNT') {\n            return res.status(400).json({ \n              message: 'Too many files. Please upload one audio file at a time.',\n              error: 'TOO_MANY_FILES'\n            });\n          }\n        }\n        \n        return res.status(400).json({ \n          message: err.message || 'File upload error', \n          error: 'UPLOAD_ERROR' \n        });\n      }\n      \n      if (!req.file) {\n        return res.status(400).json({ \n          message: 'No audio file provided',\n          error: 'NO_FILE'\n        });\n      }\n      \n      // Get user ID from request (could be from auth middleware)\n      const userId = (req as any).userId || req.body.userId || 'default';\n      \n      try {\n        // Check cost threshold before processing\n        if (isThresholdReached(userId)) {\n          const currentCost = getSessionCost(userId);\n          return res.status(403).json({\n            message: 'Session cost threshold reached',\n            error: 'COST_THRESHOLD_EXCEEDED',\n            currentCost,\n            threshold: process.env.COST_THRESHOLD || '20.00'\n          });\n        }\n        \n        // Analyze audio for cost estimation\n        const analysis = await analyzeAudioForCost(req.file.buffer);\n        \n        console.log(`Audio analysis - Size: ${analysis.fileSize} bytes, Duration: ~${analysis.duration.toFixed(1)}s, Estimated cost: ${AudioCostUtils.formatCost(analysis.estimatedCost)}`);\n        \n        // Log recommendations if any\n        if (analysis.recommendations.length > 0) {\n          console.log('Audio recommendations:', analysis.recommendations);\n        }\n        \n        // Transcribe the audio using Whisper with cost tracking\n        const result = await transcribeWithWhisper(req.file.buffer, userId);\n        \n        // Get updated session cost\n        const sessionCost = getSessionCost(userId);\n        \n        // Prepare response\n        const response = {\n          message: 'Audio transcribed successfully',\n          transcription: result.transcription,\n          duration: result.duration,\n          cost: result.cost,\n          sessionCost,\n          usage: {\n            durationMinutes: result.usage.durationMinutes,\n            costPerMinute: result.usage.costPerMinute,\n            totalCost: result.cost\n          },\n          analysis: {\n            fileSize: analysis.fileSize,\n            isOptimal: analysis.isOptimal,\n            recommendations: analysis.recommendations\n          },\n          metadata: {\n            originalFilename: req.file.originalname,\n            mimeType: req.file.mimetype,\n            processingTime: Date.now() - Date.now() // This would be calculated properly in a real implementation\n          },\n          warning: {}\n        };\n        \n        // Add warnings if cost is getting high\n        if (sessionCost.totalCost > 1.0) {\n          response.warning = {\n            message: 'Session cost is getting high',\n            currentCost: sessionCost,\n            threshold: parseFloat(process.env.COST_THRESHOLD || '20.00')\n          };\n        }\n        \n        return res.status(200).json(response);\n        \n      } catch (transcriptionError) {\n        console.error('Transcription error:', transcriptionError);\n        \n        // Provide specific error messages\n        let errorMessage = 'Error transcribing audio';\n        let errorCode = 'TRANSCRIPTION_ERROR';\n        \n        if (transcriptionError instanceof Error) {\n          const errorMsg = transcriptionError.message.toLowerCase();\n          \n          if (errorMsg.includes('api key')) {\n            errorMessage = 'OpenAI API key not configured properly';\n            errorCode = 'API_KEY_ERROR';\n          } else if (errorMsg.includes('file format') || errorMsg.includes('unsupported')) {\n            errorMessage = 'Unsupported audio format';\n            errorCode = 'UNSUPPORTED_FORMAT';\n          } else if (errorMsg.includes('too short')) {\n            errorMessage = 'Audio too short for transcription';\n            errorCode = 'AUDIO_TOO_SHORT';\n          } else if (errorMsg.includes('too large')) {\n            errorMessage = 'Audio file too large';\n            errorCode = 'AUDIO_TOO_LARGE';\n          } else if (errorMsg.includes('rate limit')) {\n            errorMessage = 'Rate limit exceeded. Please try again in a moment.';\n            errorCode = 'RATE_LIMIT_ERROR';\n          } else if (errorMsg.includes('quota')) {\n            errorMessage = 'API quota exceeded. Please check your billing.';\n            errorCode = 'QUOTA_EXCEEDED';\n          } else {\n            errorMessage = transcriptionError.message;\n          }\n        }\n        \n        return res.status(500).json({\n          message: errorMessage,\n          error: errorCode,\n          details: process.env.NODE_ENV === 'development' ? transcriptionError : undefined\n        });\n      }\n    });\n  } catch (error) {\n    console.error('Speech endpoint error:', error);\n    return res.status(500).json({\n      message: 'Error processing speech request',\n      error: 'INTERNAL_ERROR',\n      details: process.env.NODE_ENV === 'development' ? error : undefined\n    });\n  }\n}\n\n// GET endpoint for retrieving speech processing statistics\nexport async function GET(req: Request, res: Response) {\n  try {\n    const userId = req.query.userId as string || 'default';\n    \n    const sessionCost = getSessionCost(userId);\n    const costThreshold = parseFloat(process.env.COST_THRESHOLD || '20.00');\n    \n    return res.status(200).json({\n      message: 'Speech processing statistics',\n      userId,\n      sessionCost,\n      costThreshold,\n      whisperPricing: {\n        costPerMinute: AudioCostUtils.WHISPER_COST_PER_MINUTE,\n        maxFileSize: AudioCostUtils.MAX_FILE_SIZE,\n        minDuration: AudioCostUtils.MIN_AUDIO_DURATION\n      },\n      supportedFormats: [\n        'audio/webm',\n        'audio/mp3',\n        'audio/mpeg',\n        'audio/mp4',\n        'audio/m4a',\n        'audio/wav',\n        'audio/flac',\n        'audio/ogg'\n      ],\n      limits: {\n        maxFileSize: '25MB',\n        maxDuration: '10 minutes (recommended)',\n        minDuration: '0.1 seconds'\n      }\n    });\n  } catch (error) {\n    console.error('Error retrieving speech statistics:', error);\n    return res.status(500).json({\n      message: 'Error retrieving speech statistics',\n      error: 'INTERNAL_ERROR'\n    });\n  }\n}",
    "approx_token_count": 740,
    "full_content_included_in_flat": false,
    "rank": 3
  },
  {
    "file_path": "/home/victor/Documents/manic/voice-coding-assistant/backend/routes/cost.ts",
    "relative_path": "routes/cost.ts",
    "file_name": "cost.ts",
    "extension": ".ts",
    "size_bytes": 5133,
    "last_modified": "2025-05-22T15:39:02.109524",
    "relevance_score": 0.2,
    "similarity_score": 0.5,
    "keyword_score": 0.0,
    "match_type": "similarity",
    "matched_keywords": [],
    "content_snippet": "// backend/utils/cost.ts\nimport dotenv from 'dotenv';\nimport path from 'path';\nimport { fileURLToPath } from 'url';\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\n// Load environment variables from root directory\ndotenv.config({ path: path.resolve(__dirname, '../../../.env') });",
    "full_content": "// backend/utils/cost.ts\nimport dotenv from 'dotenv';\nimport path from 'path';\nimport { fileURLToPath } from 'url';\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\n// Load environment variables from root directory\ndotenv.config({ path: path.resolve(__dirname, '../../../.env') });\n\n// Model cost configurations (since models.js is missing)\nconst MODEL_CONFIGS: Record<string, { inputCostPer1K: number; outputCostPer1K: number; contextWindow: number }> = {\n  'gpt-4o': { inputCostPer1K: 0.005, outputCostPer1K: 0.015, contextWindow: 128000 },\n  'gpt-4o-mini': { inputCostPer1K: 0.00015, outputCostPer1K: 0.0006, contextWindow: 128000 },\n  'gpt-4': { inputCostPer1K: 0.03, outputCostPer1K: 0.06, contextWindow: 8192 },\n  'gpt-3.5-turbo': { inputCostPer1K: 0.001, outputCostPer1K: 0.002, contextWindow: 4096 },\n};\n\nconst COST_THRESHOLD = parseFloat(process.env.COST_THRESHOLD || '20.00');\nconst WHISPER_COST_PER_MINUTE = 0.006;\n\nexport interface SessionCostDetail {\n  totalCost: number;\n  whisperCost: number;\n  llmCost: number;\n  lastUpdated: number;\n  interactions: number;\n}\n\n// In-memory store for session costs\nconst sessionCosts = new Map<string, SessionCostDetail>();\n\n/**\n * Initialize session cost data for a user\n */\nfunction initializeSessionCost(userId: string): SessionCostDetail {\n  if (!sessionCosts.has(userId)) {\n    sessionCosts.set(userId, {\n      totalCost: 0,\n      whisperCost: 0,\n      llmCost: 0,\n      lastUpdated: Date.now(),\n      interactions: 0,\n    });\n  }\n  return sessionCosts.get(userId)!;\n}\n\n/**\n * Track cost for LLM calls\n * @param userId - User identifier\n * @param modelName - Name of the model used\n * @param promptTokens - Number of input tokens\n * @param completionTokens - Number of output tokens\n * @returns Total session cost\n */\nexport function trackCost(\n  userId: string,\n  modelName: string,\n  promptTokens: number,\n  completionTokens: number\n): number {\n  const session = initializeSessionCost(userId);\n  const modelConfig = MODEL_CONFIGS[modelName] || MODEL_CONFIGS['gpt-4o'];\n\n  let cost = 0;\n  if (modelConfig) {\n    const inputCost = (promptTokens / 1000) * modelConfig.inputCostPer1K;\n    const outputCost = (completionTokens / 1000) * modelConfig.outputCostPer1K;\n    cost = inputCost + outputCost;\n  } else {\n    console.warn(`Cost configuration for model ${modelName} not found. Using default calculation.`);\n    cost = ((promptTokens + completionTokens) / 1000) * 0.01;\n  }\n  \n  session.llmCost += cost;\n  session.totalCost += cost;\n  session.interactions += 1;\n  session.lastUpdated = Date.now();\n  \n  console.log(`LLM Cost for ${modelName} (User: ${userId}): $${cost.toFixed(6)}. Session total: $${session.totalCost.toFixed(6)}`);\n  return session.totalCost;\n}\n\n/**\n * Track cost for LLM calls (alias for trackCost for compatibility)\n */\nexport const trackLlmCost = trackCost;\n\n/**\n * Track cost for Whisper transcription\n * @param userId - User identifier  \n * @param durationMinutes - Duration of audio in minutes\n * @returns Total session cost\n */\nexport function trackWhisperCost(\n  userId: string,\n  durationMinutes: number\n): number {\n  const session = initializeSessionCost(userId);\n  // Whisper bills for a minimum of 0.01 minutes\n  const billableMinutes = Math.max(durationMinutes, 0.01);\n  const cost = billableMinutes * WHISPER_COST_PER_MINUTE;\n  \n  session.whisperCost += cost;\n  session.totalCost += cost;\n  session.interactions += 1;\n  session.lastUpdated = Date.now();\n  \n  console.log(`Whisper Cost (User: ${userId}): $${cost.toFixed(6)} for ${durationMinutes.toFixed(2)} min. Session total: $${session.totalCost.toFixed(6)}`);\n  return session.totalCost;\n}\n\n/**\n * Alternative name for trackWhisperCost for compatibility\n */\nexport const trackWhisperServiceCost = trackWhisperCost;\n\n/**\n * Get current session cost details\n * @param userId - User identifier\n * @returns Session cost details\n */\nexport function getSessionCost(userId: string): SessionCostDetail {\n  return initializeSessionCost(userId);\n}\n\n/**\n * Check if cost threshold has been reached\n * @param userId - User identifier  \n * @returns True if threshold reached\n */\nexport function isThresholdReached(userId: string): boolean {\n  const session = sessionCosts.get(userId);\n  return session ? session.totalCost >= COST_THRESHOLD : false;\n}\n\n/**\n * Reset session cost for a user\n * @param userId - User identifier\n * @returns New session cost details\n */\nexport function resetSessionCost(userId: string): SessionCostDetail {\n  console.log(`Resetting session cost for user: ${userId}`);\n  sessionCosts.set(userId, {\n    totalCost: 0,\n    whisperCost: 0,\n    llmCost: 0,\n    lastUpdated: Date.now(),\n    interactions: 0,\n  });\n  return sessionCosts.get(userId)!;\n}\n\n// Clean up old sessions periodically (24 hours of inactivity)\nsetInterval(() => {\n  const now = Date.now();\n  for (const [userId, session] of sessionCosts.entries()) {\n    if (now - session.lastUpdated > 24 * 60 * 60 * 1000) {\n      sessionCosts.delete(userId);\n      console.log(`Cleaned up inactive session for user: ${userId}`);\n    }\n  }\n}, 60 * 60 * 1000); // Check every hour",
    "approx_token_count": 605,
    "full_content_included_in_flat": false,
    "rank": 4
  },
  {
    "file_path": "/home/victor/Documents/manic/voice-coding-assistant/backend/utils/audio.ts",
    "relative_path": "utils/audio.ts",
    "file_name": "audio.ts",
    "extension": ".ts",
    "size_bytes": 10093,
    "last_modified": "2025-05-22T14:09:18.012445",
    "relevance_score": 0.2,
    "similarity_score": 0.5,
    "keyword_score": 0.0,
    "match_type": "similarity",
    "matched_keywords": [],
    "content_snippet": "    \n    const tempFilePath = path.join(tmpDir, `audio-${userId}-${Date.now()}.webm`);\n    await promisify(fs.writeFile)(tempFilePath, audioBuffer);\n    \n    // Create readable stream\n/**\n * Analyzes an AudioBuffer for silence using RMS chunks.\n * This is a more common approach for Voice Activity Detection (VAD).\n */\nexport function analyzeSilenceWithRMSChunks(",
    "full_content": "import fs from 'fs';\nimport path from 'path';\nimport { promisify } from 'util';\nimport OpenAI from 'openai';\nimport dotenv from 'dotenv';\nimport { trackWhisperCost } from './cost.js';\n\ndotenv.config();\n\nconst openai = new OpenAI({\n  apiKey: process.env.OPENAI_API_KEY\n});\n\n// Audio processing constants\nconst WHISPER_COST_PER_MINUTE = 0.006; // $0.006 per minute (accurate as of 2025)\nconst MAX_FILE_SIZE = 25 * 1024 * 1024; // 25MB Whisper limit\nconst MIN_AUDIO_DURATION = 0.1; // 100ms minimum\n\n// Define AudioBuffer interface for Node.js environment\ninterface AudioBuffer {\n  sampleRate: number;\n  length: number;\n  duration: number;\n  numberOfChannels: number;\n  getChannelData(channel: number): Float32Array;\n}\n\ninterface AudioAnalysisResult {\n  duration: number;\n  estimatedCost: number;\n  fileSize: number;\n  isOptimal: boolean;\n  recommendations: string[];\n}\n\ninterface TranscriptionResult {\n  transcription: string;\n  duration: number;\n  cost: number;\n  usage: {\n    durationMinutes: number;\n    costPerMinute: number;\n  };\n}\n\n/**\n * Analyze audio buffer/blob for cost estimation and optimization\n */\nexport async function analyzeAudioForCost(audioBuffer: Buffer): Promise<AudioAnalysisResult> {\n  const fileSize = audioBuffer.length;\n  const recommendations: string[] = [];\n  \n  // Check file size\n  if (fileSize > MAX_FILE_SIZE) {\n    throw new Error(`Audio file too large: ${(fileSize / 1024 / 1024).toFixed(1)}MB (limit: 25MB)`);\n  }\n  \n  // Estimate duration from file size (rough estimation)\n  // For WebM/MP3 audio, roughly 1MB = 1-2 minutes depending on quality\n  const estimatedDurationMinutes = Math.max(0.01, (fileSize / (1024 * 1024)) * 1.5);\n  const estimatedCost = estimatedDurationMinutes * WHISPER_COST_PER_MINUTE;\n  \n  // Generate recommendations\n  if (fileSize < 10 * 1024) { // Less than 10KB\n    recommendations.push('Audio file very small - may be too short for meaningful transcription');\n  }\n  \n  if (estimatedDurationMinutes > 10) { // Over 10 minutes\n    recommendations.push('Consider breaking long audio into smaller chunks for better processing');\n  }\n  \n  if (fileSize > 10 * 1024 * 1024) { // Over 10MB\n    recommendations.push('Large file detected - consider audio compression to reduce costs');\n  }\n  \n  return {\n    duration: estimatedDurationMinutes * 60, // Convert to seconds\n    estimatedCost: Math.round(estimatedCost * 10000) / 10000, // Round to 4 decimal places\n    fileSize,\n    isOptimal: fileSize > 10 * 1024 && fileSize < 5 * 1024 * 1024, // 10KB - 5MB is optimal\n    recommendations\n  };\n}\n\n/**\n * Get accurate audio duration from file\n */\nexport async function getAudioDuration(audioBuffer: Buffer): Promise<number> {\n  // For now, use the estimation method\n  // In a production environment, you might want to use ffprobe or similar\n  const analysis = await analyzeAudioForCost(audioBuffer);\n  return analysis.duration;\n}\n\n/**\n * Enhanced transcription with cost tracking and optimization\n */\nexport async function transcribeWithWhisper(audioBuffer: Buffer, userId: string = 'default'): Promise<TranscriptionResult> {\n  try {\n    // Analyze audio first\n    const analysis = await analyzeAudioForCost(audioBuffer);\n    \n    // Check minimum duration\n    if (analysis.duration < MIN_AUDIO_DURATION) {\n      throw new Error(`Audio too short: ${analysis.duration.toFixed(1)}s (minimum: ${MIN_AUDIO_DURATION}s)`);\n    }\n    \n    // Create temporary file\n    const tmpDir = path.join(process.cwd(), 'tmp');\n    if (!fs.existsSync(tmpDir)) {\n      fs.mkdirSync(tmpDir, { recursive: true });\n    }\n    \n    const tempFilePath = path.join(tmpDir, `audio-${userId}-${Date.now()}.webm`);\n    await promisify(fs.writeFile)(tempFilePath, audioBuffer);\n    \n    // Create readable stream\n    const audioFile = fs.createReadStream(tempFilePath);\n    \n    // Enhance the file object with additional metadata\n    (audioFile as any).originalname = path.basename(tempFilePath);\n    \n    console.log(`Transcribing audio: ${analysis.fileSize} bytes, ~${analysis.duration.toFixed(1)}s, estimated cost: $${analysis.estimatedCost.toFixed(4)}`);\n    \n    // Call Whisper API with optimized settings\n    const startTime = Date.now();\n    const transcription = await openai.audio.transcriptions.create({\n      file: audioFile,\n      model: 'whisper-1',\n      language: 'en', // Specify language for better accuracy and speed\n      response_format: 'verbose_json', // Get additional metadata\n      temperature: 0.1, // Lower temperature for more consistent results\n    });\n    \n    const processingTime = Date.now() - startTime;\n    \n    // Clean up temporary file\n    await promisify(fs.unlink)(tempFilePath).catch(console.error);\n    \n    // Get actual duration from Whisper response if available\n    const actualDuration = (transcription as any).duration || analysis.duration;\n    const actualDurationMinutes = Math.max(0.01, actualDuration / 60); // Whisper bills minimum 0.01 minutes\n    const actualCost = actualDurationMinutes * WHISPER_COST_PER_MINUTE;\n    \n    // Track cost in backend\n    const sessionCost = trackWhisperCost(userId, actualDurationMinutes, actualCost);\n    \n    console.log(`Transcription completed in ${processingTime}ms. Duration: ${actualDuration.toFixed(1)}s, Cost: $${actualCost.toFixed(4)}, Session total: $${sessionCost.toFixed(4)}`);\n    \n    // Log recommendations if any\n    if (analysis.recommendations.length > 0) {\n      console.log('Audio optimization recommendations:', analysis.recommendations);\n    }\n    \n    return {\n      transcription: typeof transcription === 'string' ? transcription : transcription.text,\n      duration: actualDuration,\n      cost: actualCost,\n      usage: {\n        durationMinutes: actualDurationMinutes,\n        costPerMinute: WHISPER_COST_PER_MINUTE\n      }\n    };\n  } catch (error) {\n    console.error('Error transcribing with Whisper:', error);\n    \n    // Provide more specific error messages\n    if (error instanceof Error) {\n      if (error.message.includes('file format')) {\n        throw new Error('Unsupported audio format. Please use WebM, MP3, MP4, MPEG, MPGA, M4A, or WAV.');\n      } else if (error.message.includes('file size')) {\n        throw new Error('Audio file too large. Maximum size is 25MB.');\n      } else if (error.message.includes('Invalid API key')) {\n        throw new Error('OpenAI API key not configured properly.');\n      }\n    }\n    \n    throw new Error(`Transcription failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n  }\n}\n\n/**\n * Batch transcribe multiple audio files (for future use)\n */\nexport async function batchTranscribe(audioFiles: Buffer[], userId: string = 'default'): Promise<TranscriptionResult[]> {\n  const results: TranscriptionResult[] = [];\n  \n  for (let i = 0; i < audioFiles.length; i++) {\n    console.log(`Processing audio file ${i + 1}/${audioFiles.length}`);\n    \n    try {\n      const result = await transcribeWithWhisper(audioFiles[i], `${userId}-batch-${i}`);\n      results.push(result);\n      \n      // Add small delay between requests to avoid rate limiting\n      if (i < audioFiles.length - 1) {\n        await new Promise(resolve => setTimeout(resolve, 100));\n      }\n    } catch (error) {\n      console.error(`Failed to transcribe audio file ${i + 1}:`, error);\n      // Continue with other files\n      results.push({\n        transcription: '',\n        duration: 0,\n        cost: 0,\n        usage: { durationMinutes: 0, costPerMinute: WHISPER_COST_PER_MINUTE }\n      });\n    }\n  }\n  \n  return results;\n}\n\n/**\n * More robust RMS calculation for a chunk of audio data.\n */\nfunction calculateRMS(samples: Float32Array): number {\n  if (samples.length === 0) return 0;\n  let sumOfSquares = 0;\n  for (let i = 0; i < samples.length; i++) {\n    sumOfSquares += samples[i] * samples[i];\n  }\n  return Math.sqrt(sumOfSquares / samples.length);\n}\n\n/**\n * Analyzes an AudioBuffer for silence using RMS chunks.\n * This is a more common approach for Voice Activity Detection (VAD).\n */\nexport function analyzeSilenceWithRMSChunks(\n  audioBuffer: AudioBuffer,\n  rmsThreshold: number = 0.01,\n  minSilenceDurationMs: number = 500,\n  chunkDurationMs: number = 30\n): boolean {\n  if (!audioBuffer) {\n    console.warn(\"AudioBuffer is null or undefined.\");\n    return false;\n  }\n\n  const sampleRate = audioBuffer.sampleRate;\n  const channelData = audioBuffer.getChannelData(0); // Assuming mono\n\n  const samplesPerChunk = Math.floor((sampleRate * chunkDurationMs) / 1000);\n  const numChunksRequiredForSilence = Math.ceil(minSilenceDurationMs / chunkDurationMs);\n\n  if (samplesPerChunk === 0) {\n    console.warn(\"Chunk duration is too short for the sample rate.\");\n    return false;\n  }\n\n  let consecutiveSilentChunks = 0;\n\n  for (let i = 0; i < channelData.length; i += samplesPerChunk) {\n    const chunk = channelData.slice(i, i + samplesPerChunk);\n    if (chunk.length === 0 && i < channelData.length) continue;\n\n    const rms = calculateRMS(chunk);\n\n    if (rms < rmsThreshold) {\n      consecutiveSilentChunks++;\n      if (consecutiveSilentChunks >= numChunksRequiredForSilence) {\n        return true; // Detected sufficient consecutive silent chunks\n      }\n    } else {\n      consecutiveSilentChunks = 0; // Reset counter if a chunk is not silent\n    }\n  }\n\n  return false; // No qualifying continuous silence detected\n}\n\n/**\n * Legacy function for backward compatibility\n */\nexport function analyzeSilence(\n  audioBuffer: AudioBuffer, \n  silenceThreshold: number = 0.01, \n  minSilenceDurationMs: number = 500\n): boolean {\n  return analyzeSilenceWithRMSChunks(audioBuffer, silenceThreshold, minSilenceDurationMs);\n}\n\n// Export cost calculation utilities\nexport const AudioCostUtils = {\n  WHISPER_COST_PER_MINUTE,\n  MAX_FILE_SIZE,\n  MIN_AUDIO_DURATION,\n  calculateCost: (durationMinutes: number) => durationMinutes * WHISPER_COST_PER_MINUTE,\n  formatCost: (cost: number) => `$${cost.toFixed(4)}`,\n  formatDuration: (seconds: number) => {\n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = Math.floor(seconds % 60);\n    return minutes > 0 ? `${minutes}m ${remainingSeconds}s` : `${remainingSeconds}s`;\n  }\n};",
    "approx_token_count": 1141,
    "full_content_included_in_flat": false,
    "rank": 5
  },
  {
    "file_path": "/home/victor/Documents/manic/voice-coding-assistant/backend/utils/llm.ts",
    "relative_path": "utils/llm.ts",
    "file_name": "llm.ts",
    "extension": ".ts",
    "size_bytes": 2200,
    "last_modified": "2025-05-21T21:55:46.971905",
    "relevance_score": 0.2,
    "similarity_score": 0.5,
    "keyword_score": 0.0,
    "match_type": "similarity",
    "matched_keywords": [],
    "content_snippet": "      {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${process.env.OPENROUTER_API_KEY}`,\n          'HTTP-Referer': 'https://voice-coding-assistant.com',",
    "full_content": "import OpenAI from 'openai';\nimport axios from 'axios';\nimport dotenv from 'dotenv';\nimport { MODEL_CONFIGS } from '../config/models.js';\n\ndotenv.config();\n\n// Initialize OpenAI client\nconst openai = new OpenAI({\n  apiKey: process.env.OPENAI_API_KEY\n});\n\n// Function to call OpenAI API\nexport async function callOpenAI(\n  messages: any[],\n  modelName: string = 'gpt-4o',\n  temperature: number = 0.7\n) {\n  try {\n    const response = await openai.chat.completions.create({\n      model: modelName,\n      messages,\n      temperature,\n      max_tokens: 2000,\n    });\n\n    return {\n      text: response.choices[0].message.content,\n      usage: response.usage,\n      model: modelName\n    };\n  } catch (error) {\n    console.error('OpenAI API error:', error);\n    // If OpenAI fails, try OpenRouter as fallback\n    return callOpenRouter(messages, modelName, temperature);\n  }\n}\n\n// Function to call OpenRouter API\nexport async function callOpenRouter(\n  messages: any[],\n  modelName: string = 'gpt-4o',\n  temperature: number = 0.7\n) {\n  try {\n    const response = await axios.post(\n      'https://openrouter.ai/api/v1/chat/completions',\n      {\n        model: modelName,\n        messages,\n        temperature,\n        max_tokens: 2000,\n      },\n      {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${process.env.OPENROUTER_API_KEY}`,\n          'HTTP-Referer': 'https://voice-coding-assistant.com',\n          'X-Title': 'Voice Coding Assistant',\n        },\n      }\n    );\n\n    return {\n      text: response.data.choices[0].message.content,\n      usage: response.data.usage,\n      model: response.data.model\n    };\n  } catch (error) {\n    console.error('OpenRouter API error:', error);\n    throw new Error('Failed to get response from AI models');\n  }\n}\n\n// Calculate cost of API usage\nexport function calculateCost(\n  inputTokens: number,\n  outputTokens: number,\n  modelName: string\n): number {\n  const modelConfig = MODEL_CONFIGS[modelName] || MODEL_CONFIGS['gpt-4o'];\n  \n  const inputCost = (inputTokens / 1000) * modelConfig.inputCostPer1K;\n  const outputCost = (outputTokens / 1000) * modelConfig.outputCostPer1K;\n  \n  return inputCost + outputCost;\n}",
    "approx_token_count": 226,
    "full_content_included_in_flat": false,
    "rank": 6
  },
  {
    "file_path": "/home/victor/Documents/manic/voice-coding-assistant/backend/utils/cost.ts",
    "relative_path": "utils/cost.ts",
    "file_name": "cost.ts",
    "extension": ".ts",
    "size_bytes": 4334,
    "last_modified": "2025-05-22T15:39:02.110524",
    "relevance_score": 0.2,
    "similarity_score": 0.5,
    "keyword_score": 0.0,
    "match_type": "similarity",
    "matched_keywords": [],
    "content_snippet": "// backend/utils/cost.ts\nimport dotenv from 'dotenv';\nimport { MODEL_CONFIGS } from '../config/models.js';\n\ndotenv.config({ path: new URL('../../../.env', import.meta.url).pathname });\n\nconst COST_THRESHOLD = parseFloat(process.env.COST_THRESHOLD || '20.00');\nconst WHISPER_COST_PER_MINUTE = 0.006; // Keep this if used by trackWhisperCost\n\nexport interface SessionCostDetail {",
    "full_content": "// backend/utils/cost.ts\nimport dotenv from 'dotenv';\nimport { MODEL_CONFIGS } from '../config/models.js';\n\ndotenv.config({ path: new URL('../../../.env', import.meta.url).pathname });\n\nconst COST_THRESHOLD = parseFloat(process.env.COST_THRESHOLD || '20.00');\nconst WHISPER_COST_PER_MINUTE = 0.006; // Keep this if used by trackWhisperCost\n\nexport interface SessionCostDetail {\n  totalCost: number;\n  whisperCost: number;\n  llmCost: number;\n  lastUpdated: number;\n  interactions: number; // To track number of calls contributing to cost\n}\n\n// In-memory store for session costs. In production, consider a database.\nconst sessionCosts = new Map<string, SessionCostDetail>();\n\nfunction initializeSessionCost(userId: string): SessionCostDetail {\n  if (!sessionCosts.has(userId)) {\n    sessionCosts.set(userId, {\n      totalCost: 0,\n      whisperCost: 0,\n      llmCost: 0,\n      lastUpdated: Date.now(),\n      interactions: 0,\n    });\n  }\n  return sessionCosts.get(userId)!;\n}\n\n/**\n * Tracks cost for LLM calls.\n * Ensure MODEL_CONFIGS is correctly defined in '../config/models.js'\n * Example MODEL_CONFIGS entry:\n * 'gpt-4o': { inputCostPer1K: 0.005, outputCostPer1K: 0.015, contextWindow: 128000 }\n */\nexport function trackLlmCost(\n  userId: string,\n  modelName: string,\n  promptTokens: number,\n  completionTokens: number\n): number {\n  const session = initializeSessionCost(userId);\n  const modelConfig = MODEL_CONFIGS[modelName] || MODEL_CONFIGS['gpt-4o']; // Fallback to gpt-4o config\n\n  let cost = 0;\n  if (modelConfig) {\n    const inputCost = (promptTokens / 1000) * modelConfig.inputCostPer1K;\n    const outputCost = (completionTokens / 1000) * modelConfig.outputCostPer1K;\n    cost = inputCost + outputCost;\n  } else {\n    console.warn(`Cost configuration for model ${modelName} not found. Using default LLM calculation.`);\n    // Fallback generic calculation if modelConfig is missing (less accurate)\n    cost = ((promptTokens + completionTokens) / 1000) * 0.01; // Generic $0.01 per 1K tokens\n  }\n  \n  session.llmCost += cost;\n  session.totalCost += cost;\n  session.interactions += 1;\n  session.lastUpdated = Date.now();\n  \n  console.log(`LLM Cost for ${modelName} (User: ${userId}): $${cost.toFixed(6)}. Session total: $${session.totalCost.toFixed(6)}`);\n  return session.totalCost;\n}\n\n/**\n * Tracks cost for Whisper calls.\n * Updated to match the signature expected by audio.ts\n */\nexport function trackWhisperServiceCost(\n  userId: string,\n  durationMinutes: number, // Duration of the audio processed by Whisper\n  providedCost?: number // Optional cost override\n): number {\n  const session = initializeSessionCost(userId);\n  // Whisper bills for a minimum of 0.01 minutes if duration is less\n  const billableMinutes = Math.max(durationMinutes, 0.01);\n  const cost = providedCost || (billableMinutes * WHISPER_COST_PER_MINUTE);\n  \n  session.whisperCost += cost;\n  session.totalCost += cost;\n  session.interactions += 1; // Counting this as an interaction\n  session.lastUpdated = Date.now();\n  \n  console.log(`Whisper Cost (User: ${userId}): $${cost.toFixed(6)} for ${durationMinutes.toFixed(2)} min. Session total: $${session.totalCost.toFixed(6)}`);\n  return session.totalCost;\n}\n\nexport function getSessionCost(userId: string): SessionCostDetail {\n  return initializeSessionCost(userId);\n}\n\nexport function isThresholdReached(userId: string): boolean {\n  const session = sessionCosts.get(userId);\n  return session ? session.totalCost >= COST_THRESHOLD : false;\n}\n\nexport function resetSessionCost(userId: string): SessionCostDetail {\n  console.log(`Resetting session cost for user: ${userId}`);\n  sessionCosts.set(userId, {\n    totalCost: 0,\n    whisperCost: 0,\n    llmCost: 0,\n    lastUpdated: Date.now(),\n    interactions: 0,\n  });\n  return sessionCosts.get(userId)!;\n}\n\n// Export aliases for compatibility with route imports\nexport const trackCost = trackLlmCost;\nexport const trackWhisperCost = trackWhisperServiceCost;\n\n// Periodically clean up old sessions (e.g., inactive for 24 hours)\nsetInterval(() => {\n  const now = Date.now();\n  for (const [userId, session] of sessionCosts.entries()) {\n    if (now - session.lastUpdated > 24 * 60 * 60 * 1000) { // 24 hours\n      sessionCosts.delete(userId);\n      console.log(`Cleaned up inactive session for user: ${userId}`);\n    }\n  }\n}, 60 * 60 * 1000); // Check every hour",
    "approx_token_count": 491,
    "full_content_included_in_flat": false,
    "rank": 7
  },
  {
    "file_path": "/home/victor/Documents/manic/voice-coding-assistant/backend/config/router.ts",
    "relative_path": "config/router.ts",
    "file_name": "router.ts",
    "extension": ".ts",
    "size_bytes": 3922,
    "last_modified": "2025-05-22T15:39:02.105524",
    "relevance_score": 0.2,
    "similarity_score": 0.5,
    "keyword_score": 0.0,
    "match_type": "similarity",
    "matched_keywords": [],
    "content_snippet": "import { Router, Request, Response } from 'express';\nimport fs from 'fs';\nimport path from 'path';\nimport { fileURLToPath } from 'url';\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\nexport async function configureRouter(): Promise<Router> {\n  const router = Router();",
    "full_content": "import { Router, Request, Response } from 'express';\nimport fs from 'fs';\nimport path from 'path';\nimport { fileURLToPath } from 'url';\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\nexport async function configureRouter(): Promise<Router> {\n  const router = Router();\n  const routesDir = path.join(__dirname, '../routes');\n\n  console.log('√î¬£√∏‚àö¬∫‚àö√Ü‚àö√º Configuring routes from:', routesDir);\n\n  try {\n    // Check if routes directory exists\n    if (!fs.existsSync(routesDir)) {\n      console.error('‚Äö√Ñ√∂‚àöœÄ‚àö‚Ä¢ Routes directory does not exist:', routesDir);\n      return router;\n    }\n\n    // Read all route files\n    const routeFiles = fs.readdirSync(routesDir);\n    console.log('√î¬£√∏‚àö¬∫‚àö¬®‚àö√ñ Found route files:', routeFiles);\n    \n    for (const file of routeFiles) {\n      if (file.endsWith('.ts') || file.endsWith('.js')) {\n        const routePath = `../routes/${file}`;\n        const routeName = file.replace(/\\.(ts|js)$/, '');\n        \n        try {\n          console.log(`√î¬£√∏‚àö¬∫‚àö√Ü‚àö√´ Loading route: ${routeName} from ${routePath}`);\n          \n          // Import route dynamically\n          const routeModule = await import(routePath);\n          \n          // Log what we found in the module\n          console.log(`√î¬£√∏‚àö¬∫‚àö¬®‚àö¬£ Route ${routeName} exports:`, Object.keys(routeModule));\n          \n          // Register HTTP methods if they exist in the module\n          const methods = ['GET', 'POST', 'PUT', 'DELETE', 'PATCH'];\n          let registeredCount = 0;\n          \n          methods.forEach(method => {\n            if (typeof routeModule[method] === 'function') {\n              const routeHandler = async (req: Request, res: Response) => {\n                try {\n                  console.log(`√î¬£√∏‚àö¬∫‚àö¬®¬¨√Ü Handling ${method} /${routeName}`);\n                  await routeModule[method](req, res);\n                } catch (error) {\n                  console.error(`‚Äö√Ñ√∂‚àöœÄ‚àö‚Ä¢ Error in ${method} /${routeName}:`, error);\n                  res.status(500).json({\n                    message: 'Internal server error',\n                    error: process.env.NODE_ENV === 'production' ? undefined : (error as Error).message\n                  });\n                }\n              };\n\n              // Use explicit method calls instead of dynamic access\n              switch (method.toLowerCase()) {\n                case 'get':\n                  router.get(`/${routeName}`, routeHandler);\n                  break;\n                case 'post':\n                  router.post(`/${routeName}`, routeHandler);\n                  break;\n                case 'put':\n                  router.put(`/${routeName}`, routeHandler);\n                  break;\n                case 'delete':\n                  router.delete(`/${routeName}`, routeHandler);\n                  break;\n                case 'patch':\n                  router.patch(`/${routeName}`, routeHandler);\n                  break;\n                default:\n                  console.warn(`‚Äö√Ñ√∂‚àö‚àÇ‚Äö√Ñ‚Ä†‚àö√Æ‚Äö√†√®‚àö¬Æ  Unsupported HTTP method: ${method}`);\n                  return; // Use return instead of continue in forEach\n              }\n              \n              registeredCount++;\n              console.log(`‚Äö√Ñ√∂‚àö‚à´‚àö√± Registered route: ${method} /api/${routeName}`);\n            }\n          });\n\n          if (registeredCount === 0) {\n            console.warn(`‚Äö√Ñ√∂‚àö‚àÇ‚Äö√Ñ‚Ä†‚àö√Æ‚Äö√†√®‚àö¬Æ  No HTTP methods found in ${routeName} route module`);\n          }\n\n        } catch (error) {\n          console.error(`‚Äö√Ñ√∂‚àöœÄ‚àö‚Ä¢ Error loading route ${file}:`, error);\n        }\n      }\n    }\n\n    // Add a test route to verify the router is working\n    router.get('/test', (req: Request, res: Response) => {\n      res.json({ \n        message: 'Router is working!', \n        timestamp: new Date().toISOString(),\n        availableRoutes: routeFiles\n      });\n    });\n    console.log('‚Äö√Ñ√∂‚àö‚à´‚àö√± Added test route: GET /api/test');\n\n  } catch (error) {\n    console.error('‚Äö√Ñ√∂‚àöœÄ‚àö‚Ä¢ Error setting up routes:', error);\n  }\n\n  return router;\n}",
    "approx_token_count": 352,
    "full_content_included_in_flat": false,
    "rank": 8
  }
]

--- FILE: backend/package.json (Relevance: 0.57) ---

{
  "name": "voice-coding-assistant-backend",
  "version": "1.0.0",
  "description": "Backend for voice coding assistant",
  "main": "dist/server.js",
  "type": "module",
  "scripts": {
    "start": "node dist/server.js",
    "dev": "tsx watch server.ts",
    "build": "tsc",
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "dependencies": {
    "axios": "^1.6.2",
    "cookie-parser": "^1.4.7",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "express": "^4.18.2",
    "express-rate-limit": "^7.1.5",
    "helmet": "^7.1.0",
    "morgan": "^1.10.0",
    "multer": "^1.4.5-lts.1",
    "openai": "^4.20.1"
  },
  "devDependencies": {
    "@types/cookie-parser": "^1.4.8",
    "@types/cors": "^2.8.17",
    "@types/express": "^4.17.21",
    "@types/morgan": "^1.9.9",
    "@types/multer": "^1.4.10",
    "@types/node": "^20.10.0",
    "cross-env": "^7.0.3",
    "ts-node-dev": "^2.0.0",
    "tsx": "^4.19.4",
    "typescript": "^5.3.2"
  }
}


--- FILE: package.json (Relevance: 0.56) ---

{
  "name": "voice-coding-assistant",
  "version": "1.0.0",
  "description": "A real-time voice-driven coding assistant web app",
  "main": "index.js",
  "scripts": {
    "install-all": "npm install && cd frontend && npm install && cd ../backend && npm install",
    "dev": "concurrently \"cd backend && npm run dev\" \"cd frontend && npm run dev\"",
    "build": "cd frontend && npm run build && cd ../backend && npm run build",
    "start": "cd backend && npm start",
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "keywords": [
    "voice",
    "coding",
    "assistant",
    "speech-to-text",
    "AI"
  ],
  "author": "",
  "license": "MIT",
  "devDependencies": {
    "concurrently": "^8.2.2"
  }
}

--- FILE: backend/routes/chat.ts (Relevance: 0.50) ---

// backend/routes/chat.ts
import { Request, Response } from 'express';
import { callOpenAI } from '../utils/llm.js';
import { trackCost, getSessionCost, isThresholdReached } from '../utils/cost.js';
import { MODEL_PREFERENCES } from '../config/models.js';
import fs from 'fs';
import path from 'path';
import { fileURLToPath } from 'url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

// Load prompt templates
function loadPromptTemplate(templateName: string): string {
  try {
    const promptPath = path.join(__dirname, '../../prompts', `${templateName}.md`);
    return fs.readFileSync(promptPath, 'utf-8');
  } catch (error) {
    console.error(`Error loading prompt template ${templateName}:`, error);
    return ''; // Return empty string if template not found
  }
}

/**
 * Handle POST /api/chat - Process chat messages
 * @param req - Express request object
 * @param res - Express response object
 */
export async function POST(req: Request, res: Response): Promise<void> {
  try {
    const { mode, messages, language = 'python', generateDiagram = false, userId = 'default_user' } = req.body;
    
    // Validate required fields
    if (!messages || !Array.isArray(messages) || messages.length === 0) {
      res.status(400).json({
        message: 'Messages array is required and cannot be empty',
        error: 'INVALID_MESSAGES'
      });
      return;
    }
    
    // Check if cost threshold reached
    if (isThresholdReached(userId)) {
      const currentCost = getSessionCost(userId);
      res.status(403).json({
        message: 'Session cost threshold reached',
        error: 'COST_THRESHOLD_EXCEEDED',
        currentCost: currentCost.totalCost,
        threshold: process.env.COST_THRESHOLD || '20.00'
      });
      return;
    }
    
    // Get appropriate model for the mode
    const modelName = MODEL_PREFERENCES[mode as keyof typeof MODEL_PREFERENCES] || MODEL_PREFERENCES.coding;
    
    // Load appropriate prompt template
    const templateContent = loadPromptTemplate(mode || 'coding');
    
    // Replace placeholders in template
    const processedTemplate = templateContent
      .replace(/{{language}}/g, language)
      .replace(/{{generateDiagram}}/g, generateDiagram ? 'true' : 'false');
    
    // Prepare messages for API call
    const systemMessage = {
      role: 'system',
      content: processedTemplate || `You are a helpful assistant specializing in ${mode || 'coding'} questions. Please provide clear, detailed responses in ${language}.`
    };
    
    const apiMessages = [systemMessage, ...messages];
    
    console.log(`Processing chat request - Mode: ${mode}, Model: ${modelName}, User: ${userId}`);
    
    // Call LLM API
    const response = await callOpenAI(apiMessages, modelName);
    
    // Track cost if usage information is available
    if (response.usage) {
      const { prompt_tokens, completion_tokens } = response.usage;
      const sessionCost = trackCost(
        userId,
        modelName,
        prompt_tokens || 0,
        completion_tokens || 0
      );
      
      // Return response with cost information
      res.status(200).json({
        message: response.text,
        model: response.model,
        usage: response.usage,
        sessionCost,
        cost: {
          prompt_tokens: prompt_tokens || 0,
          completion_tokens: completion_tokens || 0,
          total_tokens: (prompt_tokens || 0) + (completion_tokens || 0)
        }
      });
      return;
    }
    
    // Return response without detailed cost tracking
    const sessionCostDetail = getSessionCost(userId);
    res.status(200).json({
      message: response.text,
      model: response.model,
      sessionCost: sessionCostDetail.totalCost
    });
    
  } catch (error) {
    console.error('Error in chat endpoint:', error);
    
    // Provide more specific error messages
    let errorMessage = 'Error processing chat request';
    let statusCode = 500;
    
    if (error instanceof Error) {
      if (error.message.includes('API key')) {
        errorMessage = 'AI service configuration error';
        statusCode = 503;
      } else if (error.message.includes('rate limit')) {
        errorMessage = 'AI service rate limit exceeded. Please try again later.';
        statusCode = 429;
      } else if (error.message.includes('timeout')) {
        errorMessage = 'Request timeout. Please try again.';
        statusCode = 408;
      }
    }
    
    res.status(statusCode).json({
      message: errorMessage,
      error: process.env.NODE_ENV === 'production' ? 'CHAT_ERROR' : (error as Error).message
    });
  }
}

--- FILE: backend/config/router.ts (Relevance: 0.50) ---

import { Router, Request, Response } from 'express';
import fs from 'fs';
import path from 'path';
import { fileURLToPath } from 'url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

export async function configureRouter(): Promise<Router> {
  const router = Router();
  const routesDir = path.join(__dirname, '../routes');

  console.log('Ô£ø√º√Æ√ü Configuring routes from:', routesDir);

  try {
    // Check if routes directory exists
    if (!fs.existsSync(routesDir)) {
      console.error('‚Äö√π√• Routes directory does not exist:', routesDir);
      return router;
    }

    // Read all route files
    const routeFiles = fs.readdirSync(routesDir);
    console.log('Ô£ø√º√¨√Ö Found route files:', routeFiles);
    
    for (const file of routeFiles) {
      if (file.endsWith('.ts') || file.endsWith('.js')) {
        const routePath = `../routes/${file}`;
        const routeName = file.replace(/\.(ts|js)$/, '');
        
        try {
          console.log(`Ô£ø√º√Æ√ë Loading route: ${routeName} from ${routePath}`);
          
          // Import route dynamically
          const routeModule = await import(routePath);
          
          // Log what we found in the module
          console.log(`Ô£ø√º√¨√£ Route ${routeName} exports:`, Object.keys(routeModule));
          
          // Register HTTP methods if they exist in the module
          const methods = ['GET', 'POST', 'PUT', 'DELETE', 'PATCH'];
          let registeredCount = 0;
          
          methods.forEach(method => {
            if (typeof routeModule[method] === 'function') {
              const routeHandler = async (req: Request, res: Response) => {
                try {
                  console.log(`Ô£ø√º√¨¬Æ Handling ${method} /${routeName}`);
                  await routeModule[method](req, res);
                } catch (error) {
                  console.error(`‚Äö√π√• Error in ${method} /${routeName}:`, error);
                  res.status(500).json({
                    message: 'Internal server error',
                    error: process.env.NODE_ENV === 'production' ? undefined : (error as Error).message
                  });
                }
              };

              // Use explicit method calls instead of dynamic access
              switch (method.toLowerCase()) {
                case 'get':
                  router.get(`/${routeName}`, routeHandler);
                  break;
                case 'post':
                  router.post(`/${routeName}`, routeHandler);
                  break;
                case 'put':
                  router.put(`/${routeName}`, routeHandler);
                  break;
                case 'delete':
                  router.delete(`/${routeName}`, routeHandler);
                  break;
                case 'patch':
                  router.patch(`/${routeName}`, routeHandler);
                  break;
                default:
                  console.warn(`‚Äö√∂‚Ä†√î‚àè√®  Unsupported HTTP method: ${method}`);
                  return; // Use return instead of continue in forEach
              }
              
              registeredCount++;
              console.log(`‚Äö√∫√ñ Registered route: ${method} /api/${routeName}`);
            }
          });

          if (registeredCount === 0) {
            console.warn(`‚Äö√∂‚Ä†√î‚àè√®  No HTTP methods found in ${routeName} route module`);
          }

        } catch (error) {
          console.error(`‚Äö√π√• Error loading route ${file}:`, error);
        }
      }
    }

    // Add a test route to verify the router is working
    router.get('/test', (req: Request, res: Response) => {
      res.json({ 
        message: 'Router is working!', 
        timestamp: new Date().toISOString(),
        availableRoutes: routeFiles
      });
    });
    console.log('‚Äö√∫√ñ Added test route: GET /api/test');

  } catch (error) {
    console.error('‚Äö√π√• Error setting up routes:', error);
  }

  return router;
}

--- FILE: backend/routes/speech.ts (Relevance: 0.49) ---

import { Request, Response } from 'express';
import multer from 'multer';
import { transcribeWithWhisper, analyzeAudioForCost, AudioCostUtils } from '../utils/audio.js';
import { getSessionCost, isThresholdReached } from '../utils/cost.js';
import fs from 'fs';
import path from 'path';
import { fileURLToPath } from 'url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

// Configure multer for memory storage with size limits
const storage = multer.memoryStorage();
const upload = multer({ 
  storage,
  limits: { 
    fileSize: 25 * 1024 * 1024, // 25MB limit (Whisper API limit)
    files: 1 // Only one file at a time
  },
  fileFilter: (req, file, cb) => {
    // Check file type
    const allowedTypes = [
      'audio/webm',
      'audio/mp3',
      'audio/mpeg',
      'audio/mp4',
      'audio/m4a',
      'audio/wav',
      'audio/flac',
      'audio/ogg'
    ];
    
    if (allowedTypes.includes(file.mimetype) || file.originalname.match(/\.(webm|mp3|mp4|m4a|wav|flac|ogg)$/i)) {
      cb(null, true);
    } else {
      cb(new Error('Invalid file type. Supported formats: WebM, MP3, MP4, M4A, WAV, FLAC, OGG'));
    }
  }
});

// Handle audio transcription with Whisper
export async function POST(req: Request, res: Response): Promise<any> {
  try {
    // Use multer to handle the file upload
    upload.single('audio')(req, res, async (err) => {
      if (err) {
        console.error('File upload error:', err);
        
        if (err instanceof multer.MulterError) {
          if (err.code === 'LIMIT_FILE_SIZE') {
            return res.status(400).json({ 
              message: 'Audio file too large. Maximum size is 25MB.',
              error: 'FILE_TOO_LARGE',
              maxSize: '25MB'
            });
          }
          if (err.code === 'LIMIT_FILE_COUNT') {
            return res.status(400).json({ 
              message: 'Too many files. Please upload one audio file at a time.',
              error: 'TOO_MANY_FILES'
            });
          }
        }
        
        return res.status(400).json({ 
          message: err.message || 'File upload error', 
          error: 'UPLOAD_ERROR' 
        });
      }
      
      if (!req.file) {
        return res.status(400).json({ 
          message: 'No audio file provided',
          error: 'NO_FILE'
        });
      }
      
      // Get user ID from request (could be from auth middleware)
      const userId = (req as any).userId || req.body.userId || 'default';
      
      try {
        // Check cost threshold before processing
        if (isThresholdReached(userId)) {
          const currentCost = getSessionCost(userId);
          return res.status(403).json({
            message: 'Session cost threshold reached',
            error: 'COST_THRESHOLD_EXCEEDED',
            currentCost,
            threshold: process.env.COST_THRESHOLD || '20.00'
          });
        }
        
        // Analyze audio for cost estimation
        const analysis = await analyzeAudioForCost(req.file.buffer);
        
        console.log(`Audio analysis - Size: ${analysis.fileSize} bytes, Duration: ~${analysis.duration.toFixed(1)}s, Estimated cost: ${AudioCostUtils.formatCost(analysis.estimatedCost)}`);
        
        // Log recommendations if any
        if (analysis.recommendations.length > 0) {
          console.log('Audio recommendations:', analysis.recommendations);
        }
        
        // Transcribe the audio using Whisper with cost tracking
        const result = await transcribeWithWhisper(req.file.buffer, userId);
        
        // Get updated session cost
        const sessionCost = getSessionCost(userId);
        
        // Prepare response
        const response = {
          message: 'Audio transcribed successfully',
          transcription: result.transcription,
          duration: result.duration,
          cost: result.cost,
          sessionCost,
          usage: {
            durationMinutes: result.usage.durationMinutes,
            costPerMinute: result.usage.costPerMinute,
            totalCost: result.cost
          },
          analysis: {
            fileSize: analysis.fileSize,
            isOptimal: analysis.isOptimal,
            recommendations: analysis.recommendations
          },
          metadata: {
            originalFilename: req.file.originalname,
            mimeType: req.file.mimetype,
            processingTime: Date.now() - Date.now() // This would be calculated properly in a real implementation
          },
          warning: {}
        };
        
        // Add warnings if cost is getting high
        if (sessionCost.totalCost > 1.0) {
          response.warning = {
            message: 'Session cost is getting high',
            currentCost: sessionCost,
            threshold: parseFloat(process.env.COST_THRESHOLD || '20.00')
          };
        }
        
        return res.status(200).json(response);
        
      } catch (transcriptionError) {
        console.error('Transcription error:', transcriptionError);
        
        // Provide specific error messages
        let errorMessage = 'Error transcribing audio';
        let errorCode = 'TRANSCRIPTION_ERROR';
        
        if (transcriptionError instanceof Error) {
          const errorMsg = transcriptionError.message.toLowerCase();
          
          if (errorMsg.includes('api key')) {
            errorMessage = 'OpenAI API key not configured properly';
            errorCode = 'API_KEY_ERROR';
          } else if (errorMsg.includes('file format') || errorMsg.includes('unsupported')) {
            errorMessage = 'Unsupported audio format';
            errorCode = 'UNSUPPORTED_FORMAT';
          } else if (errorMsg.includes('too short')) {
            errorMessage = 'Audio too short for transcription';
            errorCode = 'AUDIO_TOO_SHORT';
          } else if (errorMsg.includes('too large')) {
            errorMessage = 'Audio file too large';
            errorCode = 'AUDIO_TOO_LARGE';
          } else if (errorMsg.includes('rate limit')) {
            errorMessage = 'Rate limit exceeded. Please try again in a moment.';
            errorCode = 'RATE_LIMIT_ERROR';
          } else if (errorMsg.includes('quota')) {
            errorMessage = 'API quota exceeded. Please check your billing.';
            errorCode = 'QUOTA_EXCEEDED';
          } else {
            errorMessage = transcriptionError.message;
          }
        }
        
        return res.status(500).json({
          message: errorMessage,
          error: errorCode,
          details: process.env.NODE_ENV === 'development' ? transcriptionError : undefined
        });
      }
    });
  } catch (error) {
    console.error('Speech endpoint error:', error);
    return res.status(500).json({
      message: 'Error processing speech request',
      error: 'INTERNAL_ERROR',
      details: process.env.NODE_ENV === 'development' ? error : undefined
    });
  }
}

// GET endpoint for retrieving speech processing statistics
export async function GET(req: Request, res: Response) {
  try {
    const userId = req.query.userId as string || 'default';
    
    const sessionCost = getSessionCost(userId);
    const costThreshold = parseFloat(process.env.COST_THRESHOLD || '20.00');
    
    return res.status(200).json({
      message: 'Speech processing statistics',
      userId,
      sessionCost,
      costThreshold,
      whisperPricing: {
        costPerMinute: AudioCostUtils.WHISPER_COST_PER_MINUTE,
        maxFileSize: AudioCostUtils.MAX_FILE_SIZE,
        minDuration: AudioCostUtils.MIN_AUDIO_DURATION
      },
      supportedFormats: [
        'audio/webm',
        'audio/mp3',
        'audio/mpeg',
        'audio/mp4',
        'audio/m4a',
        'audio/wav',
        'audio/flac',
        'audio/ogg'
      ],
      limits: {
        maxFileSize: '25MB',
        maxDuration: '10 minutes (recommended)',
        minDuration: '0.1 seconds'
      }
    });
  } catch (error) {
    console.error('Error retrieving speech statistics:', error);
    return res.status(500).json({
      message: 'Error retrieving speech statistics',
      error: 'INTERNAL_ERROR'
    });
  }
}

--- FILE: backend/utils/llm.ts (Relevance: 0.48) ---

import OpenAI from 'openai';
import axios from 'axios';
import dotenv from 'dotenv';
import { MODEL_CONFIGS } from '../config/models.js';

dotenv.config();

// Initialize OpenAI client
const openai = new OpenAI({
  apiKey: process.env.OPENAI_API_KEY
});

// Function to call OpenAI API
export async function callOpenAI(
  messages: any[],
  modelName: string = 'gpt-4o',
  temperature: number = 0.7
) {
  try {
    const response = await openai.chat.completions.create({
      model: modelName,
      messages,
      temperature,
      max_tokens: 2000,
    });

    return {
      text: response.choices[0].message.content,
      usage: response.usage,
      model: modelName
    };
  } catch (error) {
    console.error('OpenAI API error:', error);
    // If OpenAI fails, try OpenRouter as fallback
    return callOpenRouter(messages, modelName, temperature);
  }
}

// Function to call OpenRouter API
export async function callOpenRouter(
  messages: any[],
  modelName: string = 'gpt-4o',
  temperature: number = 0.7
) {
  try {
    const response = await axios.post(
      'https://openrouter.ai/api/v1/chat/completions',
      {
        model: modelName,
        messages,
        temperature,
        max_tokens: 2000,
      },
      {
        headers: {
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${process.env.OPENROUTER_API_KEY}`,
          'HTTP-Referer': 'https://voice-coding-assistant.com',
          'X-Title': 'Voice Coding Assistant',
        },
      }
    );

    return {
      text: response.data.choices[0].message.content,
      usage: response.data.usage,
      model: response.data.model
    };
  } catch (error) {
    console.error('OpenRouter API error:', error);
    throw new Error('Failed to get response from AI models');
  }
}

// Calculate cost of API usage
export function calculateCost(
  inputTokens: number,
  outputTokens: number,
  modelName: string
): number {
  const modelConfig = MODEL_CONFIGS[modelName] || MODEL_CONFIGS['gpt-4o'];
  
  const inputCost = (inputTokens / 1000) * modelConfig.inputCostPer1K;
  const outputCost = (outputTokens / 1000) * modelConfig.outputCostPer1K;
  
  return inputCost + outputCost;
}

--- FILE: backend/routes/auth.ts (Relevance: 0.48) ---

// backend/routes/auth.ts
import { Request, Response } from 'express';
import dotenv from 'dotenv';

dotenv.config();

/**
 * Handle POST /api/auth - User authentication
 * @param req - Express request object
 * @param res - Express response object
 */
export async function POST(req: Request, res: Response): Promise<void> {
  try {
    const { password, rememberMe = false } = req.body;
    const correctPassword = process.env.PASSWORD;

    if (!correctPassword) {
      console.error('Server configuration error: PASSWORD not set in environment');
      res.status(500).json({
        message: 'Server configuration error',
        error: 'AUTH_NOT_CONFIGURED'
      });
      return;
    }

    if (!password) {
      res.status(400).json({
        message: 'Password is required',
        error: 'MISSING_PASSWORD'
      });
      return;
    }

    if (password !== correctPassword) {
      res.status(401).json({
        message: 'Invalid password',
        error: 'INVALID_CREDENTIALS'
      });
      return;
    }

    // Successful authentication
    const token = correctPassword; // Using password as token for simplicity
    
    // Set cookie if remember me is selected
    if (rememberMe) {
      res.cookie('auth', token, {
        httpOnly: true,
        secure: process.env.NODE_ENV === 'production',
        maxAge: 30 * 24 * 60 * 60 * 1000, // 30 days
        sameSite: 'strict'
      });
    }

    res.status(200).json({
      message: 'Authentication successful',
      token: token,
      rememberMe: rememberMe,
      user: {
        authenticated: true,
        id: 'default_user'
      }
    });

  } catch (error) {
    console.error('Auth endpoint error:', error);
    res.status(500).json({
      message: 'Internal server error during authentication',
      error: process.env.NODE_ENV === 'production' ? 'INTERNAL_ERROR' : (error as Error).message
    });
  }
}

/**
 * Handle GET /api/auth - Check authentication status
 * @param req - Express request object  
 * @param res - Express response object
 */
export async function GET(req: Request, res: Response): Promise<void> {
  try {
    // If we reach here, the auth middleware has already validated the token
    const user = (req as any).user || { authenticated: true, id: 'default_user' };
    
    res.status(200).json({
      message: 'Authenticated',
      authenticated: true,
      user: user
    });
  } catch (error) {
    console.error('Auth status check error:', error);
    res.status(500).json({
      message: 'Error checking authentication status',
      error: process.env.NODE_ENV === 'production' ? 'INTERNAL_ERROR' : (error as Error).message
    });
  }
}

--- FILE: backend/middleware/auth.ts (Relevance: 0.46) ---

// backend/middleware/auth.ts
import { Request, Response, NextFunction } from 'express';
import dotenv from 'dotenv';
import path from 'path';
import { fileURLToPath } from 'url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

// Load .env variables from the root of the project
dotenv.config({ path: path.resolve(__dirname, '../../../.env') });

/**
 * Authentication middleware for Express routes
 * Validates Bearer tokens and auth cookies
 */
export const authMiddleware = (req: Request, res: Response, next: NextFunction) => {
  // Skip auth check for the auth route itself
  if (req.path === '/auth') {
    return next();
  }

  const authHeader = req.headers.authorization;
  const authCookie = req.cookies?.auth; 
  const password = process.env.PASSWORD;

  if (!password) {
    console.error('SERVER ERROR: Authentication password is not set in environment variables. Denying access.');
    return res.status(500).json({ 
      message: 'Server configuration error: Authentication not configured.',
      error: 'AUTH_NOT_CONFIGURED'
    });
  }

  // Check Bearer token first (more common for API clients)
  if (authHeader && authHeader.startsWith('Bearer ')) {
    const token = authHeader.split(' ')[1];
    if (token === password) {
      // Add user info to request for downstream use
      (req as any).user = { authenticated: true, id: 'default_user' };
      return next(); // Authenticated
    }
  }

  // Check cookie as fallback (more common for browser sessions after login)
  if (authCookie && authCookie === password) {
    // Add user info to request for downstream use
    (req as any).user = { authenticated: true, id: 'default_user' };
    return next(); // Authenticated
  }
  
  // Log unauthorized attempts for debugging
  console.warn(`Unauthorized access attempt to ${req.method} ${req.path}. IP: ${req.ip}`);
  
  return res.status(401).json({ 
    message: 'Unauthorized: Authentication required',
    error: 'AUTHENTICATION_REQUIRED'
  });
};

--- FILE: frontend/src/utils/api.ts (Relevance: 0.45) ---

// frontend/src/utils/api.ts
import axios from 'axios';

// Get environment variables (Vite exposes them via import.meta.env)
// @ts-ignore
const API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:3333';
// @ts-ignore
const SHARED_PASSWORD = import.meta.env.VITE_SHARED_PASSWORD || 'password';

// Create axios instance with base configuration
export const api = axios.create({
  baseURL: API_BASE_URL,
  timeout: 30000, // 30 second timeout
  headers: {
    'Content-Type': 'application/json',
  },
});

// Auth helper functions
export const getAuthHeaders = () => {
  const token = localStorage.getItem('token') || sessionStorage.getItem('token') || SHARED_PASSWORD;
  
  if (!token) {
    console.warn("No authentication token available");
    return {};
  }
  
  return { 
    'Authorization': `Bearer ${token}` 
  };
};

// Set default auth header if token exists
const token = localStorage.getItem('token') || sessionStorage.getItem('token') || SHARED_PASSWORD;
if (token) {
  api.defaults.headers.common['Authorization'] = `Bearer ${token}`;
}

// Request interceptor to add auth headers
api.interceptors.request.use(
  (config) => {
    // Add auth header if not already present
    if (!config.headers.Authorization) {
      const authHeaders = getAuthHeaders();
      if (authHeaders.Authorization) {
        config.headers.Authorization = authHeaders.Authorization;
      }
    }
    return config;
  },
  (error) => {
    return Promise.reject(error);
  }
);

// Response interceptor for error handling
api.interceptors.response.use(
  (response) => response,
  (error) => {
    if (error.response?.status === 401) {
      // Clear invalid tokens
      localStorage.removeItem('token');
      sessionStorage.removeItem('token');
      
      // Redirect to login if we're not already there
      if (!window.location.pathname.includes('/login')) {
        window.location.href = '/login';
      }
    }
    return Promise.reject(error);
  }
);

// API endpoint functions
export const chatAPI = {
  sendMessage: (data: any) => api.post('/api/chat', data),
};

export const speechAPI = {
  transcribe: (audioData: FormData) => api.post('/api/speech', audioData, {
    headers: { 'Content-Type': 'multipart/form-data' },
  }),
  getStats: () => api.get('/api/speech'),
};

export const costAPI = {
  getCost: () => api.get('/api/cost'),
  resetCost: (data?: any) => api.post('/api/cost', data),
};

export const authAPI = {
  login: (credentials: { password: string; rememberMe?: boolean }) => 
    api.post('/api/auth', credentials),
};

export default api;

--- FILE: confluence.py (Relevance: 0.43) ---

#!/usr/bin/env python3

import os
import logging
import time
from datetime import datetime
from pathlib import Path
import json
from multiprocessing import Pool, cpu_count
from typing import Optional, List, Generator, Any, Dict, Tuple, Set
import re

# Third-party libraries
try:
    import typer
    from tqdm import tqdm
    import yake
    from sklearn.feature_extraction.text import TfidfVectorizer
    from sklearn.metrics.pairwise import cosine_similarity
    import chardet
except ImportError as e:
    print(f"Missing one or more required libraries: {e}. Please install them.")
    print("You can typically install them using pip:")
    print("pip install typer tqdm yake scikit-learn chardet")
    exit(1)

# --- Configuration (formerly config.py) ---

# Default CLI Parameter Values
DEFAULT_OUTPUT_JSON: str = "confluence_output.json"
DEFAULT_OUTPUT_FLAT: str = "confluence_output.txt"
DEFAULT_PRESET: str = "code"
DEFAULT_SIMILARITY_THRESHOLD: float = 0.05
DEFAULT_KEYWORD_BOOST: float = 1.5
DEFAULT_MAX_FILE_SIZE: int = 5 * 1024 * 1024  # 5 MB
DEFAULT_MAX_FLAT_TOKENS: int = 50000
DEFAULT_LOG_LEVEL: str = "INFO"
DEFAULT_PROGRESS_BAR: bool = True

# File Handling Presets & Rules
DEFAULT_IGNORE_DIRS: Set[str] = {
    ".git", "__pycache__", "node_modules", "venv", ".venv", "target", "build",
    "dist", ".vscode", ".idea", "logs", "temp", "tmp", ".DS_Store", "Thumbs.db"
}

DEFAULT_IGNORE_EXTENSIONS: Set[str] = {
    ".exe", ".dll", ".so", ".o", ".a", ".lib", ".jar", ".war", ".class", ".pyc", ".pyo",
    ".zip", ".tar", ".gz", ".bz2", ".rar", ".7z", ".tgz",
    ".png", ".jpg", ".jpeg", ".gif", ".bmp", ".tiff", ".ico", ".svg",
    ".mp3", ".wav", ".ogg", ".mp4", ".avi", ".mov", ".mkv", ".flv",
    ".pdf", ".doc", ".docx", ".ppt", ".pptx", ".xls", ".xlsx", ".odt", ".ods", ".odp",
    ".db", ".sqlite", ".mdb", ".accdb", ".dat", ".idx",
    ".log", ".tmp", ".temp", ".bak", ".swp", ".swo", ".lock",
}

DEFAULT_PRESETS: Dict[str, Set[str]] = {
    "code": {
        ".py", ".js", ".ts", ".jsx", ".tsx", ".java", ".c", ".cpp", ".h", ".hpp",
        ".cs", ".go", ".rs", ".swift", ".kt", ".kts", ".scala", ".rb", ".pl",
        ".sh", ".bash", ".zsh", ".ps1", ".php", ".groovy", ".dart", ".lua",
        ".r", ".m", ".sql", ".yaml", ".yml", ".json", ".xml", ".html", ".css",
        ".tf", ".hcl", ".ini", ".cfg", ".conf", ".properties", ".toml"
    },
    "docs": {
        ".md", ".txt", ".rst", ".tex", ".adoc", ".org", ".asciidoc", ".rtf",
        ".html", ".xml", ".json", ".csv",
        ".yaml", ".yml", ".ini", ".cfg", ".conf", ".properties", ".toml"
    },
    "all_text": set() # Signifies match all not explicitly ignored
}

# NLP Configuration
YAKE_LANGUAGE: str = "en"
YAKE_MAX_NGRAM_SIZE: int = 3
YAKE_NUM_KEYWORDS: int = 10

# Multiprocessing
DEFAULT_NUM_WORKERS: int = 0 # 0 means use os.cpu_count()

# Output Configuration
SNIPPET_MAX_LINES: int = 10
SNIPPET_MAX_CHARS_PER_LINE: int = 120
FLATTENED_FILE_HEADER_TEMPLATE: str = "--- FILE: {relative_path} (Relevance: {relevance_score:.2f}) ---"
VALID_LOG_LEVELS: Set[str] = {"DEBUG", "INFO", "WARNING", "ERROR", "CRITICAL"}

def approximate_word_count(text: str) -> int:
    return len(text.split())

def get_cpu_count_safe() -> int:
    return os.cpu_count() or 1

# --- Utilities (formerly utils.py) ---

# Global logger instance, configured in main_cli
logger: Optional[logging.Logger] = None

def setup_logger_global(level: str = "INFO") -> logging.Logger:
    """Configures and returns the global logger."""
    global logger
    logger = logging.getLogger("Confluence")
    logger.setLevel(level.upper())
    # Clear existing handlers to avoid duplicates if called multiple times
    if logger.hasHandlers():
        logger.handlers.clear()
    handler = logging.StreamHandler()
    formatter = logging.Formatter('%(asctime)s - %(name)s - %(levelname)s - %(message)s')
    handler.setFormatter(formatter)
    logger.addHandler(handler)
    return logger

def get_file_metadata(file_path: Path, search_root: Path) -> Dict[str, Any]:
    try:
        stat = file_path.stat()
        return {
            "file_path": str(file_path.resolve()),
            "relative_path": str(file_path.relative_to(search_root)),
            "file_name": file_path.name,
            "extension": file_path.suffix.lower(),
            "size_bytes": stat.st_size,
            "last_modified": datetime.fromtimestamp(stat.st_mtime).isoformat(),
        }
    except Exception as e:
        if logger:
            logger.debug(f"Could not get metadata for {file_path}: {e}")
        return {
            "file_path": str(file_path.resolve()),
            "relative_path": str(file_path.relative_to(search_root) if search_root and search_root in file_path.parents else file_path.name),
            "file_name": file_path.name,
            "extension": file_path.suffix.lower(),
            "size_bytes": -1,
            "last_modified": datetime.fromtimestamp(0).isoformat(),
        }

def read_file_content(file_path: Path, max_file_size: int) -> Optional[str]:
    if logger is None: # Should not happen if setup_logger_global is called
        local_fallback_logger = logging.getLogger("Confluence.ReadFileFallback")
        local_fallback_logger.warning("Global logger not initialized during read_file_content.")
    current_logger = logger or logging.getLogger("Confluence.ReadFile")

    try:
        if file_path.stat().st_size > max_file_size:
            current_logger.debug(f"Skipping large file: {file_path} (size > {max_file_size} bytes)")
            return None
        if file_path.stat().st_size == 0:
            current_logger.debug(f"Skipping empty file: {file_path}")
            return ""

        with open(file_path, 'rb') as f_binary:
            raw_data = f_binary.read()

        detected_encoding = chardet.detect(raw_data)['encoding']

        if detected_encoding:
            try:
                return raw_data.decode(detected_encoding)
            except (UnicodeDecodeError, TypeError) as e:
                current_logger.warning(f"Could not decode {file_path} with detected encoding {detected_encoding}: {e}. Trying UTF-8.")
                try:
                    return raw_data.decode('utf-8')
                except UnicodeDecodeError as e_utf8:
                    current_logger.error(f"UTF-8 fallback failed for {file_path}: {e_utf8}. Skipping file.")
                    return None
        else:
            current_logger.debug(f"Chardet could not detect encoding for {file_path}. Trying common fallbacks.")
            for enc in ['utf-8', 'latin-1', 'ascii']:
                try:
                    return raw_data.decode(enc)
                except UnicodeDecodeError:
                    continue
            current_logger.error(f"Could not decode {file_path} with any common fallback encodings. Skipping.")
            return None
    except FileNotFoundError:
        current_logger.error(f"File not found during read: {file_path}")
        return None
    except PermissionError:
        current_logger.warning(f"Permission denied reading file: {file_path}")
        return None
    except Exception as e:
        current_logger.error(f"Error reading file {file_path}: {e}")
        return None

def generate_snippet(content: str, keywords: Optional[List[str]] = None) -> str:
    if not content: return ""
    lines = content.splitlines()
    if not lines: return ""

    best_snippet_lines: List[str] = []
    if keywords:
        keyword_lines_indices: Set[int] = set()
        for kw in keywords:
            kw_lower = kw.lower()
            for i, line in enumerate(lines):
                if kw_lower in line.lower():
                    keyword_lines_indices.add(i)
        
        if keyword_lines_indices:
            # Try to get context around keyword lines
            contextual_indices: Set[int] = set()
            for idx in sorted(list(keyword_lines_indices)): # Process in order to build contiguous blocks
                start = max(0, idx - SNIPPET_MAX_LINES // 4)
                end = min(len(lines), idx + (SNIPPET_MAX_LINES // 4) + 1)
                for i in range(start, end):
                    contextual_indices.add(i)
                    if len(contextual_indices) >= SNIPPET_MAX_LINES * 2: # Buffer a bit more
                        break
                if len(contextual_indices) >= SNIPPET_MAX_LINES * 2:
                        break
            # Select unique lines, keep order as much as possible, limit to SNIPPET_MAX_LINES
            best_snippet_lines = [lines[i] for i in sorted(list(contextual_indices))[:SNIPPET_MAX_LINES]]


    if not best_snippet_lines:
        best_snippet_lines = lines[:SNIPPET_MAX_LINES]

    truncated_snippet_lines: List[str] = []
    for line in best_snippet_lines:
        if len(line) > SNIPPET_MAX_CHARS_PER_LINE:
            truncated_snippet_lines.append(line[:SNIPPET_MAX_CHARS_PER_LINE-3] + "...")
        else:
            truncated_snippet_lines.append(line)
    return "\n".join(truncated_snippet_lines)

def format_results_to_flat_text(results: List[Dict[str, Any]], max_tokens: int, header_template: str) -> str:
    current_logger = logger or logging.getLogger("Confluence.FormatFlat")
    flat_text_parts: List[str] = []
    current_token_count: int = 0
    files_included_count: int = 0

    for result in results:
        file_header = header_template.format(
            relative_path=result["relative_path"],
            relevance_score=result["relevance_score"]
        )
        header_token_count = approximate_word_count(file_header)
        # Use full_content if available, otherwise empty string
        file_full_content = result.get("full_content", "")
        content_token_count = approximate_word_count(file_full_content)

        if current_token_count + header_token_count + content_token_count <= max_tokens:
            flat_text_parts.append(file_header)
            flat_text_parts.append(file_full_content)
            current_token_count += header_token_count + content_token_count
            result["full_content_included_in_flat"] = True
            files_included_count += 1
        elif current_token_count + header_token_count < max_tokens:
            remaining_tokens = max_tokens - current_token_count - header_token_count
            words = file_full_content.split()
            truncated_content = " ".join(words[:remaining_tokens])
            if len(words) > remaining_tokens:
                 truncated_content += " ... (truncated)"

            flat_text_parts.append(file_header)
            flat_text_parts.append(truncated_content)
            current_token_count += header_token_count + approximate_word_count(truncated_content)
            result["full_content_included_in_flat"] = "partial"
            files_included_count += 1
            break
        else:
            result["full_content_included_in_flat"] = False
            break
    current_logger.info(f"Included content from {files_included_count} files in flattened output (approx. {current_token_count} tokens).")
    return "\n\n".join(flat_text_parts)

# --- NLP Utilities (formerly nlp_utils.py) ---

# Global TF-IDF related objects. They are initialized by `initialize_prompt_vector`.
# This is necessary because the vectorizer needs to be fitted (trained) on the prompt's vocabulary.
tfidf_vectorizer_global: Optional[TfidfVectorizer] = None
prompt_tfidf_vector_global: Optional[Any] = None # Scipy sparse matrix

def extract_keywords_from_prompt(prompt: str) -> List[str]:
    current_logger = logger or logging.getLogger("Confluence.NLP")
    try:
        custom_kw_extractor = yake.KeywordExtractor(
            lan=YAKE_LANGUAGE,
            n=YAKE_MAX_NGRAM_SIZE,
            dedupLim=0.9,
            dedupFunc='seqm',
            windowsSize=1,
            top=YAKE_NUM_KEYWORDS,
            features=None
        )
        keywords_with_scores = custom_kw_extractor.extract_keywords(prompt)
        keywords = [kw for kw, score in keywords_with_scores]
        current_logger.debug(f"Extracted YAKE keywords: {keywords}")
        return keywords
    except Exception as e:
        current_logger.error(f"Error extracting keywords with YAKE: {e}")
        return list(set(re.findall(r'\b\w+\b', prompt.lower())))[:YAKE_NUM_KEYWORDS]

def initialize_prompt_vector(prompt_text: str) -> None:
    global tfidf_vectorizer_global, prompt_tfidf_vector_global
    current_logger = logger or logging.getLogger("Confluence.NLP")
    tfidf_vectorizer_global = TfidfVectorizer(
        stop_words='english',
        lowercase=True,
        norm='l2',
        token_pattern=r"(?u)\b\w\w+\b"
    )
    try:
        prompt_tfidf_vector_global = tfidf_vectorizer_global.fit_transform([prompt_text])
        current_logger.debug("Prompt TF-IDF vector initialized.")
    except Exception as e:
        current_logger.error(f"Failed to initialize prompt TF-IDF vector: {e}")
        prompt_tfidf_vector_global = None

def calculate_tfidf_cosine_similarity(file_content: str) -> float:
    global tfidf_vectorizer_global, prompt_tfidf_vector_global
    current_logger = logger or logging.getLogger("Confluence.NLP")
    if prompt_tfidf_vector_global is None or tfidf_vectorizer_global is None or not file_content:
        return 0.0
    try:
        file_vector = tfidf_vectorizer_global.transform([file_content])
        similarity = cosine_similarity(prompt_tfidf_vector_global, file_vector)[0][0]
        return float(similarity)
    except Exception as e:
        current_logger.debug(f"Could not calculate TF-IDF similarity for content starting with '{file_content[:50]}...': {e}")
        return 0.0

def calculate_keyword_score(file_content: str, keywords: List[str]) -> float:
    if not keywords or not file_content: return 0.0
    score: float = 0.0
    content_lower = file_content.lower()
    num_keywords_found: int = 0
    total_frequency: int = 0

    for kw in keywords:
        kw_lower = kw.lower()
        matches = re.findall(r'\b' + re.escape(kw_lower) + r'\b', content_lower)
        if matches:
            num_keywords_found += 1
            total_frequency += len(matches)

    if not num_keywords_found: return 0.0
    
    # Score for distinct keywords found
    distinct_kw_score = (num_keywords_found / len(keywords)) * 0.6 # Weight distinctness more

    # Score for total frequency, normalized by content length (approx words)
    content_words = len(content_lower.split()) + 1 # Add 1 to avoid div by zero
    # Normalize frequency to avoid overly biasing long documents.
    # Max frequency component contribution is 0.4.
    # This scaling factor (e.g., 10) is heuristic.
    frequency_component = min((total_frequency / content_words) * 10, 0.4) 
    
    score = distinct_kw_score + frequency_component
    return min(score, 1.0)

def calculate_combined_relevance(
    file_content: str,
    prompt_keywords: List[str],
    keyword_boost_factor: float
) -> Tuple[float, float, float, str]:
    if not file_content:
        return 0.0, 0.0, 0.0, "none"

    similarity_score = calculate_tfidf_cosine_similarity(file_content)
    keyword_match_score = calculate_keyword_score(file_content, prompt_keywords)

    combined_score: float = 0.0
    match_type: str = "none"

    # Weighted average: (w1*s1 + w2*s2) / (w1+w2)
    # Here, w1=1 for similarity, w2=keyword_boost_factor for keyword score
    if similarity_score > 0.001 or keyword_match_score > 0.001: # If either contributes meaningfully
        combined_score = (similarity_score + (keyword_match_score * keyword_boost_factor)) / (1 + keyword_boost_factor)
    
    # Determine match type for reporting
    sim_threshold_type = 0.02 # Small threshold to be considered a 'similarity' match contributor
    kw_threshold_type = 0.05  # Small threshold to be considered a 'keyword' match contributor

    has_sim = similarity_score >= sim_threshold_type
    has_kw = keyword_match_score >= kw_threshold_type

    if has_sim and has_kw:
        match_type = "keyword_similarity"
    elif has_kw:
        match_type = "keyword"
    elif has_sim:
        match_type = "similarity"
        
    return min(combined_score, 1.0), similarity_score, keyword_match_score, match_type

# --- File Processor (formerly file_processor.py) ---

class FileProcessor:
    def __init__(self, search_root: Path, cli_args: Dict[str, Any]):
        self.search_root: Path = search_root
        self.args: Dict[str, Any] = cli_args # Parsed CLI arguments + derived values

        self.prompt_keywords: List[str] = cli_args.get("prompt_keywords", [])
        self.similarity_threshold: float = cli_args.get("similarity_threshold", DEFAULT_SIMILARITY_THRESHOLD)
        self.max_file_size: int = cli_args.get("max_file_size", DEFAULT_MAX_FILE_SIZE)
        self.keyword_boost: float = cli_args.get("keyword_boost", DEFAULT_KEYWORD_BOOST)
        
        self.current_logger = logger or logging.getLogger("Confluence.FileProcessor")

        # Determine effective file extensions and ignored directories
        preset_name: str = cli_args.get("preset", DEFAULT_PRESET)
        include_ext_str: Optional[str] = cli_args.get("include_ext")
        exclude_ext_str: Optional[str] = cli_args.get("exclude_ext")
        cli_ignore_dirs: Optional[List[str]] = cli_args.get("ignore_dir")

        self.included_extensions: Set[str]
        self.active_exclusions: Set[str] = set(DEFAULT_IGNORE_EXTENSIONS) # Start with default ignores

        if exclude_ext_str:
            additional_exclusions = {f".{ext.strip().lstrip('.')}" for ext in exclude_ext_str.split(',') if ext.strip()}
            self.active_exclusions.update(additional_exclusions)
            self.current_logger.debug(f"Adding explicit exclude extensions: {additional_exclusions}")

        if include_ext_str: # Explicit includes override presets and default ignores for these specific extensions
            self.included_extensions = {f".{ext.strip().lstrip('.')}" for ext in include_ext_str.split(',') if ext.strip()}
            self.current_logger.info(f"Using explicit include extensions: {self.included_extensions}")
        elif preset_name == "all_text":
            self.included_extensions = set() # Signifies match all not in active_exclusions
            self.current_logger.info(f"'all_text' preset: will include files not in exclusions: {self.active_exclusions}")
        else: # Use preset extensions, filtering out any active exclusions
            preset_extensions = DEFAULT_PRESETS.get(preset_name, set())
            self.included_extensions = {ext for ext in preset_extensions if ext not in self.active_exclusions}
            self.current_logger.info(f"Using preset '{preset_name}', target extensions: {self.included_extensions}, excluded: {self.active_exclusions.intersection(preset_extensions)}")
        
        self.ignored_dirs: Set[str] = {d.lower() for d in (cli_ignore_dirs or [])}.union(DEFAULT_IGNORE_DIRS)
        self.current_logger.debug(f"Effective ignored directories: {self.ignored_dirs}")


    def _is_relevant_file_by_rules(self, file_path: Path) -> bool:
        if not file_path.is_file(): return False

        if any(ignored_dir in part.lower() for ignored_dir in self.ignored_dirs for part in file_path.parts):
            self.current_logger.debug(f"Skipping file in ignored directory: {file_path}")
            return False

        file_ext = file_path.suffix.lower()
        
        # If --include-ext was used, only those extensions are allowed
        if self.args.get("include_ext"): # Check original CLI arg presence
            return file_ext in self.included_extensions

        # Otherwise, check against active_exclusions
        if file_ext in self.active_exclusions:
            self.current_logger.debug(f"Skipping file with actively excluded extension '{file_ext}': {file_path}")
            return False
        
        # If 'all_text' preset (and no --include-ext), it passed exclusion, so it's good
        if self.args.get("preset") == "all_text" and not self.args.get("include_ext"):
             self.current_logger.debug(f"Including '{file_ext}' file due to 'all_text' preset and not excluded: {file_path}")
             return True
        
        # For other presets (code, docs) or if self.included_extensions has items
        if self.included_extensions: # This means it's a preset like 'code' or 'docs' after filtering
            return file_ext in self.included_extensions
        
        # Fallback: if no specific extensions defined for the preset (e.g., after all exclusions),
        # and it's not 'all_text', then no files of this type are targeted.
        # This path should ideally not be hit if presets are well-defined.
        if not self.included_extensions and self.args.get("preset") != "all_text":
            self.current_logger.warning(f"No target extensions effectively defined for preset '{self.args.get('preset')}' for file '{file_path}'. It will be skipped.")
            return False
        
        # Should be covered: if it got here, it wasn't excluded and didn't need specific inclusion.
        return True


    def discover_files(self) -> Generator[Path, None, None]:
        self.current_logger.info(f"Starting file discovery in '{self.search_root}'...")
        count = 0
        for item in self.search_root.rglob("*"):
            if self._is_relevant_file_by_rules(item):
                yield item
                count += 1
        self.current_logger.info(f"File discovery complete. Found {count} potentially relevant files to check.")

# --- Worker function for multiprocessing (must be top-level) ---

def process_file_task_worker(
    file_path_str: str,
    search_root_str: str,
    prompt_keywords_list: List[str],
    keyword_boost_val: float,
    similarity_thresh_val: float,
    max_fsize: int,
    log_level_str: str # Added to set up logger in worker
) -> Optional[Dict[str, Any]]:
    
    # Logger setup for this worker process
    # Each worker needs its own logger instance, or logging might get messy
    worker_logger = logging.getLogger(f"Confluence.Worker.{os.getpid()}")
    worker_logger.setLevel(log_level_str)
    if not worker_logger.handlers: # Avoid adding handlers repeatedly if pool reuses processes with same pid (less likely)
        handler = logging.StreamHandler()
        formatter = logging.Formatter('%(asctime)s - %(process)d - %(name)s - %(levelname)s - %(message)s')
        handler.setFormatter(formatter)
        worker_logger.addHandler(handler)
    
    # Re-Pathify
    current_file_path = Path(file_path_str)
    search_root_path = Path(search_root_str)
    worker_logger.debug(f"Processing {current_file_path}")

    # Content reading
    # Note: read_file_content uses the global `logger`. This might be an issue if not careful.
    # It's better if utility functions take a logger instance. For now, assume it works or falls back.
    # Pass worker_logger to utilities if they are refactored to accept it.
    content = read_file_content(current_file_path, max_fsize) # read_file_content uses global logger
    if content is None:
        worker_logger.debug(f"No content for {current_file_path}, skipping.")
        return None

    # Scoring
    # calculate_combined_relevance also uses global logger and NLP globals
    combined_score, sim_score, kw_score, match_type = calculate_combined_relevance(
        content,
        prompt_keywords_list,
        keyword_boost_val
    )

    if combined_score < similarity_thresh_val:
        worker_logger.debug(f"File {current_file_path} below relevance {similarity_thresh_val} (score: {combined_score:.3f}). Skipping.")
        return None

    # Metadata
    metadata = get_file_metadata(current_file_path, search_root_path) # Uses global logger
    metadata.update({
        "relevance_score": combined_score,
        "similarity_score": sim_score,
        "keyword_score": kw_score,
        "match_type": match_type,
        "matched_keywords": [kw for kw in prompt_keywords_list if re.search(r'\b' + re.escape(kw.lower()) + r'\b', content.lower())],
        "content_snippet": generate_snippet(content, prompt_keywords_list), # Uses global logger
        "full_content": content,
        "approx_token_count": approximate_word_count(content),
        "full_content_included_in_flat": False
    })
    worker_logger.info(f"Relevant: {current_file_path} (Score: {combined_score:.3f}, Type: {match_type})")
    return metadata

# --- Main CLI Application (formerly main.py) ---

app = typer.Typer(
    name="Confluence",
    help="Recursively crawls folders, aggregates file contents for LLMs based on prompt similarity and keywords.",
    add_completion=False
)

@app.command(context_settings={"max_content_width": 120})
def main_cli(
    prompt: str = typer.Argument(..., help="The text prompt to guide the file search."),
    directory: Path = typer.Argument(..., exists=True, file_okay=False, dir_okay=True, readable=True, resolve_path=True, help="Root directory to crawl."),
    output_json: Path = typer.Option(lambda: Path(DEFAULT_OUTPUT_JSON), "--output-json", "-oj", help="Path for structured JSON output.", show_default=True),
    output_flat: Path = typer.Option(lambda: Path(DEFAULT_OUTPUT_FLAT), "--output-flat", "-of", help="Path for flattened text output for LLMs.", show_default=True),
    preset: str = typer.Option(DEFAULT_PRESET, "--preset", "-p", help=f"File filter preset. Options: {list(DEFAULT_PRESETS.keys())}", show_default=True),
    include_ext: Optional[str] = typer.Option(None, "--include-ext", "-ie", help="Comma-separated extensions to include (e.g., .py,.md). Overrides preset logic."),
    exclude_ext: Optional[str] = typer.Option(None, "--exclude-ext", "-ee", help="Comma-separated extensions to exclude (e.g., .log,.tmp). Appends to default/preset ignores."),
    ignore_dir: Optional[List[str]] = typer.Option(None, "--ignore-dir", "-id", help=f"Directory names to ignore (case-insensitive). Can be specified multiple times. Defaults: {list(DEFAULT_IGNORE_DIRS)}."),
    similarity_threshold: float = typer.Option(DEFAULT_SIMILARITY_THRESHOLD, "--similarity-threshold", "-st", min=0.0, max=1.0, help="Minimum combined relevance score.", show_default=True),
    keyword_boost: float = typer.Option(DEFAULT_KEYWORD_BOOST, "--keyword-boost", "-kb", min=0.0, help="Multiplier for keyword match score contribution.", show_default=True),
    max_file_size: int = typer.Option(DEFAULT_MAX_FILE_SIZE, "--max-file-size", "-mfs", min=0, help="Maximum file size in bytes to process.", show_default=True),
    max_flat_tokens: int = typer.Option(DEFAULT_MAX_FLAT_TOKENS, "--max-flat-tokens", "-mft", min=0, help="Approximate max words for flattened output.", show_default=True),
    num_workers: int = typer.Option(DEFAULT_NUM_WORKERS, "--num-workers", "-nw", min=0, help="Number of worker processes (0 for auto = CPU cores).", show_default="auto"),
    log_level: str = typer.Option(DEFAULT_LOG_LEVEL, "--log-level", "-ll", case_sensitive=False, help=f"Logging level. Options: {list(VALID_LOG_LEVELS)}", show_default=True),
    progress: bool = typer.Option(DEFAULT_PROGRESS_BAR, "--progress/--no-progress", help="Show progress bar.", show_default=True)
):
    """
    Confluence: Crawl, Understand, Aggregate.
    Finds relevant files based on your prompt and prepares them for an LLM.
    """
    global logger # Allow modification of the global logger instance
    if log_level.upper() not in VALID_LOG_LEVELS:
        typer.echo(f"Error: Invalid log level '{log_level}'. Choose from {list(VALID_LOG_LEVELS)}.", err=True)
        raise typer.Exit(code=1)
    logger = setup_logger_global(log_level) # Sets up the global logger

    start_time = time.time()
    logger.info("Confluence process started.")
    logger.info(f"Prompt: '{prompt}'")
    logger.info(f"Directory: '{directory}'")

    # NLP Initialization
    prompt_keywords = extract_keywords_from_prompt(prompt)
    initialize_prompt_vector(prompt) # This sets tfidf_vectorizer_global and prompt_tfidf_vector_global
    if prompt_tfidf_vector_global is None:
         logger.critical("Prompt TF-IDF vector could not be initialized. This is critical. Exiting.")
         typer.echo("Error: NLP model for prompt could not be initialized. Cannot continue.", err=True)
         raise typer.Exit(code=1)
    logger.info(f"Prompt keywords extracted: {prompt_keywords}")

    # Prepare FileProcessor arguments
    effective_ignore_dirs = list(ignore_dir) if ignore_dir else list(DEFAULT_IGNORE_DIRS)
    
    processor_cli_args = {
        "prompt_keywords": prompt_keywords,
        "preset": preset, "include_ext": include_ext, "exclude_ext": exclude_ext,
        "ignore_dir": effective_ignore_dirs, # Pass the resolved list
        "similarity_threshold": similarity_threshold, "keyword_boost": keyword_boost,
        "max_file_size": max_file_size,
        # These are not directly used by FileProcessor init but needed for worker or other logic
        "search_root_str": str(directory.resolve()), 
        "log_level": log_level.upper(),
    }
    file_processor_instance = FileProcessor(search_root=directory, cli_args=processor_cli_args)

    # File Discovery
    discovered_files_list = list(file_processor_instance.discover_files())
    if not discovered_files_list:
        logger.warning("No files found matching discovery criteria. Exiting.")
        typer.echo("No files found matching your criteria to process.")
        raise typer.Exit(code=0)
    logger.info(f"Discovered {len(discovered_files_list)} files to analyze.")

    # Parallel Processing
    actual_num_workers = num_workers if num_workers > 0 else get_cpu_count_safe()
    logger.info(f"Using {actual_num_workers} worker processes.")

    # Prepare arguments for each worker task. Must be picklable.
    tasks_for_pool = [
        (
            str(fp), # file_path_str
            str(directory.resolve()), # search_root_str
            prompt_keywords, # prompt_keywords_list
            keyword_boost, # keyword_boost_val
            similarity_threshold, # similarity_thresh_val
            max_file_size, # max_fsize
            log_level.upper() # log_level_str
        )
        for fp in discovered_files_list
    ]

    processed_results: List[Dict[str, Any]] = []
    # The TF-IDF vectorizer and prompt vector are global.
    # On POSIX, fork will make them available. On Windows, this can be an issue.
    # Scikit-learn objects are generally picklable, so they *could* be passed,
    # but that adds complexity to the worker function signature and pickling overhead.
    # Current setup relies on fork or that Python's default pickling handles it sufficiently.

    if progress:
        with Pool(processes=actual_num_workers) as pool:
            results_iterator = pool.starmap(process_file_task_worker, tasks_for_pool)
            for result in tqdm(results_iterator, total=len(tasks_for_pool), desc="Processing files", unit="file"):
                if result:
                    processed_results.append(result)
    else: # No progress bar
        with Pool(processes=actual_num_workers) as pool:
            raw_mp_results = pool.starmap(process_file_task_worker, tasks_for_pool)
        processed_results = [res for res in raw_mp_results if res] # Filter out None results

    if not processed_results:
        logger.warning("No files met the relevance criteria after NLP processing.")
        typer.echo("No files were found to be relevant enough to your prompt after analysis.")
        raise typer.Exit(code=0)

    # Aggregation & Ranking
    processed_results.sort(key=lambda x: x["relevance_score"], reverse=True)
    for i, result in enumerate(processed_results):
        result["rank"] = i + 1
    logger.info(f"Aggregated {len(processed_results)} relevant files.")

    # JSON Output
    try:
        with output_json.open('w', encoding='utf-8') as f:
            json.dump(processed_results, f, indent=2, ensure_ascii=False)
        logger.info(f"Structured JSON output saved to: {output_json}")
        typer.echo(f"JSON output saved to: {output_json}")
    except IOError as e:
        logger.error(f"Error writing JSON output to {output_json}: {e}")
        typer.echo(f"Error: Could not write JSON output to {output_json}.", err=True)

    # Flattened Text Output
    flat_text_content = format_results_to_flat_text(
        processed_results, max_flat_tokens, FLATTENED_FILE_HEADER_TEMPLATE
    )
    try:
        with output_flat.open('w', encoding='utf-8') as f:
            f.write(flat_text_content)
        logger.info(f"Flattened text output saved to: {output_flat}")
        typer.echo(f"Flattened text output saved to: {output_flat}")
    except IOError as e:
        logger.error(f"Error writing flattened text output to {output_flat}: {e}")
        typer.echo(f"Error: Could not write flattened text output to {output_flat}.", err=True)

    end_time = time.time()
    logger.info(f"Confluence process finished in {end_time - start_time:.2f} seconds.")
    typer.echo(f"Processing complete in {end_time - start_time:.2f} seconds. Found {len(processed_results)} relevant files.")

if __name__ == "__main__":
    # For multiprocessing, especially on Windows when freezing with PyInstaller or similar.
    # It ensures that child processes re-importing the script don't re-execute app().
    # from multiprocessing import freeze_support
    # freeze_support() # Uncomment if you plan to freeze this script
    app()

--- FILE: scan-folders.py (Relevance: 0.43) ---

#!/usr/bin/env python3
import os
import sys
import argparse
import json

# Default directories/files to ignore
DEFAULT_IGNORE = {
    'node_modules',
    'venv',
    '.venv',
    'env',
    '__pycache__',
    '.git',
    '.idea',
    '.vscode',
    'dist',
    'build',
    '.DS_Store',
    '.pytest_cache',
    '.coverage',
    '.tox',
    'htmlcov',
    '*.pyc',
    '*.pyo',
    '*.pyd',
    '.ipynb_checkpoints'
}

def should_ignore(path, ignore_patterns):
    """
    Check if a path should be ignored based on the ignore patterns.
    """
    path_name = os.path.basename(path)
    
    # Check if the path matches any of the ignore patterns
    for pattern in ignore_patterns:
        # Exact match for directory/file name
        if pattern == path_name:
            return True
        # Handle wildcard patterns (e.g., *.pyc)
        if pattern.startswith('*') and path_name.endswith(pattern[1:]):
            return True
    
    return False

def build_directory_tree(dir_path, ignore_patterns):
    """
    Recursively builds a dictionary representing the directory tree structure,
    ignoring specified patterns.
    """
    abs_path = os.path.abspath(dir_path)
    node_name = os.path.basename(abs_path)

    if not node_name and abs_path.endswith(os.path.sep):  # Handle root like "/" or "C:\"
        node_name = abs_path

    tree_node = {
        "type": "directory",
        "name": node_name,
        "path": abs_path,
        "children": []
    }

    try:
        with os.scandir(abs_path) as entries:
            for entry in entries:
                if should_ignore(entry.path, ignore_patterns):
                    continue
                
                entry_abs_path = os.path.abspath(entry.path)
                if entry.is_dir(follow_symlinks=False):
                    tree_node["children"].append(build_directory_tree(entry_abs_path, ignore_patterns))
                elif entry.is_file(follow_symlinks=False):
                    tree_node["children"].append({
                        "type": "file",
                        "name": entry.name,
                        "path": entry_abs_path
                    })
    except OSError as e:
        tree_node["error"] = f"Could not scan directory: {str(e)}"

    tree_node["children"].sort(key=lambda x: (x["type"] != "directory", x["name"].lower()))
    return tree_node

def get_flat_relative_file_list(dir_path, ignore_patterns):
    """
    Walks a directory and returns a sorted flat list of relative file paths
    from the given dir_path, using '/' as path separator.
    Skips ignored directories and files.
    """
    abs_root_path = os.path.abspath(dir_path)
    relative_file_paths = []

    for root, dirs, files in os.walk(abs_root_path, topdown=True, onerror=None, followlinks=False):
        # Remove ignored directories from the dirs list to prevent walking them
        dirs[:] = [d for d in dirs if not should_ignore(os.path.join(root, d), ignore_patterns)]
        
        # Sort dirs and files for consistent order
        dirs.sort()
        files.sort()
        
        for filename in files:
            file_path = os.path.join(root, filename)
            if should_ignore(file_path, ignore_patterns):
                continue
                
            relative_path = os.path.relpath(file_path, abs_root_path)
            # Normalize path separators to '/' for consistency
            relative_file_paths.append(relative_path.replace(os.sep, '/'))

    relative_file_paths.sort()  # Final sort of all collected paths
    return relative_file_paths

def main():
    parser = argparse.ArgumentParser(
        description="Scan a directory and output its structure in JSON format.",
        formatter_class=argparse.RawTextHelpFormatter,
        epilog="""
Example usage:
  %(prog)s /path/to/your/folder
  %(prog)s .
  %(prog)s /path/to/your/folder --format hierarchical
  %(prog)s /path/to/your/folder --format flat
  %(prog)s /path/to/your/folder --ignore "logs,temp,cache"

Output Formats:
  hierarchical: Detailed JSON tree of directories and files (default).
  flat:         Minimized JSON list of relative file paths to save LLM tokens.
        """
    )
    parser.add_argument(
        "folder_path",
        type=str,
        help="The path to the root folder to scan."
    )
    parser.add_argument(
        "--format",
        type=str,
        choices=['hierarchical', 'flat'],
        default='hierarchical',
        help="Output format. 'hierarchical' (default) or 'flat'."
    )
    parser.add_argument(
        "--ignore",
        type=str,
        default="",
        help="Comma-separated list of additional folders/files to ignore."
    )
    parser.add_argument(
        "--no-default-ignore",
        action="store_true",
        help="Disable default ignore patterns (node_modules, venv, etc.)."
    )
    args = parser.parse_args()

    target_path = args.folder_path
    abs_target_path = os.path.abspath(target_path)

    if not os.path.exists(abs_target_path):
        print(f"Error: Path '{abs_target_path}' does not exist.", file=sys.stderr)
        sys.exit(1)

    if not os.path.isdir(abs_target_path):
        print(f"Error: Path '{abs_target_path}' is not a directory.", file=sys.stderr)
        sys.exit(1)

    # Build the set of patterns to ignore
    ignore_patterns = set()
    if not args.no_default_ignore:
        ignore_patterns.update(DEFAULT_IGNORE)
    
    if args.ignore:
        # Add user-specified ignore patterns
        user_ignores = [item.strip() for item in args.ignore.split(',') if item.strip()]
        ignore_patterns.update(user_ignores)

    output_data = {}
    try:
        scan_info = {
            "root_requested": target_path,
            "root_absolute": abs_target_path,
            "ignored_patterns": sorted(list(ignore_patterns))
        }

        if args.format == 'flat':
            scan_info["format"] = "flat_relative_file_list"
            file_list = get_flat_relative_file_list(abs_target_path, ignore_patterns)
            output_data = {
                "scan_info": scan_info,
                "files": file_list
            }
        else:  # 'hierarchical'
            scan_info["format"] = "hierarchical_tree"
            directory_structure = build_directory_tree(abs_target_path, ignore_patterns)
            output_data = {
                "scan_info": scan_info,
                "directory_tree": directory_structure
            }

        print(json.dumps(output_data, indent=2))

    except Exception as e:
        print(f"An unexpected error occurred: {str(e)}", file=sys.stderr)
        sys.exit(1)

if __name__ == "__main__":
    main()

--- FILE: frontend/index.html (Relevance: 0.42) ---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="/src/assets/favicon.svg" type="image/svg+xml">
    <link rel="icon" href="/src/assets/favicon.png" type="image/png">
    <link rel="apple-touch-icon" href="/src/assets/apple-touch-icon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="description" content="Voice Coding Assistant - Code with your voice using AI assistance" />
    <meta name="theme-color" content="#14b8a6" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <title>Voice Coding Assistant</title>
    <!-- Preload fonts - Make sure these match the fonts in main.css -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>

--- FILE: frontend/src/main.ts (Relevance: 0.42) ---

import { createApp } from 'vue'
import { createPinia } from 'pinia'
import { 
  createRouter, 
  createWebHistory,
  RouteLocationNormalized,
  NavigationGuardNext,
  RouteRecordRaw
} from 'vue-router'
import App from './App.vue'
import './assets/main.css'
import Home from './views/Home.vue'
import Login from './views/Login.vue'
import Settings from './views/Settings.vue'

// Create router
const router = createRouter({
  history: createWebHistory(),
  routes: [
    {
      path: '/',
      component: Home,
      meta: { requiresAuth: true }
    },
    {
      path: '/login',
      component: Login,
      meta: { guest: true }
    },
    {
      path: '/settings',
      component: Settings,
      meta: { requiresAuth: true }
    }
  ]
})

// Navigation guard
router.beforeEach((to: RouteLocationNormalized, _: RouteLocationNormalized, next: NavigationGuardNext) => {
  const token = localStorage.getItem('token') || sessionStorage.getItem('token')
  const isAuthenticated = token !== null
  
  if (to.matched.some((record: RouteRecordRaw) => record.meta?.requiresAuth)) {
    if (!isAuthenticated) {
      next('/login')
    } else {
      next()
    }
  } else if (to.matched.some((record: RouteRecordRaw) => record.meta?.guest)) {
    if (isAuthenticated) {
      next('/')
    } else {
      next()
    }
  } else {
    next()
  }
})

// Create app
const app = createApp(App)
app.use(createPinia())
app.use(router)
app.mount('#app')

--- FILE: backend/config/models.ts (Relevance: 0.42) ---

import dotenv from 'dotenv';

dotenv.config();

export interface ModelConfig {
  modelName: string;
  inputCostPer1K: number;
  outputCostPer1K: number;
  provider: 'openai' | 'openrouter';
}

// Model configurations with pricing information
export const MODEL_CONFIGS: Record<string, ModelConfig> = {
  'gpt-4o': {
    modelName: 'gpt-4o',
    inputCostPer1K: 0.5,
    outputCostPer1K: 1.5,
    provider: 'openai'
  },
  'gpt-4o-mini': {
    modelName: 'gpt-4o-mini',
    inputCostPer1K: 0.15,
    outputCostPer1K: 0.6,
    provider: 'openai'
  },
  'gpt-3.5-turbo': {
    modelName: 'gpt-3.5-turbo',
    inputCostPer1K: 0.0015,
    outputCostPer1K: 0.002,
    provider: 'openai'
  },
  'claude-3-opus-20240229': {
    modelName: 'claude-3-opus-20240229',
    inputCostPer1K: 15,
    outputCostPer1K: 75,
    provider: 'openrouter'
  },
  'claude-3-sonnet-20240229': {
    modelName: 'claude-3-sonnet-20240229',
    inputCostPer1K: 3,
    outputCostPer1K: 15,
    provider: 'openrouter'
  }
};

// Available models by mode
export const MODEL_PREFERENCES = {
  coding: process.env.MODEL_PREF_CODING || 'gpt-4o',
  system_design: process.env.MODEL_PREF_SYSTEM_DESIGN || 'gpt-4o',
  meeting: process.env.MODEL_PREF_SUMMARY || 'gpt-4o-mini'
};

export const DEFAULT_LANGUAGE = process.env.DEFAULT_LANGUAGE || 'python';
export const TOKEN_LIMIT = parseInt(process.env.TOKEN_LIMIT || '4000', 10);
export const COST_THRESHOLD = parseFloat(process.env.COST_THRESHOLD || '5.0');

--- FILE: backend/routes/diagram.ts (Relevance: 0.37) ---

import { Request, Response } from 'express';
import { callOpenAI } from '../utils/llm.js';
import { trackCost, getSessionCost, isThresholdReached } from '../utils/cost.js';

// Generate diagrams from text descriptions
export async function POST(req: Request, res: Response) {
  try {
    const { description, type = 'mermaid', userId = 'default' } = req.body;
    
    // Check if cost threshold reached
    if (isThresholdReached(userId)) {
      return res.status(403).json({
        message: 'Session cost threshold reached',
        currentCost: getSessionCost(userId)
      });
    }
    
    // Create a prompt to generate the diagram
    const diagramPrompt = [
      {
        role: 'system',
        content: `You are a diagram generator. The user will provide a description of a diagram they want to create. Generate a valid ${type} syntax that correctly represents their description. Only return the diagram code without any explanations or markdown formatting.`
      },
      {
        role: 'user',
        content: description
      }
    ];
    
    // Call LLM API to generate diagram code
    const response = await callOpenAI(diagramPrompt, 'gpt-4o');
    
    // Extract the diagram code from the response
    let diagramCode = response.text;
    
    // Clean up the diagram code (remove markdown code fences if present)
    diagramCode = diagramCode.replace(/```(?:mermaid|plantuml|graphviz)?\n/g, '');
    diagramCode = diagramCode.replace(/```$/g, '');
    
    // Track cost
    if (response.usage) {
      const { prompt_tokens, completion_tokens } = response.usage;
      const sessionCost = trackCost(
        userId,
        'gpt-4o',
        prompt_tokens || 0,
        completion_tokens || 0
      );
      
      // Return response with cost information
      return res.status(200).json({
        diagramCode,
        type,
        usage: response.usage,
        sessionCost
      });
    }
    
    return res.status(200).json({
      diagramCode,
      type,
      sessionCost: getSessionCost(userId)
    });
  } catch (error) {
    console.error('Error in diagram endpoint:', error);
    return res.status(500).json({
      message: 'Error generating diagram',
      error: (error as Error).message
    });
  }
}

--- FILE: frontend/src/assets/main.css (Relevance: 0.35) ---

/* Voice Coding Assistant - Complete Modern Styling System */

/* Import fonts first - these must come before other CSS rules */
@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap');

/* Tailwind directives */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS Custom Properties (Variables) - Retained for broad compatibility and explicit theming */
:root {
  /* Primary Colors */
  --primary-50: #eff6ff;
  --primary-100: #dbeafe;
  --primary-200: #bfdbfe;
  --primary-300: #93c5fd;
  --primary-400: #60a5fa;
  --primary-500: #3b82f6;
  --primary-600: #2563eb;
  --primary-700: #1d4ed8;
  --primary-800: #1e40af;
  --primary-900: #1e3a8a;
  
  /* Semantic Colors */
  --success: #10b981;
  --warning: #f59e0b;
  --error: #ef4444;
  --info: #3b82f6;
  
  /* UI Colors */
  --glass-bg: rgba(255, 255, 255, 0.7);
  --glass-border: rgba(255, 255, 255, 0.2);
  --shadow-subtle: 0 1px 3px rgba(0, 0, 0, 0.1);
  --shadow-medium: 0 4px 6px rgba(0, 0, 0, 0.1);
  --shadow-large: 0 10px 15px rgba(0, 0, 0, 0.1);
  
  /* Animation Durations */
  --duration-fast: 150ms;
  --duration-normal: 300ms;
  --duration-slow: 500ms;
  
  /* Border Radius */
  --radius-sm: 0.375rem; /* 6px */
  --radius-md: 0.5rem;   /* 8px */
  --radius-lg: 0.75rem;  /* 12px */
  --radius-xl: 1rem;     /* 16px */
  --radius-2xl: 1.5rem;  /* 24px */
  
  /* Spacing Scale (can be used alongside Tailwind spacing) */
  --space-xs: 0.25rem;
  --space-sm: 0.5rem;
  --space-md: 1rem;
  --space-lg: 1.5rem;
  --space-xl: 2rem;
  --space-2xl: 3rem;
}

.dark {
  --glass-bg: rgba(31, 41, 55, 0.7); /* Equivalent to dark:bg-gray-800 with opacity */
  --glass-border: rgba(75, 85, 99, 0.2); /* Equivalent to dark:border-gray-700 with opacity */
  --shadow-subtle: 0 1px 3px rgba(0, 0, 0, 0.3);
  --shadow-medium: 0 4px 6px rgba(0, 0, 0, 0.3);
  --shadow-large: 0 10px 15px rgba(0, 0, 0, 0.3);
}

/* Base Layer - Reset and Typography */
@layer base {
  html {
    @apply font-sans antialiased; /* Use Tailwind's font-sans from config */
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  body {
    @apply bg-gradient-to-br from-gray-50 via-white to-gray-100 
           dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 
           text-gray-900 dark:text-gray-100 
           leading-relaxed;
    font-feature-settings: 'kern' 1, 'liga' 1, 'ss01' 1; /* Keep specific font features */
    text-rendering: optimizeLegibility;
  }
  
  /* Enhanced Typography Scale */
  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold tracking-tight;
    font-feature-settings: 'kern' 1, 'liga' 1, 'ss01' 1;
  }
  
  h1 { @apply text-3xl sm:text-4xl lg:text-5xl leading-tight; }
  h2 { @apply text-2xl sm:text-3xl lg:text-4xl leading-tight; }
  h3 { @apply text-xl sm:text-2xl leading-snug; }
  h4 { @apply text-lg sm:text-xl leading-snug; }
  
  /* Code Typography */
  code, pre {
    @apply font-mono; /* Use Tailwind's font-mono from config */
    font-feature-settings: 'liga' 1, 'calt' 1; /* Common ligatures for code */
  }
  
  /* Enhanced Scrollbars */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  ::-webkit-scrollbar-track {
    @apply bg-gray-100 dark:bg-gray-800 rounded-full;
  }
  ::-webkit-scrollbar-thumb {
    @apply bg-gray-300 dark:bg-gray-600 rounded-full transition-colors duration-150 ease-in-out;
  }
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400 dark:bg-gray-500;
  }
  ::-webkit-scrollbar-corner {
    @apply bg-transparent;
  }
  
  /* Firefox scrollbar */
  * {
    scrollbar-width: thin;
    scrollbar-color: theme('colors.gray.400') theme('colors.gray.100'); /* Using Tailwind theme function */
  }
  .dark * {
    scrollbar-color: theme('colors.gray.600') theme('colors.gray.800');
  }
  
  /* Selection Styles */
  ::selection {
    @apply bg-primary-200 dark:bg-primary-700 text-primary-900 dark:text-primary-100;
  }
  
  /* Focus Styles - Consistent global focus ring */
  :focus-visible {
    @apply outline-none ring-2 ring-primary-500 ring-offset-2 
           ring-offset-white dark:ring-offset-gray-900 rounded-sm;
  }
  
  /* Global transitions - Use with caution for performance. Applied for theme switching primarily. */
  body, body::before, body::after { /* Scoped to body and its pseudo-elements */
    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, box-shadow;
    transition-duration: var(--duration-normal);
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }
}

/* Component Layer - Reusable UI Components */
@layer components {
  
  /* Button System */
  .btn {
    @apply inline-flex items-center justify-center gap-2 
           px-4 py-2 rounded-lg font-medium 
           transition-all duration-200 ease-out
           focus-visible:outline-none focus-visible:ring-2 
           focus-visible:ring-offset-2 
           disabled:opacity-60 disabled:cursor-not-allowed
           relative overflow-hidden select-none /* Prevent text selection on click */
           hover:scale-[1.03] active:scale-[0.98]; /* Subtle hover/active effect */
  }
  
  .btn-primary {
    @apply btn bg-gradient-to-r from-primary-600 to-primary-700 
           hover:from-primary-700 hover:to-primary-800 
           text-white shadow-md hover:shadow-lg
           focus-visible:ring-primary-500;
  }
  
  .btn-secondary {
    @apply btn bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600
           text-gray-700 dark:text-gray-200 
           hover:bg-gray-50 dark:hover:bg-gray-600
           shadow-sm hover:shadow-md
           focus-visible:ring-gray-500;
  }
  
  .btn-ghost {
    @apply btn text-gray-600 dark:text-gray-300 
           hover:bg-gray-100 dark:hover:bg-gray-700/50 /* Slight dark mode adjustment */
           focus-visible:ring-gray-500;
  }
  
  .btn-sm { @apply px-3 py-1.5 text-sm rounded-md; } /* Adjusted rounding */
  .btn-lg { @apply px-6 py-3 text-lg; }
  
  /* Ripple Effect for Buttons */
  .btn::before {
    content: '';
    @apply absolute inset-0 rounded-lg opacity-0 bg-white/30 dark:bg-white/10;
    transform: scale(0.5); /* Start smaller for a more subtle expand */
    transition: transform 0.4s ease-out, opacity 0.4s ease-out;
  }
  .btn:active::before {
    transform: scale(1.5); /* Expand further */
    @apply opacity-100;
    transition: transform 0s, opacity 0s; /* Instant effect on active */
  }
  
  /* Glass Effect Components */
  .glass {
    background: var(--glass-bg);
    backdrop-filter: blur(12px) saturate(180%);
    -webkit-backdrop-filter: blur(12px) saturate(180%); /* For Safari */
    border: 1px solid var(--glass-border);
    box-shadow: var(--shadow-medium);
  }
  .glass-subtle {
    background: var(--glass-bg);
    backdrop-filter: blur(8px) saturate(150%);
    -webkit-backdrop-filter: blur(8px) saturate(150%); /* For Safari */
    border: 1px solid var(--glass-border);
    box-shadow: var(--shadow-subtle);
  }
  
  /* Card System */
  .card {
    @apply bg-white dark:bg-gray-800 rounded-xl shadow-sm 
           border border-gray-200 dark:border-gray-700
           transition-all duration-300 ease-out;
  }
  .card-hover {
    @apply card hover:shadow-lg hover:scale-[1.02] hover:-translate-y-1;
  }
  .card-interactive { @apply card-hover cursor-pointer; }
  .card-glass { @apply glass rounded-xl; }
  
  /* Form Elements */
  .input {
    @apply w-full px-4 py-2.5 bg-white dark:bg-gray-800 
           border border-gray-300 dark:border-gray-600 
           rounded-lg shadow-sm
           text-gray-900 dark:text-gray-100
           placeholder:text-gray-400 dark:placeholder:text-gray-500 /* Adjusted placeholder contrast */
           focus:ring-2 focus:ring-primary-500 focus:border-primary-500
           disabled:bg-gray-100 dark:disabled:bg-gray-700/50 disabled:cursor-not-allowed
           transition-all duration-200 ease-in-out; /* Transition all relevant properties */
  }
  .input-error {
    @apply input border-red-400 dark:border-red-500 
           focus:ring-red-500 focus:border-red-500
           placeholder:text-red-400 dark:placeholder:text-red-500;
  }
  .select {
    @apply input appearance-none pr-10 bg-no-repeat bg-right cursor-pointer;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 0.75rem center;
    background-size: 1.25em 1.25em; /* Use em for better scaling with text */
  }
  .dark .select { /* Dark mode select arrow */
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%239ca3af' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
  }
  .textarea {
    @apply input min-h-[120px] resize-y; /* Increased min-height */
  }
  
  /* Toggle Switch */
  .toggle {
    @apply relative inline-flex h-6 w-11 items-center rounded-full
           bg-gray-200 dark:bg-gray-700
           transition-colors duration-200 ease-in-out
           focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2
           cursor-pointer;
  }
  .toggle.checked { @apply bg-primary-600; }
  .toggle .toggle-thumb {
    @apply inline-block h-4 w-4 transform rounded-full bg-white
           shadow-sm ring-1 ring-gray-900/5 /* Subtle ring for definition */
           transition-transform duration-200 ease-in-out;
    translate: 0.25rem; /* Adjusted for better visual balance */
  }
  .toggle.checked .toggle-thumb { translate: 1.5rem; } /* Adjusted for better visual balance */

  /* Voice Input Components */
  .voice-button {
    @apply relative flex items-center justify-center 
           w-16 h-16 sm:w-18 sm:h-18 /* Uses the '18' unit from tailwind.config.js for sm+ screens */
           rounded-full shadow-lg hover:shadow-xl
           transform transition-all duration-300 ease-out
           focus:outline-none focus:ring-4 focus:ring-offset-2
           active:scale-95 hover:scale-105;
  }
  .voice-button-idle {
    @apply voice-button bg-gradient-to-br from-primary-500 to-primary-600 /* Adjusted gradient direction */
           text-white focus:ring-primary-400 dark:focus:ring-primary-600;
  }
  .voice-button-recording {
    @apply voice-button bg-gradient-to-br from-red-500 to-red-600
           text-white focus:ring-red-400 dark:focus:ring-red-600 animate-pulse; /* Added subtle pulse */
  }
  .voice-button-continuous {
    @apply voice-button bg-gradient-to-br from-green-500 to-green-600
           text-white focus:ring-green-400 dark:focus:ring-green-600;
  }

  /* Voice button pulse animation (uses keyframes from tailwind.config.js) */
  .voice-button-recording::before,
  .voice-button-continuous::before {
    content: '';
    @apply absolute inset-0 rounded-full opacity-75 animate-voice-pulse;
    /* background-color matches the button's base or a contrasting pulse color */
    background-color: currentColor; 
  }
  .voice-button-recording::after,
  .voice-button-continuous::after {
    content: '';
    @apply absolute inset-0 rounded-full opacity-50 animate-voice-pulse;
    animation-delay: 0.5s; /* Offset the second pulse */
    background-color: currentColor;
  }

  /* Message Bubbles */
  .message-bubble {
    @apply relative p-4 sm:p-5 rounded-2xl shadow-md /* Slightly increased shadow */
           transition-all duration-300 ease-out max-w-3xl; /* Adjusted max-width */
  }
  .message-user {
    @apply message-bubble bg-gradient-to-r from-primary-50 to-blue-100 
           dark:from-primary-900/40 dark:to-blue-900/30
           border-l-4 border-primary-500 dark:border-primary-600
           ml-auto mr-4 sm:mr-8 rounded-tr-lg rounded-br-lg rounded-tl-2xl rounded-bl-2xl; /* More distinct shape */
  }
  .message-assistant {
    @apply message-bubble bg-white dark:bg-gray-800/90
           border-l-4 border-gray-300 dark:border-gray-600
           mr-auto ml-4 sm:ml-8 rounded-tl-lg rounded-bl-lg rounded-tr-2xl rounded-br-2xl; /* More distinct shape */
  }
  
  /* Code Blocks */
  .code-block {
    @apply relative bg-gray-900 dark:bg-gray-950/70 rounded-lg overflow-hidden
           shadow-xl border border-gray-700 dark:border-gray-700/50 my-4; /* Added margin */
  }
  .code-header {
    @apply flex items-center justify-between px-4 py-2.5 /* Adjusted padding */
           bg-gray-800 dark:bg-gray-900/80 border-b border-gray-700 dark:border-gray-700/60
           text-gray-300 text-xs font-mono; /* Smaller, mono font for language */
  }
  .code-content {
    @apply p-4 text-sm leading-relaxed;
  }
  /* For pre within .code-content, if using highlight.js or similar */
  .code-content pre {
    @apply !bg-transparent !p-0 overflow-x-auto; /* Reset hljs default background and padding */
  }
  .code-copy-btn {
    @apply p-1.5 rounded text-gray-400 hover:text-white hover:bg-gray-700
           transition-colors duration-200 opacity-50 hover:opacity-100 focus:opacity-100;
    /* Position absolutely within .code-header or .code-block if needed */
  }
  .code-block:hover .code-copy-btn { /* Show on hover of block */
    @apply opacity-100;
  }
  
  /* Loading States */
  .loading-spinner {
    @apply inline-block w-6 h-6 border-[3px] border-current border-t-transparent /* Slightly bolder */
           rounded-full animate-spin;
  }
  .loading-dots { @apply inline-flex gap-1.5; } /* Slightly more gap */
  .loading-dots span {
    @apply w-2 h-2 bg-current rounded-full opacity-75 animate-loading-dots;
  }
  .loading-dots span:nth-child(1) { animation-delay: -0.32s; }
  .loading-dots span:nth-child(2) { animation-delay: -0.16s; }
  /* nth-child(3) has 0s delay by default from keyframes */
  
  /* Skeleton Loaders */
  .skeleton {
    @apply bg-gray-200 dark:bg-gray-700 rounded animate-pulse;
  }
  .skeleton-text { @apply skeleton h-4 my-1.5; } /* Adjusted margin */
  .skeleton-text-lg { @apply skeleton h-6 my-2; }
  .skeleton-avatar { @apply skeleton w-10 h-10 rounded-full; }
  .skeleton-btn { @apply skeleton w-24 h-10 rounded-lg; }

  /* Toast Notifications */
  .toast {
    @apply glass rounded-lg p-4 shadow-xl border max-w-md /* Increased max-width */
           transform transition-all duration-300 ease-out;
  }
  .toast-success { @apply toast border-green-300 dark:border-green-600/70; }
  .toast-error   { @apply toast border-red-300 dark:border-red-600/70; }
  .toast-warning { @apply toast border-yellow-300 dark:border-yellow-600/70; }
  .toast-info    { @apply toast border-blue-300 dark:border-blue-600/70; }
  
  /* Animation Classes (Vue/React transition group classes) */
  .slide-enter-active,
  .slide-leave-active { @apply transition-all duration-300 ease-out; }
  .slide-enter-from   { @apply opacity-0 transform translate-x-6; } /* Slide from further */
  .slide-leave-to     { @apply opacity-0 transform -translate-x-6; }

  .fade-enter-active,
  .fade-leave-active  { @apply transition-opacity duration-300 ease-out; }
  .fade-enter-from,
  .fade-leave-to      { @apply opacity-0; }

  .scale-enter-active,
  .scale-leave-active { @apply transition-all duration-200 ease-out; }
  .scale-enter-from,
  .scale-leave-to     { @apply opacity-0 transform scale-90; } /* More pronounced scale */
}

/* Utility Layer - Helper Classes (can also be defined in tailwind.config.js if they generate variants) */
@layer utilities {
  /* Custom Spacing - Tailwind typically covers this with space-y-*, but if needed */
  .space-y-0\.5 > :not([hidden]) ~ :not([hidden]) { margin-top: 0.125rem; } 
  
  /* Custom Aspect Ratios */
  .aspect-golden { aspect-ratio: 1.618 / 1; }
  
  /* Text Balance (browser support varies) */
  .text-balance { text-wrap: balance; }
  
  /* Hide scrollbar but keep functionality */
  .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
  .scrollbar-hide::-webkit-scrollbar { display: none; }
  
  /* Custom Focus Ring (example) */
  .focus-ring-primary {
    @apply focus:outline-none focus:ring-2 focus:ring-primary-500 
           focus:ring-offset-2 focus:ring-offset-white 
           dark:focus:ring-offset-gray-900;
  }
  
  /* Safe Area for Mobile (iOS specific) */
  .safe-top    { padding-top: env(safe-area-inset-top); }
  .safe-bottom { padding-bottom: env(safe-area-inset-bottom); }
  .safe-left   { padding-left: env(safe-area-inset-left); }
  .safe-right  { padding-right: env(safe-area-inset-right); }

  /* Text Gradients */
  .text-gradient {
    @apply bg-clip-text text-transparent 
           bg-gradient-to-r from-primary-500 via-primary-600 to-primary-700
           dark:from-primary-400 dark:via-primary-500 dark:to-primary-600;
  }
  .text-gradient-rainbow {
    @apply bg-clip-text text-transparent 
           bg-gradient-to-r from-red-500 via-yellow-400 via-green-500 via-blue-500 to-purple-600
           animate-gradient-shift; /* Example of applying animation utility */
    background-size: 200% auto; /* For gradient animation */
  }
  
  /* Border Gradient Container */
  .border-gradient {
    @apply p-px rounded-lg bg-gradient-to-r from-primary-500 to-primary-700;
  }
  .border-gradient > * { /* Child element needs its own background */
    @apply bg-white dark:bg-gray-800 h-full w-full rounded-[calc(0.5rem-1px)]; /* Adjust rounding based on parent */
  }

  /* Shadow Glow */
  .shadow-glow-primary {
    box-shadow: 0 0 15px 0px theme('colors.primary.500 / 30%'), 0 0 30px 0px theme('colors.primary.500 / 20%');
  }
  .dark .shadow-glow-primary {
    box-shadow: 0 0 20px 0px theme('colors.primary.400 / 40%'), 0 0 40px 0px theme('colors.primary.400 / 30%');
  }
}

/* SPECIFIC MEDIA QUERIES & RESPONSIVE OVERRIDES
  Migrate styles from 'responsive.css' here, prioritizing Tailwind's responsive prefixes.
  Only use explicit @media queries for cases not easily handled by Tailwind (e.g., orientation, height, complex conditions).
*/

/* Example of a complex media query from your original main.css */
@media (max-height: 600px) and (orientation: landscape) {
  .voice-button {
    @apply w-12 h-12; /* Further reduce size in constrained landscape */
  }
  .message-bubble {
    @apply p-3 text-sm; /* Compact messages in this mode */
  }
}

/* Reduced motion for accessibility */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  /* Disable specific looping animations */
  .animate-voice-pulse,
  .animate-loading-dots,
  .animate-shimmer,
  .animate-gradient-shift,
  .animate-bounce-subtle,
  .animate-wiggle {
    animation: none !important;
  }
  .voice-button-recording::before,
  .voice-button-recording::after,
  .voice-button-continuous::before,
  .voice-button-continuous::after {
    animation: none !important; /* Target specific pseudo-elements if not using utility */
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .glass, .glass-subtle {
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    background: rgba(255, 255, 255, 0.95);
    @apply border-2 border-black dark:border-white;
  }
  .dark .glass, .dark .glass-subtle {
    background: rgba(10, 10, 10, 0.95); /* Near black for high contrast dark */
  }
  .btn-primary {
    @apply border-2 border-black dark:border-white;
  }
  .btn-secondary {
    @apply border-2 border-black dark:border-white;
  }
}

/* Print styles - (Incorporated relevant parts from responsive.css) */
@media print {
  body {
    @apply bg-white text-black; /* Basic print defaults */
  }
  .app-header, /* Example: hide non-content elements */
  .voice-input-container,
  .btn, /* Hide interactive buttons */
  [class*="animate-"] { /* Hide animated elements */
    display: none !important;
  }

  .glass, .glass-subtle {
    print-color-adjust: exact;
    -webkit-print-color-adjust: exact;
    background: #fff !important;
    border: 1px solid #ccc !important;
    box-shadow: none !important;
  }
  
  .message-bubble {
    break-inside: avoid;
    @apply shadow-none border border-gray-300 p-3 my-2 max-w-full;
  }
  .message-user { @apply bg-gray-50 border-blue-600; }
  .message-assistant { @apply bg-white border-gray-500; }

  .code-block {
    @apply shadow-none border border-gray-400;
    page-break-inside: avoid;
  }
  .code-content pre {
    @apply bg-gray-100 text-black;
    color-adjust: exact;
    -webkit-print-color-adjust: exact;
  }

  a { text-decoration: underline; color: #000; }
  a[href^="http"]:after { content:" (" attr(href) ") "; } /* Show URLs for external links */
}

--- FILE: backend/utils/audio.ts (Relevance: 0.35) ---

import fs from 'fs';
import path from 'path';
import { promisify } from 'util';
import OpenAI from 'openai';
import dotenv from 'dotenv';
import { trackWhisperCost } from './cost.js';

dotenv.config();

const openai = new OpenAI({
  apiKey: process.env.OPENAI_API_KEY
});

// Audio processing constants
const WHISPER_COST_PER_MINUTE = 0.006; // $0.006 per minute (accurate as of 2025)
const MAX_FILE_SIZE = 25 * 1024 * 1024; // 25MB Whisper limit
const MIN_AUDIO_DURATION = 0.1; // 100ms minimum

// Define AudioBuffer interface for Node.js environment
interface AudioBuffer {
  sampleRate: number;
  length: number;
  duration: number;
  numberOfChannels: number;
  getChannelData(channel: number): Float32Array;
}

interface AudioAnalysisResult {
  duration: number;
  estimatedCost: number;
  fileSize: number;
  isOptimal: boolean;
  recommendations: string[];
}

interface TranscriptionResult {
  transcription: string;
  duration: number;
  cost: number;
  usage: {
    durationMinutes: number;
    costPerMinute: number;
  };
}

/**
 * Analyze audio buffer/blob for cost estimation and optimization
 */
export async function analyzeAudioForCost(audioBuffer: Buffer): Promise<AudioAnalysisResult> {
  const fileSize = audioBuffer.length;
  const recommendations: string[] = [];
  
  // Check file size
  if (fileSize > MAX_FILE_SIZE) {
    throw new Error(`Audio file too large: ${(fileSize / 1024 / 1024).toFixed(1)}MB (limit: 25MB)`);
  }
  
  // Estimate duration from file size (rough estimation)
  // For WebM/MP3 audio, roughly 1MB = 1-2 minutes depending on quality
  const estimatedDurationMinutes = Math.max(0.01, (fileSize / (1024 * 1024)) * 1.5);
  const estimatedCost = estimatedDurationMinutes * WHISPER_COST_PER_MINUTE;
  
  // Generate recommendations
  if (fileSize < 10 * 1024) { // Less than 10KB
    recommendations.push('Audio file very small - may be too short for meaningful transcription');
  }
  
  if (estimatedDurationMinutes > 10) { // Over 10 minutes
    recommendations.push('Consider breaking long audio into smaller chunks for better processing');
  }
  
  if (fileSize > 10 * 1024 * 1024) { // Over 10MB
    recommendations.push('Large file detected - consider audio compression to reduce costs');
  }
  
  return {
    duration: estimatedDurationMinutes * 60, // Convert to seconds
    estimatedCost: Math.round(estimatedCost * 10000) / 10000, // Round to 4 decimal places
    fileSize,
    isOptimal: fileSize > 10 * 1024 && fileSize < 5 * 1024 * 1024, // 10KB - 5MB is optimal
    recommendations
  };
}

/**
 * Get accurate audio duration from file
 */
export async function getAudioDuration(audioBuffer: Buffer): Promise<number> {
  // For now, use the estimation method
  // In a production environment, you might want to use ffprobe or similar
  const analysis = await analyzeAudioForCost(audioBuffer);
  return analysis.duration;
}

/**
 * Enhanced transcription with cost tracking and optimization
 */
export async function transcribeWithWhisper(audioBuffer: Buffer, userId: string = 'default'): Promise<TranscriptionResult> {
  try {
    // Analyze audio first
    const analysis = await analyzeAudioForCost(audioBuffer);
    
    // Check minimum duration
    if (analysis.duration < MIN_AUDIO_DURATION) {
      throw new Error(`Audio too short: ${analysis.duration.toFixed(1)}s (minimum: ${MIN_AUDIO_DURATION}s)`);
    }
    
    // Create temporary file
    const tmpDir = path.join(process.cwd(), 'tmp');
    if (!fs.existsSync(tmpDir)) {
      fs.mkdirSync(tmpDir, { recursive: true });
    }
    
    const tempFilePath = path.join(tmpDir, `audio-${userId}-${Date.now()}.webm`);
    await promisify(fs.writeFile)(tempFilePath, audioBuffer);
    
    // Create readable stream
    const audioFile = fs.createReadStream(tempFilePath);
    
    // Enhance the file object with additional metadata
    (audioFile as any).originalname = path.basename(tempFilePath);
    
    console.log(`Transcribing audio: ${analysis.fileSize} bytes, ~${analysis.duration.toFixed(1)}s, estimated cost: $${analysis.estimatedCost.toFixed(4)}`);
    
    // Call Whisper API with optimized settings
    const startTime = Date.now();
    const transcription = await openai.audio.transcriptions.create({
      file: audioFile,
      model: 'whisper-1',
      language: 'en', // Specify language for better accuracy and speed
      response_format: 'verbose_json', // Get additional metadata
      temperature: 0.1, // Lower temperature for more consistent results
    });
    
    const processingTime = Date.now() - startTime;
    
    // Clean up temporary file
    await promisify(fs.unlink)(tempFilePath).catch(console.error);
    
    // Get actual duration from Whisper response if available
    const actualDuration = (transcription as any).duration || analysis.duration;
    const actualDurationMinutes = Math.max(0.01, actualDuration / 60); // Whisper bills minimum 0.01 minutes
    const actualCost = actualDurationMinutes * WHISPER_COST_PER_MINUTE;
    
    // Track cost in backend
    const sessionCost = trackWhisperCost(userId, actualDurationMinutes, actualCost);
    
    console.log(`Transcription completed in ${processingTime}ms. Duration: ${actualDuration.toFixed(1)}s, Cost: $${actualCost.toFixed(4)}, Session total: $${sessionCost.toFixed(4)}`);
    
    // Log recommendations if any
    if (analysis.recommendations.length > 0) {
      console.log('Audio optimization recommendations:', analysis.recommendations);
    }
    
    return {
      transcription: typeof transcription === 'string' ? transcription : transcription.text,
      duration: actualDuration,
      cost: actualCost,
      usage: {
        durationMinutes: actualDurationMinutes,
        costPerMinute: WHISPER_COST_PER_MINUTE
      }
    };
  } catch (error) {
    console.error('Error transcribing with Whisper:', error);
    
    // Provide more specific error messages
    if (error instanceof Error) {
      if (error.message.includes('file format')) {
        throw new Error('Unsupported audio format. Please use WebM, MP3, MP4, MPEG, MPGA, M4A, or WAV.');
      } else if (error.message.includes('file size')) {
        throw new Error('Audio file too large. Maximum size is 25MB.');
      } else if (error.message.includes('Invalid API key')) {
        throw new Error('OpenAI API key not configured properly.');
      }
    }
    
    throw new Error(`Transcription failed: ${error instanceof Error ? error.message : 'Unknown error'}`);
  }
}

/**
 * Batch transcribe multiple audio files (for future use)
 */
export async function batchTranscribe(audioFiles: Buffer[], userId: string = 'default'): Promise<TranscriptionResult[]> {
  const results: TranscriptionResult[] = [];
  
  for (let i = 0; i < audioFiles.length; i++) {
    console.log(`Processing audio file ${i + 1}/${audioFiles.length}`);
    
    try {
      const result = await transcribeWithWhisper(audioFiles[i], `${userId}-batch-${i}`);
      results.push(result);
      
      // Add small delay between requests to avoid rate limiting
      if (i < audioFiles.length - 1) {
        await new Promise(resolve => setTimeout(resolve, 100));
      }
    } catch (error) {
      console.error(`Failed to transcribe audio file ${i + 1}:`, error);
      // Continue with other files
      results.push({
        transcription: '',
        duration: 0,
        cost: 0,
        usage: { durationMinutes: 0, costPerMinute: WHISPER_COST_PER_MINUTE }
      });
    }
  }
  
  return results;
}

/**
 * More robust RMS calculation for a chunk of audio data.
 */
function calculateRMS(samples: Float32Array): number {
  if (samples.length === 0) return 0;
  let sumOfSquares = 0;
  for (let i = 0; i < samples.length; i++) {
    sumOfSquares += samples[i] * samples[i];
  }
  return Math.sqrt(sumOfSquares / samples.length);
}

/**
 * Analyzes an AudioBuffer for silence using RMS chunks.
 * This is a more common approach for Voice Activity Detection (VAD).
 */
export function analyzeSilenceWithRMSChunks(
  audioBuffer: AudioBuffer,
  rmsThreshold: number = 0.01,
  minSilenceDurationMs: number = 500,
  chunkDurationMs: number = 30
): boolean {
  if (!audioBuffer) {
    console.warn("AudioBuffer is null or undefined.");
    return false;
  }

  const sampleRate = audioBuffer.sampleRate;
  const channelData = audioBuffer.getChannelData(0); // Assuming mono

  const samplesPerChunk = Math.floor((sampleRate * chunkDurationMs) / 1000);
  const numChunksRequiredForSilence = Math.ceil(minSilenceDurationMs / chunkDurationMs);

  if (samplesPerChunk === 0) {
    console.warn("Chunk duration is too short for the sample rate.");
    return false;
  }

  let consecutiveSilentChunks = 0;

  for (let i = 0; i < channelData.length; i += samplesPerChunk) {
    const chunk = channelData.slice(i, i + samplesPerChunk);
    if (chunk.length === 0 && i < channelData.length) continue;

    const rms = calculateRMS(chunk);

    if (rms < rmsThreshold) {
      consecutiveSilentChunks++;
      if (consecutiveSilentChunks >= numChunksRequiredForSilence) {
        return true; // Detected sufficient consecutive silent chunks
      }
    } else {
      consecutiveSilentChunks = 0; // Reset counter if a chunk is not silent
    }
  }

  return false; // No qualifying continuous silence detected
}

/**
 * Legacy function for backward compatibility
 */
export function analyzeSilence(
  audioBuffer: AudioBuffer, 
  silenceThreshold: number = 0.01, 
  minSilenceDurationMs: number = 500
): boolean {
  return analyzeSilenceWithRMSChunks(audioBuffer, silenceThreshold, minSilenceDurationMs);
}

// Export cost calculation utilities
export const AudioCostUtils = {
  WHISPER_COST_PER_MINUTE,
  MAX_FILE_SIZE,
  MIN_AUDIO_DURATION,
  calculateCost: (durationMinutes: number) => durationMinutes * WHISPER_COST_PER_MINUTE,
  formatCost: (cost: number) => `$${cost.toFixed(4)}`,
  formatDuration: (seconds: number) => {
    const minutes = Math.floor(seconds / 60);
    const remainingSeconds = Math.floor(seconds % 60);
    return minutes > 0 ? `${minutes}m ${remainingSeconds}s` : `${remainingSeconds}s`;
  }
};

--- FILE: frontend/vite-env.d.ts (Relevance: 0.34) ---

/// <reference types="vite/client" />

/**
 * Defines the structure of environment variables available through `import.meta.env`.
 * These variables are typically set in `.env` files and prefixed with `VITE_`.
 */
interface ImportMetaEnv {
  /** Shared password for accessing certain features or the application. */
  readonly VITE_SHARED_PASSWORD: string;
  /** Cost threshold for session usage, as a string (parsed to float in application). */
  readonly VITE_COST_THRESHOLD: string;
  /** Base URL for the API endpoints. */
  readonly VITE_API_URL: string;
  /** Default language for the application or AI interactions. */
  readonly VITE_DEFAULT_LANGUAGE: string;
  /** Flag to enable or disable debug mode features, as a string (parsed to boolean). */
  readonly VITE_DEBUG_MODE: string;
}

/**
 * Extends the global `ImportMeta` interface to include the typed `env` property.
 */
interface ImportMeta {
  /**
   * Provides access to Vite-specific environment variables.
   * @see {@link ImportMetaEnv} for the structure of available variables.
   */
  readonly env: ImportMetaEnv;
}

--- FILE: frontend/package.json (Relevance: 0.34) ---

{
  "name": "voice-coding-assistant-frontend",
  "private": true,
  "version": "1.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vue-tsc --noEmit && vite build",
    "preview": "vite preview"
  },
  "dependencies": {
    "@headlessui/vue": "^1.7.16",
    "@heroicons/vue": "^2.2.0",
    "@vueuse/core": "^10.6.1",
    "axios": "^1.6.2",
    "highlight.js": "^11.11.1",
    "localforage": "^1.10.0",
    "marked": "^10.0.0",
    "mermaid": "^10.9.3",
    "page-flip": "^2.0.7",
    "pinia": "^2.1.7",
    "vue": "^3.3.8",
    "vue-router": "^4.2.5"
  },
  "devDependencies": {
    "@tailwindcss/typography": "^0.5.10",
    "@types/marked": "^6.0.0",
    "@types/node": "^20.10.0",
    "@vitejs/plugin-vue": "^4.5.0",
    "autoprefixer": "^10.4.16",
    "postcss": "^8.4.31",
    "tailwindcss": "^3.3.5",
    "typescript": "^5.3.2",
    "vite": "^5.0.0",
    "vue-tsc": "^2.2.10"
  }
}


--- FILE: frontend/src/utils/CostOptimizer.ts (Relevance: 0.33) ---

// frontend/src/utils/CostOptimizer.ts - Whisper API Cost Optimization Service

interface OptimizationOptions {
  enableCompression?: boolean;
  enableSilenceDetection?: boolean;
  enableDuplicateDetection?: boolean;
  maxDuration?: number;
  silenceThreshold?: number;
  minSilenceDurationMs?: number;
}

interface AudioProcessingResult {
  optimizedBlob: Blob;
  originalSize: number;
  optimizedSize: number;
  estimatedCost: number;
  processingTime: number;
  optimizations: string[];
  duration: number;
  isSilent: boolean;
}

interface CostCalculation {
  durationMinutes: number;
  estimatedCost: number;
  costPerMinute: number;
  billableMinutes: number; // Whisper has minimum billing
}

interface AudioMetadata {
  duration: number;
  fileSize: number;
  sampleRate?: number;
  channels?: number;
  format?: string;
}

export class CostOptimizer {
  private static readonly WHISPER_COST_PER_MINUTE = 0.006; // $0.006 per minute as of 2025
  private static readonly MAX_FILE_SIZE = 25 * 1024 * 1024; // 25MB limit
  private static readonly MIN_BILLING_DURATION = 0.01; // 0.01 minutes minimum billing
  private static readonly MIN_AUDIO_DURATION = 0.1; // 100ms minimum for meaningful audio
  
  private options: Required<OptimizationOptions>;

  constructor(options: OptimizationOptions = {}) {
    this.options = {
      enableCompression: options.enableCompression ?? false, // Disabled by default (complex to implement)
      enableSilenceDetection: options.enableSilenceDetection ?? true,
      enableDuplicateDetection: options.enableDuplicateDetection ?? false,
      maxDuration: options.maxDuration ?? 300, // 5 minutes max
      silenceThreshold: options.silenceThreshold ?? 0.01,
      minSilenceDurationMs: options.minSilenceDurationMs ?? 500
    };
  }

  /**
   * Calculate cost based on audio duration
   */
  static calculateCost(durationSeconds: number): CostCalculation {
    const durationMinutes = durationSeconds / 60;
    // Whisper bills minimum 0.01 minutes (0.6 seconds)
    const billableMinutes = Math.max(durationMinutes, this.MIN_BILLING_DURATION);
    const estimatedCost = billableMinutes * this.WHISPER_COST_PER_MINUTE;
    
    return {
      durationMinutes,
      billableMinutes,
      estimatedCost: Math.round(estimatedCost * 10000) / 10000, // Round to 4 decimal places
      costPerMinute: this.WHISPER_COST_PER_MINUTE
    };
  }

  /**
   * Get audio duration from blob using HTML5 Audio API
   */
  static async getAudioDuration(audioBlob: Blob): Promise<number> {
    return new Promise((resolve, reject) => {
      const audio = new Audio();
      const url = URL.createObjectURL(audioBlob);
      
      const cleanup = () => {
        URL.revokeObjectURL(url);
        audio.removeEventListener('loadedmetadata', onLoad);
        audio.removeEventListener('error', onError);
      };
      
      const onLoad = () => {
        cleanup();
        resolve(audio.duration || 0);
      };
      
      const onError = () => {
        cleanup();
        reject(new Error('Failed to load audio metadata'));
      };
      
      audio.addEventListener('loadedmetadata', onLoad);
      audio.addEventListener('error', onError);
      
      // Set a timeout to prevent hanging
      setTimeout(() => {
        cleanup();
        reject(new Error('Timeout loading audio metadata'));
      }, 10000);
      
      audio.src = url;
    });
  }

  /**
   * Get detailed audio metadata
   */
  static async getAudioMetadata(audioBlob: Blob): Promise<AudioMetadata> {
    const duration = await this.getAudioDuration(audioBlob);
    
    return {
      duration,
      fileSize: audioBlob.size,
      format: audioBlob.type || 'unknown'
    };
  }

  /**
   * Analyze audio for silence using Web Audio API
   */
  async analyzeAudioSilence(audioBlob: Blob): Promise<boolean> {
    if (!this.options.enableSilenceDetection) {
      return false;
    }

    try {
      const audioContext = new (window.AudioContext || (window as any).webkitAudioContext)();
      const arrayBuffer = await audioBlob.arrayBuffer();
      const audioBuffer = await audioContext.decodeAudioData(arrayBuffer);

      const channelData = audioBuffer.getChannelData(0); // Use first channel
      const sampleRate = audioBuffer.sampleRate;
      
      // Calculate chunk size for analysis
      const chunkDurationMs = 30; // 30ms chunks
      const samplesPerChunk = Math.floor((sampleRate * chunkDurationMs) / 1000);
      const numChunksForSilence = Math.ceil(this.options.minSilenceDurationMs / chunkDurationMs);
      
      let consecutiveSilentChunks = 0;
      
      for (let i = 0; i < channelData.length; i += samplesPerChunk) {
        const chunk = channelData.slice(i, Math.min(i + samplesPerChunk, channelData.length));
        const rms = this.calculateRMS(chunk);
        
        if (rms < this.options.silenceThreshold) {
          consecutiveSilentChunks++;
          if (consecutiveSilentChunks >= numChunksForSilence) {
            await audioContext.close();
            return true; // Found significant silence
          }
        } else {
          consecutiveSilentChunks = 0;
        }
      }
      
      await audioContext.close();
      return false;
    } catch (error) {
      console.warn('Error analyzing audio silence:', error);
      return false;
    }
  }

  /**
   * Calculate RMS (Root Mean Square) for audio chunk
   */
  private calculateRMS(samples: Float32Array): number {
    if (samples.length === 0) return 0;
    
    let sumOfSquares = 0;
    for (let i = 0; i < samples.length; i++) {
      sumOfSquares += samples[i] * samples[i];
    }
    
    return Math.sqrt(sumOfSquares / samples.length);
  }

  /**
   * Optimize audio for Whisper API
   */
  async optimizeAudio(audioBlob: Blob): Promise<AudioProcessingResult> {
    const startTime = performance.now();
    const originalSize = audioBlob.size;
    const optimizations: string[] = [];
    
    // Check file size limit
    if (originalSize > CostOptimizer.MAX_FILE_SIZE) {
      throw new Error(`Audio file too large: ${(originalSize / 1024 / 1024).toFixed(1)}MB (limit: 25MB)`);
    }

    // Get audio metadata
    let duration: number;
    let isSilent = false;
    
    try {
      duration = await CostOptimizer.getAudioDuration(audioBlob);
      
      // Check minimum duration
      if (duration < CostOptimizer.MIN_AUDIO_DURATION) {
        throw new Error(`Audio too short: ${duration.toFixed(1)}s (minimum: ${CostOptimizer.MIN_AUDIO_DURATION}s)`);
      }
      
      // Check maximum duration
      if (duration > this.options.maxDuration) {
        optimizations.push(`Audio duration (${duration.toFixed(1)}s) exceeds recommended maximum (${this.options.maxDuration}s)`);
      }
      
      // Analyze for silence
      if (this.options.enableSilenceDetection) {
        isSilent = await this.analyzeAudioSilence(audioBlob);
        if (isSilent) {
          optimizations.push('Significant silence detected - consider trimming');
        }
      }
      
    } catch (error) {
      console.error('Error analyzing audio:', error);
      duration = 0;
    }

    // Calculate cost
    const costCalculation = CostOptimizer.calculateCost(duration);
    
    // Add optimization recommendations
    if (originalSize > 10 * 1024 * 1024) { // > 10MB
      optimizations.push('Large file size detected - consider audio compression');
    }
    
    if (duration > 60) { // > 1 minute
      optimizations.push('Long audio detected - consider breaking into smaller chunks');
    }
    
    if (audioBlob.type === 'audio/wav') {
      optimizations.push('WAV format detected - consider converting to WebM or MP3 for smaller size');
    }

    const processingTime = performance.now() - startTime;
    
    // For now, return original blob (compression would be implemented here)
    return {
      optimizedBlob: audioBlob,
      originalSize,
      optimizedSize: originalSize, // Same as original for now
      estimatedCost: costCalculation.estimatedCost,
      processingTime,
      optimizations,
      duration,
      isSilent
    };
  }

  /**
   * Batch analyze multiple audio files
   */
  async batchAnalyzeAudio(audioBlobs: Blob[]): Promise<AudioProcessingResult[]> {
    const results: AudioProcessingResult[] = [];
    
    for (let i = 0; i < audioBlobs.length; i++) {
      try {
        const result = await this.optimizeAudio(audioBlobs[i]);
        results.push(result);
      } catch (error) {
        console.error(`Error processing audio ${i}:`, error);
        // Add error result
        results.push({
          optimizedBlob: audioBlobs[i],
          originalSize: audioBlobs[i].size,
          optimizedSize: audioBlobs[i].size,
          estimatedCost: 0,
          processingTime: 0,
          optimizations: [`Error: ${error instanceof Error ? error.message : 'Unknown error'}`],
          duration: 0,
          isSilent: false
        });
      }
      
      // Small delay between files to prevent blocking
      if (i < audioBlobs.length - 1) {
        await new Promise(resolve => setTimeout(resolve, 10));
      }
    }
    
    return results;
  }

  /**
   * Calculate total cost for multiple audio files
   */
  static calculateBatchCost(results: AudioProcessingResult[]): {
    totalCost: number;
    totalDuration: number;
    averageCostPerFile: number;
    recommendations: string[];
  } {
    const totalCost = results.reduce((sum, result) => sum + result.estimatedCost, 0);
    const totalDuration = results.reduce((sum, result) => sum + result.duration, 0);
    const averageCostPerFile = results.length > 0 ? totalCost / results.length : 0;
    
    // Collect unique recommendations
    const allRecommendations = results.flatMap(result => result.optimizations);
    const recommendations = [...new Set(allRecommendations)];
    
    return {
      totalCost,
      totalDuration,
      averageCostPerFile,
      recommendations
    };
  }

  /**
   * Format cost for display
   */
  static formatCost(cost: number): string {
    return `$${cost.toFixed(4)}`;
  }

  /**
   * Format duration for display
   */
  static formatDuration(seconds: number): string {
    if (seconds < 60) {
      return `${seconds.toFixed(1)}s`;
    }
    
    const minutes = Math.floor(seconds / 60);
    const remainingSeconds = Math.floor(seconds % 60);
    return `${minutes}m ${remainingSeconds}s`;
  }

  /**
   * Get optimization recommendations for a file
   */
  static getOptimizationRecommendations(metadata: AudioMetadata): string[] {
    const recommendations: string[] = [];
    
    if (metadata.fileSize > 10 * 1024 * 1024) {
      recommendations.push('Consider compressing audio to reduce file size and costs');
    }
    
    if (metadata.duration > 300) { // 5 minutes
      recommendations.push('Long audio detected - breaking into shorter segments may improve processing');
    }
    
    if (metadata.duration < 1) {
      recommendations.push('Very short audio - ensure it contains meaningful content');
    }
    
    if (metadata.format === 'audio/wav') {
      recommendations.push('WAV format is uncompressed - consider WebM or MP3 for better efficiency');
    }
    
    return recommendations;
  }

  /**
   * Validate audio file before sending to API
   */
  static validateAudioFile(audioBlob: Blob): { isValid: boolean; errors: string[] } {
    const errors: string[] = [];
    
    // Check file size
    if (audioBlob.size === 0) {
      errors.push('Audio file is empty');
    }
    
    if (audioBlob.size > this.MAX_FILE_SIZE) {
      errors.push(`File too large: ${(audioBlob.size / 1024 / 1024).toFixed(1)}MB (max: 25MB)`);
    }
    
    // Check MIME type
    const validTypes = [
      'audio/webm',
      'audio/mp3',
      'audio/mpeg',
      'audio/mp4',
      'audio/m4a',
      'audio/wav',
      'audio/flac',
      'audio/ogg'
    ];
    
    if (audioBlob.type && !validTypes.includes(audioBlob.type)) {
      errors.push(`Unsupported audio format: ${audioBlob.type}`);
    }
    
    return {
      isValid: errors.length === 0,
      errors
    };
  }
}

// Export utility functions
export const AudioCostUtils = {
  WHISPER_COST_PER_MINUTE: CostOptimizer['WHISPER_COST_PER_MINUTE'],
  MAX_FILE_SIZE: CostOptimizer['MAX_FILE_SIZE'],
  MIN_AUDIO_DURATION: CostOptimizer['MIN_AUDIO_DURATION'],
  calculateCost: CostOptimizer.calculateCost.bind(CostOptimizer),
  formatCost: CostOptimizer.formatCost.bind(CostOptimizer),
  formatDuration: CostOptimizer.formatDuration.bind(CostOptimizer),
  getAudioDuration: CostOptimizer.getAudioDuration.bind(CostOptimizer),
  getAudioMetadata: CostOptimizer.getAudioMetadata.bind(CostOptimizer),
  validateAudioFile: CostOptimizer.validateAudioFile.bind(CostOptimizer)
};

--- FILE: backend/package-lock.json (Relevance: 0.29) ---

{
  "name": "voice-coding-assistant-backend",
  "version": "1.0.0",
  "lockfileVersion": 3,
  "requires": true,
  "packages": {
    "": {
      "name": "voice-coding-assistant-backend",
      "version": "1.0.0",
      "dependencies": {
        "axios": "^1.6.2",
        "cookie-parser": "^1.4.7",
        "cors": "^2.8.5",
        "dotenv": "^16.3.1",
        "express": "^4.18.2",
        "express-rate-limit": "^7.1.5",
        "helmet": "^7.1.0",
        "morgan": "^1.10.0",
        "multer": "^1.4.5-lts.1",
        "openai": "^4.20.1"
      },
      "devDependencies": {
        "@types/cookie-parser": "^1.4.8",
        "@types/cors": "^2.8.17",
        "@types/express": "^4.17.21",
        "@types/morgan": "^1.9.9",
        "@types/multer": "^1.4.10",
        "@types/node": "^20.10.0",
        "cross-env": "^7.0.3",
        "ts-node-dev": "^2.0.0",
        "tsx": "^4.19.4",
        "typescript": "^5.3.2"
      }
    },
    "node_modules/@cspotcode/source-map-support": {
      "version": "0.8.1",
      "resolved": "https://registry.npmjs.org/@cspotcode/source-map-support/-/source-map-support-0.8.1.tgz",
      "integrity": "sha512-IchNf6dN4tHoMFIn/7OE8LWZ19Y6q/67Bmf6vnGREv8RSbBVb9LPJxEcnwrcwX6ixSvaiGoomAUvu4YSxXrVgw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jridgewell/trace-mapping": "0.3.9"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/aix-ppc64": {
      "version": "0.25.4",
      "resolved": "https://registry.npmjs.org/@esbuild/aix-ppc64/-/aix-ppc64-0.25.4.tgz",
      "integrity": "sha512-1VCICWypeQKhVbE9oW/sJaAmjLxhVqacdkvPLEjwlttjfwENRSClS8EjBz0KzRyFSCPDIkuXW34Je/vk7zdB7Q==",
      "cpu": [
        "ppc64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "aix"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/android-arm": {
      "version": "0.25.4",
      "resolved": "https://registry.npmjs.org/@esbuild/android-arm/-/android-arm-0.25.4.tgz",
      "integrity": "sha512-QNdQEps7DfFwE3hXiU4BZeOV68HHzYwGd0Nthhd3uCkkEKK7/R6MTgM0P7H7FAs5pU/DIWsviMmEGxEoxIZ+ZQ==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/android-arm64": {
      "version": "0.25.4",
      "resolved": "https://registry.npmjs.org/@esbuild/android-arm64/-/android-arm64-0.25.4.tgz",
      "integrity": "sha512-bBy69pgfhMGtCnwpC/x5QhfxAz/cBgQ9enbtwjf6V9lnPI/hMyT9iWpR1arm0l3kttTr4L0KSLpKmLp/ilKS9A==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/android-x64": {
      "version": "0.25.4",
      "resolved": "https://registry.npmjs.org/@esbuild/android-x64/-/android-x64-0.25.4.tgz",
      "integrity": "sha512-TVhdVtQIFuVpIIR282btcGC2oGQoSfZfmBdTip2anCaVYcqWlZXGcdcKIUklfX2wj0JklNYgz39OBqh2cqXvcQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/darwin-arm64": {
      "version": "0.25.4",
      "resolved": "https://registry.npmjs.org/@esbuild/darwin-arm64/-/darwin-arm64-0.25.4.tgz",
      "integrity": "sha512-Y1giCfM4nlHDWEfSckMzeWNdQS31BQGs9/rouw6Ub91tkK79aIMTH3q9xHvzH8d0wDru5Ci0kWB8b3up/nl16g==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/darwin-x64": {
      "version": "0.25.4",
      "resolved": "https://registry.npmjs.org/@esbuild/darwin-x64/-/darwin-x64-0.25.4.tgz",
      "integrity": "sha512-CJsry8ZGM5VFVeyUYB3cdKpd/H69PYez4eJh1W/t38vzutdjEjtP7hB6eLKBoOdxcAlCtEYHzQ/PJ/oU9I4u0A==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/freebsd-arm64": {
      "version": "0.25.4",
      "resolved": "https://registry.npmjs.org/@esbuild/freebsd-arm64/-/freebsd-arm64-0.25.4.tgz",
      "integrity": "sha512-yYq+39NlTRzU2XmoPW4l5Ifpl9fqSk0nAJYM/V/WUGPEFfek1epLHJIkTQM6bBs1swApjO5nWgvr843g6TjxuQ==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "freebsd"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/freebsd-x64": {
      "version": "0.25.4",
      "resolved": "https://registry.npmjs.org/@esbuild/freebsd-x64/-/freebsd-x64-0.25.4.tgz",
      "integrity": "sha512-0FgvOJ6UUMflsHSPLzdfDnnBBVoCDtBTVyn/MrWloUNvq/5SFmh13l3dvgRPkDihRxb77Y17MbqbCAa2strMQQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "freebsd"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-arm": {
      "version": "0.25.4",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-arm/-/linux-arm-0.25.4.tgz",
      "integrity": "sha512-kro4c0P85GMfFYqW4TWOpvmF8rFShbWGnrLqlzp4X1TNWjRY3JMYUfDCtOxPKOIY8B0WC8HN51hGP4I4hz4AaQ==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-arm64": {
      "version": "0.25.4",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-arm64/-/linux-arm64-0.25.4.tgz",
      "integrity": "sha512-+89UsQTfXdmjIvZS6nUnOOLoXnkUTB9hR5QAeLrQdzOSWZvNSAXAtcRDHWtqAUtAmv7ZM1WPOOeSxDzzzMogiQ==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-ia32": {
      "version": "0.25.4",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-ia32/-/linux-ia32-0.25.4.tgz",
      "integrity": "sha512-yTEjoapy8UP3rv8dB0ip3AfMpRbyhSN3+hY8mo/i4QXFeDxmiYbEKp3ZRjBKcOP862Ua4b1PDfwlvbuwY7hIGQ==",
      "cpu": [
        "ia32"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-loong64": {
      "version": "0.25.4",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-loong64/-/linux-loong64-0.25.4.tgz",
      "integrity": "sha512-NeqqYkrcGzFwi6CGRGNMOjWGGSYOpqwCjS9fvaUlX5s3zwOtn1qwg1s2iE2svBe4Q/YOG1q6875lcAoQK/F4VA==",
      "cpu": [
        "loong64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-mips64el": {
      "version": "0.25.4",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-mips64el/-/linux-mips64el-0.25.4.tgz",
      "integrity": "sha512-IcvTlF9dtLrfL/M8WgNI/qJYBENP3ekgsHbYUIzEzq5XJzzVEV/fXY9WFPfEEXmu3ck2qJP8LG/p3Q8f7Zc2Xg==",
      "cpu": [
        "mips64el"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-ppc64": {
      "version": "0.25.4",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-ppc64/-/linux-ppc64-0.25.4.tgz",
      "integrity": "sha512-HOy0aLTJTVtoTeGZh4HSXaO6M95qu4k5lJcH4gxv56iaycfz1S8GO/5Jh6X4Y1YiI0h7cRyLi+HixMR+88swag==",
      "cpu": [
        "ppc64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-riscv64": {
      "version": "0.25.4",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-riscv64/-/linux-riscv64-0.25.4.tgz",
      "integrity": "sha512-i8JUDAufpz9jOzo4yIShCTcXzS07vEgWzyX3NH2G7LEFVgrLEhjwL3ajFE4fZI3I4ZgiM7JH3GQ7ReObROvSUA==",
      "cpu": [
        "riscv64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-s390x": {
      "version": "0.25.4",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-s390x/-/linux-s390x-0.25.4.tgz",
      "integrity": "sha512-jFnu+6UbLlzIjPQpWCNh5QtrcNfMLjgIavnwPQAfoGx4q17ocOU9MsQ2QVvFxwQoWpZT8DvTLooTvmOQXkO51g==",
      "cpu": [
        "s390x"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-x64": {
      "version": "0.25.4",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-x64/-/linux-x64-0.25.4.tgz",
      "integrity": "sha512-6e0cvXwzOnVWJHq+mskP8DNSrKBr1bULBvnFLpc1KY+d+irZSgZ02TGse5FsafKS5jg2e4pbvK6TPXaF/A6+CA==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/netbsd-arm64": {
      "version": "0.25.4",
      "resolved": "https://registry.npmjs.org/@esbuild/netbsd-arm64/-/netbsd-arm64-0.25.4.tgz",
      "integrity": "sha512-vUnkBYxZW4hL/ie91hSqaSNjulOnYXE1VSLusnvHg2u3jewJBz3YzB9+oCw8DABeVqZGg94t9tyZFoHma8gWZQ==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "netbsd"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/netbsd-x64": {
      "version": "0.25.4",
      "resolved": "https://registry.npmjs.org/@esbuild/netbsd-x64/-/netbsd-x64-0.25.4.tgz",
      "integrity": "sha512-XAg8pIQn5CzhOB8odIcAm42QsOfa98SBeKUdo4xa8OvX8LbMZqEtgeWE9P/Wxt7MlG2QqvjGths+nq48TrUiKw==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "netbsd"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/openbsd-arm64": {
      "version": "0.25.4",
      "resolved": "https://registry.npmjs.org/@esbuild/openbsd-arm64/-/openbsd-arm64-0.25.4.tgz",
      "integrity": "sha512-Ct2WcFEANlFDtp1nVAXSNBPDxyU+j7+tId//iHXU2f/lN5AmO4zLyhDcpR5Cz1r08mVxzt3Jpyt4PmXQ1O6+7A==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "openbsd"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/openbsd-x64": {
      "version": "0.25.4",
      "resolved": "https://registry.npmjs.org/@esbuild/openbsd-x64/-/openbsd-x64-0.25.4.tgz",
      "integrity": "sha512-xAGGhyOQ9Otm1Xu8NT1ifGLnA6M3sJxZ6ixylb+vIUVzvvd6GOALpwQrYrtlPouMqd/vSbgehz6HaVk4+7Afhw==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "openbsd"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/sunos-x64": {
      "version": "0.25.4",
      "resolved": "https://registry.npmjs.org/@esbuild/sunos-x64/-/sunos-x64-0.25.4.tgz",
      "integrity": "sha512-Mw+tzy4pp6wZEK0+Lwr76pWLjrtjmJyUB23tHKqEDP74R3q95luY/bXqXZeYl4NYlvwOqoRKlInQialgCKy67Q==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "sunos"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/win32-arm64": {
      "version": "0.25.4",
      "resolved": "https://registry.npmjs.org/@esbuild/win32-arm64/-/win32-arm64-0.25.4.tgz",
      "integrity": "sha512-AVUP428VQTSddguz9dO9ngb+E5aScyg7nOeJDrF1HPYu555gmza3bDGMPhmVXL8svDSoqPCsCPjb265yG/kLKQ==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/win32-ia32": {
      "version": "0.25.4",
      "resolved": "https://registry.npmjs.org/@esbuild/win32-ia32/-/win32-ia32-0.25.4.tgz",
      "integrity": "sha512-i1sW+1i+oWvQzSgfRcxxG2k4I9n3O9NRqy8U+uugaT2Dy7kLO9Y7wI72haOahxceMX8hZAzgGou1FhndRldxRg==",
      "cpu": [
        "ia32"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/win32-x64": {
      "version": "0.25.4",
      "resolved": "https://registry.npmjs.org/@esbuild/win32-x64/-/win32-x64-0.25.4.tgz",
      "integrity": "sha512-nOT2vZNw6hJ+z43oP1SPea/G/6AbN6X+bGNhNuq8NtRHy4wsMhw765IKLNmnjek7GvjWBYQ8Q5VBoYTFg9y1UQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@jridgewell/resolve-uri": {
      "version": "3.1.2",
      "resolved": "https://registry.npmjs.org/@jridgewell/resolve-uri/-/resolve-uri-3.1.2.tgz",
      "integrity": "sha512-bRISgCIjP20/tbWSPWMEi54QVPRZExkuD9lJL+UIxUKtwVJA8wW1Trb1jMs1RFXo1CBTNZ/5hpC9QvmKWdopKw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.0.0"
      }
    },
    "node_modules/@jridgewell/sourcemap-codec": {
      "version": "1.5.0",
      "resolved": "https://registry.npmjs.org/@jridgewell/sourcemap-codec/-/sourcemap-codec-1.5.0.tgz",
      "integrity": "sha512-gv3ZRaISU3fjPAgNsriBRqGWQL6quFx04YMPW/zD8XMLsU32mhCCbfbO6KZFLjvYpCZ8zyDEgqsgf+PwPaM7GQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@jridgewell/trace-mapping": {
      "version": "0.3.9",
      "resolved": "https://registry.npmjs.org/@jridgewell/trace-mapping/-/trace-mapping-0.3.9.tgz",
      "integrity": "sha512-3Belt6tdc8bPgAtbcmdtNJlirVoTmEb5e2gC94PnkwEW9jI6CAHUeoG85tjWP5WquqfavoMtMwiG4P926ZKKuQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jridgewell/resolve-uri": "^3.0.3",
        "@jridgewell/sourcemap-codec": "^1.4.10"
      }
    },
    "node_modules/@tsconfig/node10": {
      "version": "1.0.11",
      "resolved": "https://registry.npmjs.org/@tsconfig/node10/-/node10-1.0.11.tgz",
      "integrity": "sha512-DcRjDCujK/kCk/cUe8Xz8ZSpm8mS3mNNpta+jGCA6USEDfktlNvm1+IuZ9eTcDbNk41BHwpHHeW+N1lKCz4zOw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@tsconfig/node12": {
      "version": "1.0.11",
      "resolved": "https://registry.npmjs.org/@tsconfig/node12/-/node12-1.0.11.tgz",
      "integrity": "sha512-cqefuRsh12pWyGsIoBKJA9luFu3mRxCA+ORZvA4ktLSzIuCUtWVxGIuXigEwO5/ywWFMZ2QEGKWvkZG1zDMTag==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@tsconfig/node14": {
      "version": "1.0.3",
      "resolved": "https://registry.npmjs.org/@tsconfig/node14/-/node14-1.0.3.tgz",
      "integrity": "sha512-ysT8mhdixWK6Hw3i1V2AeRqZ5WfXg1G43mqoYlM2nc6388Fq5jcXyr5mRsqViLx/GJYdoL0bfXD8nmF+Zn/Iow==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@tsconfig/node16": {
      "version": "1.0.4",
      "resolved": "https://registry.npmjs.org/@tsconfig/node16/-/node16-1.0.4.tgz",
      "integrity": "sha512-vxhUy4J8lyeyinH7Azl1pdd43GJhZH/tP2weN8TntQblOY+A0XbT8DJk1/oCPuOOyg/Ja757rG0CgHcWC8OfMA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@types/body-parser": {
      "version": "1.19.5",
      "resolved": "https://registry.npmjs.org/@types/body-parser/-/body-parser-1.19.5.tgz",
      "integrity": "sha512-fB3Zu92ucau0iQ0JMCFQE7b/dv8Ot07NI3KaZIkIUNXq82k4eBAqUaneXfleGY9JWskeS9y+u0nXMyspcuQrCg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@types/connect": "*",
        "@types/node": "*"
      }
    },
    "node_modules/@types/connect": {
      "version": "3.4.38",
      "resolved": "https://registry.npmjs.org/@types/connect/-/connect-3.4.38.tgz",
      "integrity": "sha512-K6uROf1LD88uDQqJCktA4yzL1YYAK6NgfsI0v/mTgyPKWsX1CnJ0XPSDhViejru1GcRkLWb8RlzFYJRqGUbaug==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@types/node": "*"
      }
    },
    "node_modules/@types/cookie-parser": {
      "version": "1.4.8",
      "resolved": "https://registry.npmjs.org/@types/cookie-parser/-/cookie-parser-1.4.8.tgz",
      "integrity": "sha512-l37JqFrOJ9yQfRQkljb41l0xVphc7kg5JTjjr+pLRZ0IyZ49V4BQ8vbF4Ut2C2e+WH4al3xD3ZwYwIUfnbT4NQ==",
      "dev": true,
      "license": "MIT",
      "peerDependencies": {
        "@types/express": "*"
      }
    },
    "node_modules/@types/cors": {
      "version": "2.8.18",
      "resolved": "https://registry.npmjs.org/@types/cors/-/cors-2.8.18.tgz",
      "integrity": "sha512-nX3d0sxJW41CqQvfOzVG1NCTXfFDrDWIghCZncpHeWlVFd81zxB/DLhg7avFg6eHLCRX7ckBmoIIcqa++upvJA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@types/node": "*"
      }
    },
    "node_modules/@types/express": {
      "version": "4.17.22",
      "resolved": "https://registry.npmjs.org/@types/express/-/express-4.17.22.tgz",
      "integrity": "sha512-eZUmSnhRX9YRSkplpz0N+k6NljUUn5l3EWZIKZvYzhvMphEuNiyyy1viH/ejgt66JWgALwC/gtSUAeQKtSwW/w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@types/body-parser": "*",
        "@types/express-serve-static-core": "^4.17.33",
        "@types/qs": "*",
        "@types/serve-static": "*"
      }
    },
    "node_modules/@types/express-serve-static-core": {
      "version": "4.19.6",
      "resolved": "https://registry.npmjs.org/@types/express-serve-static-core/-/express-serve-static-core-4.19.6.tgz",
      "integrity": "sha512-N4LZ2xG7DatVqhCZzOGb1Yi5lMbXSZcmdLDe9EzSndPV2HpWYWzRbaerl2n27irrm94EPpprqa8KpskPT085+A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@types/node": "*",
        "@types/qs": "*",
        "@types/range-parser": "*",
        "@types/send": "*"
      }
    },
    "node_modules/@types/http-errors": {
      "version": "2.0.4",
      "resolved": "https://registry.npmjs.org/@types/http-errors/-/http-errors-2.0.4.tgz",
      "integrity": "sha512-D0CFMMtydbJAegzOyHjtiKPLlvnm3iTZyZRSZoLq2mRhDdmLfIWOCYPfQJ4cu2erKghU++QvjcUjp/5h7hESpA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@types/mime": {
      "version": "1.3.5",
      "resolved": "https://registry.npmjs.org/@types/mime/-/mime-1.3.5.tgz",
      "integrity": "sha512-/pyBZWSLD2n0dcHE3hq8s8ZvcETHtEuF+3E7XVt0Ig2nvsVQXdghHVcEkIWjy9A0wKfTn97a/PSDYohKIlnP/w==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@types/morgan": {
      "version": "1.9.9",
      "resolved": "https://registry.npmjs.org/@types/morgan/-/morgan-1.9.9.tgz",
      "integrity": "sha512-iRYSDKVaC6FkGSpEVVIvrRGw0DfJMiQzIn3qr2G5B3C//AWkulhXgaBd7tS9/J79GWSYMTHGs7PfI5b3Y8m+RQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@types/node": "*"
      }
    },
    "node_modules/@types/multer": {
      "version": "1.4.12",
      "resolved": "https://registry.npmjs.org/@types/multer/-/multer-1.4.12.tgz",
      "integrity": "sha512-pQ2hoqvXiJt2FP9WQVLPRO+AmiIm/ZYkavPlIQnx282u4ZrVdztx0pkh3jjpQt0Kz+YI0YhSG264y08UJKoUQg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@types/express": "*"
      }
    },
    "node_modules/@types/node": {
      "version": "20.17.50",
      "resolved": "https://registry.npmjs.org/@types/node/-/node-20.17.50.tgz",
      "integrity": "sha512-Mxiq0ULv/zo1OzOhwPqOA13I81CV/W3nvd3ChtQZRT5Cwz3cr0FKo/wMSsbTqL3EXpaBAEQhva2B8ByRkOIh9A==",
      "license": "MIT",
      "dependencies": {
        "undici-types": "~6.19.2"
      }
    },
    "node_modules/@types/node-fetch": {
      "version": "2.6.12",
      "resolved": "https://registry.npmjs.org/@types/node-fetch/-/node-fetch-2.6.12.tgz",
      "integrity": "sha512-8nneRWKCg3rMtF69nLQJnOYUcbafYeFSjqkw3jCRLsqkWFlHaoQrr5mXmofFGOx3DKn7UfmBMyov8ySvLRVldA==",
      "license": "MIT",
      "dependencies": {
        "@types/node": "*",
        "form-data": "^4.0.0"
      }
    },
    "node_modules/@types/qs": {
      "version": "6.14.0",
      "resolved": "https://registry.npmjs.org/@types/qs/-/qs-6.14.0.tgz",
      "integrity": "sha512-eOunJqu0K1923aExK6y8p6fsihYEn/BYuQ4g0CxAAgFc4b/ZLN4CrsRZ55srTdqoiLzU2B2evC+apEIxprEzkQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@types/range-parser": {
      "version": "1.2.7",
      "resolved": "https://registry.npmjs.org/@types/range-parser/-/range-parser-1.2.7.tgz",
      "integrity": "sha512-hKormJbkJqzQGhziax5PItDUTMAM9uE2XXQmM37dyd4hVM+5aVl7oVxMVUiVQn2oCQFN/LKCZdvSM0pFRqbSmQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@types/send": {
      "version": "0.17.4",
      "resolved": "https://registry.npmjs.org/@types/send/-/send-0.17.4.tgz",
      "integrity": "sha512-x2EM6TJOybec7c52BX0ZspPodMsQUd5L6PRwOunVyVUhXiBSKf3AezDL8Dgvgt5o0UfKNfuA0eMLr2wLT4AiBA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@types/mime": "^1",
        "@types/node": "*"
      }
    },
    "node_modules/@types/serve-static": {
      "version": "1.15.7",
      "resolved": "https://registry.npmjs.org/@types/serve-static/-/serve-static-1.15.7.tgz",
      "integrity": "sha512-W8Ym+h8nhuRwaKPaDw34QUkwsGi6Rc4yYqvKFo5rm2FUEhCFbzVWrxXUxuKK8TASjWsysJY0nsmNCGhCOIsrOw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@types/http-errors": "*",
        "@types/node": "*",
        "@types/send": "*"
      }
    },
    "node_modules/@types/strip-bom": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/@types/strip-bom/-/strip-bom-3.0.0.tgz",
      "integrity": "sha512-xevGOReSYGM7g/kUBZzPqCrR/KYAo+F0yiPc85WFTJa0MSLtyFTVTU6cJu/aV4mid7IffDIWqo69THF2o4JiEQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@types/strip-json-comments": {
      "version": "0.0.30",
      "resolved": "https://registry.npmjs.org/@types/strip-json-comments/-/strip-json-comments-0.0.30.tgz",
      "integrity": "sha512-7NQmHra/JILCd1QqpSzl8+mJRc8ZHz3uDm8YV1Ks9IhK0epEiTw8aIErbvH9PI+6XbqhyIQy3462nEsn7UVzjQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/abort-controller": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/abort-controller/-/abort-controller-3.0.0.tgz",
      "integrity": "sha512-h8lQ8tacZYnR3vNQTgibj+tODHI5/+l06Au2Pcriv/Gmet0eaj4TwWH41sO9wnHDiQsEj19q0drzdWdeAHtweg==",
      "license": "MIT",
      "dependencies": {
        "event-target-shim": "^5.0.0"
      },
      "engines": {
        "node": ">=6.5"
      }
    },
    "node_modules/accepts": {
      "version": "1.3.8",
      "resolved": "https://registry.npmjs.org/accepts/-/accepts-1.3.8.tgz",
      "integrity": "sha512-PYAthTa2m2VKxuvSD3DPC/Gy+U+sOA1LAuT8mkmRuvw+NACSaeXEQ+NHcVF7rONl6qcaxV3Uuemwawk+7+SJLw==",
      "license": "MIT",
      "dependencies": {
        "mime-types": "~2.1.34",
        "negotiator": "0.6.3"
      },
      "engines": {
        "node": ">= 0.6"
      }
    },
    "node_modules/acorn": {
      "version": "8.14.1",
      "resolved": "https://registry.npmjs.org/acorn/-/acorn-8.14.1.tgz",
      "integrity": "sha512-OvQ/2pUDKmgfCg++xsTX1wGxfTaszcHVcTctW4UJB4hibJx2HXxxO5UmVgyjMa+ZDsiaf5wWLXYpRWMmBI0QHg==",
      "dev": true,
      "license": "MIT",
      "bin": {
        "acorn": "bin/acorn"
      },
      "engines": {
        "node": ">=0.4.0"
      }
    },
    "node_modules/acorn-walk": {
      "version": "8.3.4",
      "resolved": "https://registry.npmjs.org/acorn-walk/-/acorn-walk-8.3.4.tgz",
      "integrity": "sha512-ueEepnujpqee2o5aIYnvHU6C0A42MNdsIDeqy5BydrkuC5R1ZuUFnm27EeFJGoEHJQgn3uleRvmTXaJgfXbt4g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "acorn": "^8.11.0"
      },
      "engines": {
        "node": ">=0.4.0"
      }
    },
    "node_modules/agentkeepalive": {
      "version": "4.6.0",
      "resolved": "https://registry.npmjs.org/agentkeepalive/-/agentkeepalive-4.6.0.tgz",
      "integrity": "sha512-kja8j7PjmncONqaTsB8fQ+wE2mSU2DJ9D4XKoJ5PFWIdRMa6SLSN1ff4mOr4jCbfRSsxR4keIiySJU0N9T5hIQ==",
      "license": "MIT",
      "dependencies": {
        "humanize-ms": "^1.2.1"
      },
      "engines": {
        "node": ">= 8.0.0"
      }
    },
    "node_modules/anymatch": {
      "version": "3.1.3",
      "resolved": "https://registry.npmjs.org/anymatch/-/anymatch-3.1.3.tgz",
      "integrity": "sha512-KMReFUr0B4t+D+OBkjR3KYqvocp2XaSzO55UcB6mgQMd3KbcE+mWTyvVV7D/zsdEbNnV6acZUutkiHQXvTr1Rw==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "normalize-path": "^3.0.0",
        "picomatch": "^2.0.4"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/append-field": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/append-field/-/append-field-1.0.0.tgz",
      "integrity": "sha512-klpgFSWLW1ZEs8svjfb7g4qWY0YS5imI82dTg+QahUvJ8YqAY0P10Uk8tTyh9ZGuYEZEMaeJYCF5BFuX552hsw==",
      "license": "MIT"
    },
    "node_modules/arg": {
      "version": "4.1.3",
      "resolved": "https://registry.npmjs.org/arg/-/arg-4.1.3.tgz",
      "integrity": "sha512-58S9QDqG0Xx27YwPSt9fJxivjYl432YCwfDMfZ+71RAqUrZef7LrKQZ3LHLOwCS4FLNBplP533Zx895SeOCHvA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/array-flatten": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/array-flatten/-/array-flatten-1.1.1.tgz",
      "integrity": "sha512-PCVAQswWemu6UdxsDFFX/+gVeYqKAod3D3UVm91jHwynguOwAvYPhx8nNlM++NqRcK6CxxpUafjmhIdKiHibqg==",
      "license": "MIT"
    },
    "node_modules/asynckit": {
      "version": "0.4.0",
      "resolved": "https://registry.npmjs.org/asynckit/-/asynckit-0.4.0.tgz",
      "integrity": "sha512-Oei9OH4tRh0YqU3GxhX79dM/mwVgvbZJaSNaRk+bshkj0S5cfHcgYakreBjrHwatXKbz+IoIdYLxrKim2MjW0Q==",
      "license": "MIT"
    },
    "node_modules/axios": {
      "version": "1.9.0",
      "resolved": "https://registry.npmjs.org/axios/-/axios-1.9.0.tgz",
      "integrity": "sha512-re4CqKTJaURpzbLHtIi6XpDv20/CnpXOtjRY5/CU32L8gU8ek9UIivcfvSWvmKEngmVbrUtPpdDwWDWL7DNHvg==",
      "license": "MIT",
      "dependencies": {
        "follow-redirects": "^1.15.6",
        "form-data": "^4.0.0",
        "proxy-from-env": "^1.1.0"
      }
    },
    "node_modules/balanced-match": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/balanced-match/-/balanced-match-1.0.2.tgz",
      "integrity": "sha512-3oSeUO0TMV67hN1AmbXsK4yaqU7tjiHlbxRDZOpH0KW9+CeX4bRAaX0Anxt0tx2MrpRpWwQaPwIlISEJhYU5Pw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/basic-auth": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/basic-auth/-/basic-auth-2.0.1.tgz",
      "integrity": "sha512-NF+epuEdnUYVlGuhaxbbq+dvJttwLnGY+YixlXlME5KpQ5W3CnXA5cVTneY3SPbPDRkcjMbifrwmFYcClgOZeg==",
      "license": "MIT",
      "dependencies": {
        "safe-buffer": "5.1.2"
      },
      "engines": {
        "node": ">= 0.8"
      }
    },
    "node_modules/basic-auth/node_modules/safe-buffer": {
      "version": "5.1.2",
      "resolved": "https://registry.npmjs.org/safe-buffer/-/safe-buffer-5.1.2.tgz",
      "integrity": "sha512-Gd2UZBJDkXlY7GbJxfsE8/nvKkUEU1G38c1siN6QP6a9PT9MmHB8GnpscSmMJSoF8LOIrt8ud/wPtojys4G6+g==",
      "license": "MIT"
    },
    "node_modules/binary-extensions": {
      "version": "2.3.0",
      "resolved": "https://registry.npmjs.org/binary-extensions/-/binary-extensions-2.3.0.tgz",
      "integrity": "sha512-Ceh+7ox5qe7LJuLHoY0feh3pHuUDHAcRUeyL2VYghZwfpkNIy/+8Ocg0a3UuSoYzavmylwuLWQOf3hl0jjMMIw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/body-parser": {
      "version": "1.20.3",
      "resolved": "https://registry.npmjs.org/body-parser/-/body-parser-1.20.3.tgz",
      "integrity": "sha512-7rAxByjUMqQ3/bHJy7D6OGXvx/MMc4IqBn/X0fcM1QUcAItpZrBEYhWGem+tzXH90c+G01ypMcYJBO9Y30203g==",
      "license": "MIT",
      "dependencies": {
        "bytes": "3.1.2",
        "content-type": "~1.0.5",
        "debug": "2.6.9",
        "depd": "2.0.0",
        "destroy": "1.2.0",
        "http-errors": "2.0.0",
        "iconv-lite": "0.4.24",
        "on-finished": "2.4.1",
        "qs": "6.13.0",
        "raw-body": "2.5.2",
        "type-is": "~1.6.18",
        "unpipe": "1.0.0"
      },
      "engines": {
        "node": ">= 0.8",
        "npm": "1.2.8000 || >= 1.4.16"
      }
    },
    "node_modules/brace-expansion": {
      "version": "1.1.11",
      "resolved": "https://registry.npmjs.org/brace-expansion/-/brace-expansion-1.1.11.tgz",
      "integrity": "sha512-iCuPHDFgrHX7H2vEI/5xpz07zSHB00TpugqhmYtVmMO6518mCuRMoOYFldEBl0g187ufozdaHgWKcYFb61qGiA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "balanced-match": "^1.0.0",
        "concat-map": "0.0.1"
      }
    },
    "node_modules/braces": {
      "version": "3.0.3",
      "resolved": "https://registry.npmjs.org/braces/-/braces-3.0.3.tgz",
      "integrity": "sha512-yQbXgO/OSZVD2IsiLlro+7Hf6Q18EJrKSEsdoMzKePKXct3gvD8oLcOQdIzGupr5Fj+EDe8gO/lxc1BzfMpxvA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "fill-range": "^7.1.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/buffer-from": {
      "version": "1.1.2",
      "resolved": "https://registry.npmjs.org/buffer-from/-/buffer-from-1.1.2.tgz",
      "integrity": "sha512-E+XQCRwSbaaiChtv6k6Dwgc+bx+Bs6vuKJHHl5kox/BaKbhiXzqQOwK4cO22yElGp2OCmjwVhT3HmxgyPGnJfQ==",
      "license": "MIT"
    },
    "node_modules/busboy": {
      "version": "1.6.0",
      "resolved": "https://registry.npmjs.org/busboy/-/busboy-1.6.0.tgz",
      "integrity": "sha512-8SFQbg/0hQ9xy3UNTB0YEnsNBbWfhf7RtnzpL7TkBiTBRfrQ9Fxcnz7VJsleJpyp6rVLvXiuORqjlHi5q+PYuA==",
      "dependencies": {
        "streamsearch": "^1.1.0"
      },
      "engines": {
        "node": ">=10.16.0"
      }
    },
    "node_modules/bytes": {
      "version": "3.1.2",
      "resolved": "https://registry.npmjs.org/bytes/-/bytes-3.1.2.tgz",
      "integrity": "sha512-/Nf7TyzTx6S3yRJObOAV7956r8cr2+Oj8AC5dt8wSP3BQAoeX58NoHyCU8P8zGkNXStjTSi6fzO6F0pBdcYbEg==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.8"
      }
    },
    "node_modules/call-bind-apply-helpers": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/call-bind-apply-helpers/-/call-bind-apply-helpers-1.0.2.tgz",
      "integrity": "sha512-Sp1ablJ0ivDkSzjcaJdxEunN5/XvksFJ2sMBFfq6x0ryhQV/2b/KwFe21cMpmHtPOSij8K99/wSfoEuTObmuMQ==",
      "license": "MIT",
      "dependencies": {
        "es-errors": "^1.3.0",
        "function-bind": "^1.1.2"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/call-bound": {
      "version": "1.0.4",
      "resolved": "https://registry.npmjs.org/call-bound/-/call-bound-1.0.4.tgz",
      "integrity": "sha512-+ys997U96po4Kx/ABpBCqhA9EuxJaQWDQg7295H4hBphv3IZg0boBKuwYpt4YXp6MZ5AmZQnU/tyMTlRpaSejg==",
      "license": "MIT",
      "dependencies": {
        "call-bind-apply-helpers": "^1.0.2",
        "get-intrinsic": "^1.3.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/chokidar": {
      "version": "3.6.0",
      "resolved": "https://registry.npmjs.org/chokidar/-/chokidar-3.6.0.tgz",
      "integrity": "sha512-7VT13fmjotKpGipCW9JEQAusEPE+Ei8nl6/g4FBAmIm0GOOLMua9NDDo/DWp0ZAxCr3cPq5ZpBqmPAQgDda2Pw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "anymatch": "~3.1.2",
        "braces": "~3.0.2",
        "glob-parent": "~5.1.2",
        "is-binary-path": "~2.1.0",
        "is-glob": "~4.0.1",
        "normalize-path": "~3.0.0",
        "readdirp": "~3.6.0"
      },
      "engines": {
        "node": ">= 8.10.0"
      },
      "funding": {
        "url": "https://paulmillr.com/funding/"
      },
      "optionalDependencies": {
        "fsevents": "~2.3.2"
      }
    },
    "node_modules/combined-stream": {
      "version": "1.0.8",
      "resolved": "https://registry.npmjs.org/combined-stream/-/combined-stream-1.0.8.tgz",
      "integrity": "sha512-FQN4MRfuJeHf7cBbBMJFXhKSDq+2kAArBlmRBvcvFE5BB1HZKXtSFASDhdlz9zOYwxh8lDdnvmMOe/+5cdoEdg==",
      "license": "MIT",
      "dependencies": {
        "delayed-stream": "~1.0.0"
      },
      "engines": {
        "node": ">= 0.8"
      }
    },
    "node_modules/concat-map": {
      "version": "0.0.1",
      "resolved": "https://registry.npmjs.org/concat-map/-/concat-map-0.0.1.tgz",
      "integrity": "sha512-/Srv4dswyQNBfohGpz9o6Yb3Gz3SrUDqBH5rTuhGR7ahtlbYKnVxw2bCFMRljaA7EXHaXZ8wsHdodFvbkhKmqg==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/concat-stream": {
      "version": "1.6.2",
      "resolved": "https://registry.npmjs.org/concat-stream/-/concat-stream-1.6.2.tgz",
      "integrity": "sha512-27HBghJxjiZtIk3Ycvn/4kbJk/1uZuJFfuPEns6LaEvpvG1f0hTea8lilrouyo9mVc2GWdcEZ8OLoGmSADlrCw==",
      "engines": [
        "node >= 0.8"
      ],
      "license": "MIT",
      "dependencies": {
        "buffer-from": "^1.0.0",
        "inherits": "^2.0.3",
        "readable-stream": "^2.2.2",
        "typedarray": "^0.0.6"
      }
    },
    "node_modules/content-disposition": {
      "version": "0.5.4",
      "resolved": "https://registry.npmjs.org/content-disposition/-/content-disposition-0.5.4.tgz",
      "integrity": "sha512-FveZTNuGw04cxlAiWbzi6zTAL/lhehaWbTtgluJh4/E95DqMwTmha3KZN1aAWA8cFIhHzMZUvLevkw5Rqk+tSQ==",
      "license": "MIT",
      "dependencies": {
        "safe-buffer": "5.2.1"
      },
      "engines": {
        "node": ">= 0.6"
      }
    },
    "node_modules/content-type": {
      "version": "1.0.5",
      "resolved": "https://registry.npmjs.org/content-type/-/content-type-1.0.5.tgz",
      "integrity": "sha512-nTjqfcBFEipKdXCv4YDQWCfmcLZKm81ldF0pAopTvyrFGVbcR6P/VAAd5G7N+0tTr8QqiU0tFadD6FK4NtJwOA==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.6"
      }
    },
    "node_modules/cookie": {
      "version": "0.7.1",
      "resolved": "https://registry.npmjs.org/cookie/-/cookie-0.7.1.tgz",
      "integrity": "sha512-6DnInpx7SJ2AK3+CTUE/ZM0vWTUboZCegxhC2xiIydHR9jNuTAASBrfEpHhiGOZw/nX51bHt6YQl8jsGo4y/0w==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.6"
      }
    },
    "node_modules/cookie-parser": {
      "version": "1.4.7",
      "resolved": "https://registry.npmjs.org/cookie-parser/-/cookie-parser-1.4.7.tgz",
      "integrity": "sha512-nGUvgXnotP3BsjiLX2ypbQnWoGUPIIfHQNZkkC668ntrzGWEZVW70HDEB1qnNGMicPje6EttlIgzo51YSwNQGw==",
      "license": "MIT",
      "dependencies": {
        "cookie": "0.7.2",
        "cookie-signature": "1.0.6"
      },
      "engines": {
        "node": ">= 0.8.0"
      }
    },
    "node_modules/cookie-parser/node_modules/cookie": {
      "version": "0.7.2",
      "resolved": "https://registry.npmjs.org/cookie/-/cookie-0.7.2.tgz",
      "integrity": "sha512-yki5XnKuf750l50uGTllt6kKILY4nQ1eNIQatoXEByZ5dWgnKqbnqmTrBE5B4N7lrMJKQ2ytWMiTO2o0v6Ew/w==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.6"
      }
    },
    "node_modules/cookie-signature": {
      "version": "1.0.6",
      "resolved": "https://registry.npmjs.org/cookie-signature/-/cookie-signature-1.0.6.tgz",
      "integrity": "sha512-QADzlaHc8icV8I7vbaJXJwod9HWYp8uCqf1xa4OfNu1T7JVxQIrUgOWtHdNDtPiywmFbiS12VjotIXLrKM3orQ==",
      "license": "MIT"
    },
    "node_modules/core-util-is": {
      "version": "1.0.3",
      "resolved": "https://registry.npmjs.org/core-util-is/-/core-util-is-1.0.3.tgz",
      "integrity": "sha512-ZQBvi1DcpJ4GDqanjucZ2Hj3wEO5pZDS89BWbkcrvdxksJorwUDDZamX9ldFkp9aw2lmBDLgkObEA4DWNJ9FYQ==",
      "license": "MIT"
    },
    "node_modules/cors": {
      "version": "2.8.5",
      "resolved": "https://registry.npmjs.org/cors/-/cors-2.8.5.tgz",
      "integrity": "sha512-KIHbLJqu73RGr/hnbrO9uBeixNGuvSQjul/jdFvS/KFSIH1hWVd1ng7zOHx+YrEfInLG7q4n6GHQ9cDtxv/P6g==",
      "license": "MIT",
      "dependencies": {
        "object-assign": "^4",
        "vary": "^1"
      },
      "engines": {
        "node": ">= 0.10"
      }
    },
    "node_modules/create-require": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/create-require/-/create-require-1.1.1.tgz",
      "integrity": "sha512-dcKFX3jn0MpIaXjisoRvexIJVEKzaq7z2rZKxf+MSr9TkdmHmsU4m2lcLojrj/FHl8mk5VxMmYA+ftRkP/3oKQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/cross-env": {
      "version": "7.0.3",
      "resolved": "https://registry.npmjs.org/cross-env/-/cross-env-7.0.3.tgz",
      "integrity": "sha512-+/HKd6EgcQCJGh2PSjZuUitQBQynKor4wrFbRg4DtAgS1aWO+gU52xpH7M9ScGgXSYmAVS9bIJ8EzuaGw0oNAw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "cross-spawn": "^7.0.1"
      },
      "bin": {
        "cross-env": "src/bin/cross-env.js",
        "cross-env-shell": "src/bin/cross-env-shell.js"
      },
      "engines": {
        "node": ">=10.14",
        "npm": ">=6",
        "yarn": ">=1"
      }
    },
    "node_modules/cross-spawn": {
      "version": "7.0.6",
      "resolved": "https://registry.npmjs.org/cross-spawn/-/cross-spawn-7.0.6.tgz",
      "integrity": "sha512-uV2QOWP2nWzsy2aMp8aRibhi9dlzF5Hgh5SHaB9OiTGEyDTiJJyx0uy51QXdyWbtAHNua4XJzUKca3OzKUd3vA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "path-key": "^3.1.0",
        "shebang-command": "^2.0.0",
        "which": "^2.0.1"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/debug": {
      "version": "2.6.9",
      "resolved": "https://registry.npmjs.org/debug/-/debug-2.6.9.tgz",
      "integrity": "sha512-bC7ElrdJaJnPbAP+1EotYvqZsb3ecl5wi6Bfi6BJTUcNowp6cvspg0jXznRTKDjm/E7AdgFBVeAPVMNcKGsHMA==",
      "license": "MIT",
      "dependencies": {
        "ms": "2.0.0"
      }
    },
    "node_modules/delayed-stream": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/delayed-stream/-/delayed-stream-1.0.0.tgz",
      "integrity": "sha512-ZySD7Nf91aLB0RxL4KGrKHBXl7Eds1DAmEdcoVawXnLD7SDhpNgtuII2aAkg7a7QS41jxPSZ17p4VdGnMHk3MQ==",
      "license": "MIT",
      "engines": {
        "node": ">=0.4.0"
      }
    },
    "node_modules/depd": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/depd/-/depd-2.0.0.tgz",
      "integrity": "sha512-g7nH6P6dyDioJogAAGprGpCtVImJhpPk/roCzdb3fIh61/s/nPsfR6onyMwkCAR/OlC3yBC0lESvUoQEAssIrw==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.8"
      }
    },
    "node_modules/destroy": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/destroy/-/destroy-1.2.0.tgz",
      "integrity": "sha512-2sJGJTaXIIaR1w4iJSNoN0hnMY7Gpc/n8D4qSCJw8QqFWXf7cuAgnEHxBpweaVcPevC2l3KpjYCx3NypQQgaJg==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.8",
        "npm": "1.2.8000 || >= 1.4.16"
      }
    },
    "node_modules/diff": {
      "version": "4.0.2",
      "resolved": "https://registry.npmjs.org/diff/-/diff-4.0.2.tgz",
      "integrity": "sha512-58lmxKSA4BNyLz+HHMUzlOEpg09FV+ev6ZMe3vJihgdxzgcwZ8VoEEPmALCZG9LmqfVoNMMKpttIYTVG6uDY7A==",
      "dev": true,
      "license": "BSD-3-Clause",
      "engines": {
        "node": ">=0.3.1"
      }
    },
    "node_modules/dotenv": {
      "version": "16.5.0",
      "resolved": "https://registry.npmjs.org/dotenv/-/dotenv-16.5.0.tgz",
      "integrity": "sha512-m/C+AwOAr9/W1UOIZUo232ejMNnJAJtYQjUbHoNTBNTJSvqzzDh7vnrei3o3r3m9blf6ZoDkvcw0VmozNRFJxg==",
      "license": "BSD-2-Clause",
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://dotenvx.com"
      }
    },
    "node_modules/dunder-proto": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/dunder-proto/-/dunder-proto-1.0.1.tgz",
      "integrity": "sha512-KIN/nDJBQRcXw0MLVhZE9iQHmG68qAVIBg9CqmUYjmQIhgij9U5MFvrqkUL5FbtyyzZuOeOt0zdeRe4UY7ct+A==",
      "license": "MIT",
      "dependencies": {
        "call-bind-apply-helpers": "^1.0.1",
        "es-errors": "^1.3.0",
        "gopd": "^1.2.0"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/dynamic-dedupe": {
      "version": "0.3.0",
      "resolved": "https://registry.npmjs.org/dynamic-dedupe/-/dynamic-dedupe-0.3.0.tgz",
      "integrity": "sha512-ssuANeD+z97meYOqd50e04Ze5qp4bPqo8cCkI4TRjZkzAUgIDTrXV1R8QCdINpiI+hw14+rYazvTRdQrz0/rFQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "xtend": "^4.0.0"
      }
    },
    "node_modules/ee-first": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/ee-first/-/ee-first-1.1.1.tgz",
      "integrity": "sha512-WMwm9LhRUo+WUaRN+vRuETqG89IgZphVSNkdFgeb6sS/E4OrDIN7t48CAewSHXc6C8lefD8KKfr5vY61brQlow==",
      "license": "MIT"
    },
    "node_modules/encodeurl": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/encodeurl/-/encodeurl-2.0.0.tgz",
      "integrity": "sha512-Q0n9HRi4m6JuGIV1eFlmvJB7ZEVxu93IrMyiMsGC0lrMJMWzRgx6WGquyfQgZVb31vhGgXnfmPNNXmxnOkRBrg==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.8"
      }
    },
    "node_modules/es-define-property": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/es-define-property/-/es-define-property-1.0.1.tgz",
      "integrity": "sha512-e3nRfgfUZ4rNGL232gUgX06QNyyez04KdjFrF+LTRoOXmrOgFKDg4BCdsjW8EnT69eqdYGmRpJwiPVYNrCaW3g==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/es-errors": {
      "version": "1.3.0",
      "resolved": "https://registry.npmjs.org/es-errors/-/es-errors-1.3.0.tgz",
      "integrity": "sha512-Zf5H2Kxt2xjTvbJvP2ZWLEICxA6j+hAmMzIlypy4xcBg1vKVnx89Wy0GbS+kf5cwCVFFzdCFh2XSCFNULS6csw==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/es-object-atoms": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/es-object-atoms/-/es-object-atoms-1.1.1.tgz",
      "integrity": "sha512-FGgH2h8zKNim9ljj7dankFPcICIK9Cp5bm+c2gQSYePhpaG5+esrLODihIorn+Pe6FGJzWhXQotPv73jTaldXA==",
      "license": "MIT",
      "dependencies": {
        "es-errors": "^1.3.0"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/es-set-tostringtag": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/es-set-tostringtag/-/es-set-tostringtag-2.1.0.tgz",
      "integrity": "sha512-j6vWzfrGVfyXxge+O0x5sh6cvxAog0a/4Rdd2K36zCMV5eJ+/+tOAngRO8cODMNWbVRdVlmGZQL2YS3yR8bIUA==",
      "license": "MIT",
      "dependencies": {
        "es-errors": "^1.3.0",
        "get-intrinsic": "^1.2.6",
        "has-tostringtag": "^1.0.2",
        "hasown": "^2.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/esbuild": {
      "version": "0.25.4",
      "resolved": "https://registry.npmjs.org/esbuild/-/esbuild-0.25.4.tgz",
      "integrity": "sha512-8pgjLUcUjcgDg+2Q4NYXnPbo/vncAY4UmyaCm0jZevERqCHZIaWwdJHkf8XQtu4AxSKCdvrUbT0XUr1IdZzI8Q==",
      "dev": true,
      "hasInstallScript": true,
      "license": "MIT",
      "bin": {
        "esbuild": "bin/esbuild"
      },
      "engines": {
        "node": ">=18"
      },
      "optionalDependencies": {
        "@esbuild/aix-ppc64": "0.25.4",
        "@esbuild/android-arm": "0.25.4",
        "@esbuild/android-arm64": "0.25.4",
        "@esbuild/android-x64": "0.25.4",
        "@esbuild/darwin-arm64": "0.25.4",
        "@esbuild/darwin-x64": "0.25.4",
        "@esbuild/freebsd-arm64": "0.25.4",
        "@esbuild/freebsd-x64": "0.25.4",
        "@esbuild/linux-arm": "0.25.4",
        "@esbuild/linux-arm64": "0.25.4",
        "@esbuild/linux-ia32": "0.25.4",
        "@esbuild/linux-loong64": "0.25.4",
        "@esbuild/linux-mips64el": "0.25.4",
        "@esbuild/linux-ppc64": "0.25.4",
        "@esbuild/linux-riscv64": "0.25.4",
        "@esbuild/linux-s390x": "0.25.4",
        "@esbuild/linux-x64": "0.25.4",
        "@esbuild/netbsd-arm64": "0.25.4",
        "@esbuild/netbsd-x64": "0.25.4",
        "@esbuild/openbsd-arm64": "0.25.4",
        "@esbuild/openbsd-x64": "0.25.4",
        "@esbuild/sunos-x64": "0.25.4",
        "@esbuild/win32-arm64": "0.25.4",
        "@esbuild/win32-ia32": "0.25.4",
        "@esbuild/win32-x64": "0.25.4"
      }
    },
    "node_modules/escape-html": {
      "version": "1.0.3",
      "resolved": "https://registry.npmjs.org/escape-html/-/escape-html-1.0.3.tgz",
      "integrity": "sha512-NiSupZ4OeuGwr68lGIeym/ksIZMJodUGOSCZ/FSnTxcrekbvqrgdUxlJOMpijaKZVjAJrWrGs/6Jy8OMuyj9ow==",
      "license": "MIT"
    },
    "node_modules/etag": {
      "version": "1.8.1",
      "resolved": "https://registry.npmjs.org/etag/-/etag-1.8.1.tgz",
      "integrity": "sha512-aIL5Fx7mawVa300al2BnEE4iNvo1qETxLrPI/o05L7z6go7fCw1J6EQmbK4FmJ2AS7kgVF/KEZWufBfdClMcPg==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.6"
      }
    },
    "node_modules/event-target-shim": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/event-target-shim/-/event-target-shim-5.0.1.tgz",
      "integrity": "sha512-i/2XbnSz/uxRCU6+NdVJgKWDTM427+MqYbkQzD321DuCQJUqOuJKIA0IM2+W2xtYHdKOmZ4dR6fExsd4SXL+WQ==",
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/express": {
      "version": "4.21.2",
      "resolved": "https://registry.npmjs.org/express/-/express-4.21.2.tgz",
      "integrity": "sha512-28HqgMZAmih1Czt9ny7qr6ek2qddF4FclbMzwhCREB6OFfH+rXAnuNCwo1/wFvrtbgsQDb4kSbX9de9lFbrXnA==",
      "license": "MIT",
      "dependencies": {
        "accepts": "~1.3.8",
        "array-flatten": "1.1.1",
        "body-parser": "1.20.3",
        "content-disposition": "0.5.4",
        "content-type": "~1.0.4",
        "cookie": "0.7.1",
        "cookie-signature": "1.0.6",
        "debug": "2.6.9",
        "depd": "2.0.0",
        "encodeurl": "~2.0.0",
        "escape-html": "~1.0.3",
        "etag": "~1.8.1",
        "finalhandler": "1.3.1",
        "fresh": "0.5.2",
        "http-errors": "2.0.0",
        "merge-descriptors": "1.0.3",
        "methods": "~1.1.2",
        "on-finished": "2.4.1",
        "parseurl": "~1.3.3",
        "path-to-regexp": "0.1.12",
        "proxy-addr": "~2.0.7",
        "qs": "6.13.0",
        "range-parser": "~1.2.1",
        "safe-buffer": "5.2.1",
        "send": "0.19.0",
        "serve-static": "1.16.2",
        "setprototypeof": "1.2.0",
        "statuses": "2.0.1",
        "type-is": "~1.6.18",
        "utils-merge": "1.0.1",
        "vary": "~1.1.2"
      },
      "engines": {
        "node": ">= 0.10.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/express"
      }
    },
    "node_modules/express-rate-limit": {
      "version": "7.5.0",
      "resolved": "https://registry.npmjs.org/express-rate-limit/-/express-rate-limit-7.5.0.tgz",
      "integrity": "sha512-eB5zbQh5h+VenMPM3fh+nw1YExi5nMr6HUCR62ELSP11huvxm/Uir1H1QEyTkk5QX6A58pX6NmaTMceKZ0Eodg==",
      "license": "MIT",
      "engines": {
        "node": ">= 16"
      },
      "funding": {
        "url": "https://github.com/sponsors/express-rate-limit"
      },
      "peerDependencies": {
        "express": "^4.11 || 5 || ^5.0.0-beta.1"
      }
    },
    "node_modules/fill-range": {
      "version": "7.1.1",
      "resolved": "https://registry.npmjs.org/fill-range/-/fill-range-7.1.1.tgz",
      "integrity": "sha512-YsGpe3WHLK8ZYi4tWDg2Jy3ebRz2rXowDxnld4bkQB00cc/1Zw9AWnC0i9ztDJitivtQvaI9KaLyKrc+hBW0yg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "to-regex-range": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/finalhandler": {
      "version": "1.3.1",
      "resolved": "https://registry.npmjs.org/finalhandler/-/finalhandler-1.3.1.tgz",
      "integrity": "sha512-6BN9trH7bp3qvnrRyzsBz+g3lZxTNZTbVO2EV1CS0WIcDbawYVdYvGflME/9QP0h0pYlCDBCTjYa9nZzMDpyxQ==",
      "license": "MIT",
      "dependencies": {
        "debug": "2.6.9",
        "encodeurl": "~2.0.0",
        "escape-html": "~1.0.3",
        "on-finished": "2.4.1",
        "parseurl": "~1.3.3",
        "statuses": "2.0.1",
        "unpipe": "~1.0.0"
      },
      "engines": {
        "node": ">= 0.8"
      }
    },
    "node_modules/follow-redirects": {
      "version": "1.15.9",
      "resolved": "https://registry.npmjs.org/follow-redirects/-/follow-redirects-1.15.9.tgz",
      "integrity": "sha512-gew4GsXizNgdoRyqmyfMHyAmXsZDk6mHkSxZFCzW9gwlbtOW44CDtYavM+y+72qD/Vq2l550kMF52DT8fOLJqQ==",
      "funding": [
        {
          "type": "individual",
          "url": "https://github.com/sponsors/RubenVerborgh"
        }
      ],
      "license": "MIT",
      "engines": {
        "node": ">=4.0"
      },
      "peerDependenciesMeta": {
        "debug": {
          "optional": true
        }
      }
    },
    "node_modules/form-data": {
      "version": "4.0.2",
      "resolved": "https://registry.npmjs.org/form-data/-/form-data-4.0.2.tgz",
      "integrity": "sha512-hGfm/slu0ZabnNt4oaRZ6uREyfCj6P4fT/n6A1rGV+Z0VdGXjfOhVUpkn6qVQONHGIFwmveGXyDs75+nr6FM8w==",
      "license": "MIT",
      "dependencies": {
        "asynckit": "^0.4.0",
        "combined-stream": "^1.0.8",
        "es-set-tostringtag": "^2.1.0",
        "mime-types": "^2.1.12"
      },
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/form-data-encoder": {
      "version": "1.7.2",
      "resolved": "https://registry.npmjs.org/form-data-encoder/-/form-data-encoder-1.7.2.tgz",
      "integrity": "sha512-qfqtYan3rxrnCk1VYaA4H+Ms9xdpPqvLZa6xmMgFvhO32x7/3J/ExcTd6qpxM0vH2GdMI+poehyBZvqfMTto8A==",
      "license": "MIT"
    },
    "node_modules/formdata-node": {
      "version": "4.4.1",
      "resolved": "https://registry.npmjs.org/formdata-node/-/formdata-node-4.4.1.tgz",
      "integrity": "sha512-0iirZp3uVDjVGt9p49aTaqjk84TrglENEDuqfdlZQ1roC9CWlPk6Avf8EEnZNcAqPonwkG35x4n3ww/1THYAeQ==",
      "license": "MIT",
      "dependencies": {
        "node-domexception": "1.0.0",
        "web-streams-polyfill": "4.0.0-beta.3"
      },
      "engines": {
        "node": ">= 12.20"
      }
    },
    "node_modules/forwarded": {
      "version": "0.2.0",
      "resolved": "https://registry.npmjs.org/forwarded/-/forwarded-0.2.0.tgz",
      "integrity": "sha512-buRG0fpBtRHSTCOASe6hD258tEubFoRLb4ZNA6NxMVHNw2gOcwHo9wyablzMzOA5z9xA9L1KNjk/Nt6MT9aYow==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.6"
      }
    },
    "node_modules/fresh": {
      "version": "0.5.2",
      "resolved": "https://registry.npmjs.org/fresh/-/fresh-0.5.2.tgz",
      "integrity": "sha512-zJ2mQYM18rEFOudeV4GShTGIQ7RbzA7ozbU9I/XBpm7kqgMywgmylMwXHxZJmkVoYkna9d2pVXVXPdYTP9ej8Q==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.6"
      }
    },
    "node_modules/fs.realpath": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/fs.realpath/-/fs.realpath-1.0.0.tgz",
      "integrity": "sha512-OO0pH2lK6a0hZnAdau5ItzHPI6pUlvI7jMVnxUQRtw4owF2wk8lOSabtGDCTP4Ggrg2MbGnWO9X8K1t4+fGMDw==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/fsevents": {
      "version": "2.3.3",
      "resolved": "https://registry.npmjs.org/fsevents/-/fsevents-2.3.3.tgz",
      "integrity": "sha512-5xoDfX+fL7faATnagmWPpbFtwh/R77WmMMqqHGS65C3vvB0YHrgF+B1YmZ3441tMj5n63k0212XNoJwzlhffQw==",
      "dev": true,
      "hasInstallScript": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": "^8.16.0 || ^10.6.0 || >=11.0.0"
      }
    },
    "node_modules/function-bind": {
      "version": "1.1.2",
      "resolved": "https://registry.npmjs.org/function-bind/-/function-bind-1.1.2.tgz",
      "integrity": "sha512-7XHNxH7qX9xG5mIwxkhumTox/MIRNcOgDrxWsMt2pAr23WHp6MrRlN7FBSFpCpr+oVO0F744iUgR82nJMfG2SA==",
      "license": "MIT",
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/get-intrinsic": {
      "version": "1.3.0",
      "resolved": "https://registry.npmjs.org/get-intrinsic/-/get-intrinsic-1.3.0.tgz",
      "integrity": "sha512-9fSjSaos/fRIVIp+xSJlE6lfwhES7LNtKaCBIamHsjr2na1BiABJPo0mOjjz8GJDURarmCPGqaiVg5mfjb98CQ==",
      "license": "MIT",
      "dependencies": {
        "call-bind-apply-helpers": "^1.0.2",
        "es-define-property": "^1.0.1",
        "es-errors": "^1.3.0",
        "es-object-atoms": "^1.1.1",
        "function-bind": "^1.1.2",
        "get-proto": "^1.0.1",
        "gopd": "^1.2.0",
        "has-symbols": "^1.1.0",
        "hasown": "^2.0.2",
        "math-intrinsics": "^1.1.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/get-proto": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/get-proto/-/get-proto-1.0.1.tgz",
      "integrity": "sha512-sTSfBjoXBp89JvIKIefqw7U2CCebsc74kiY6awiGogKtoSGbgjYE/G/+l9sF3MWFPNc9IcoOC4ODfKHfxFmp0g==",
      "license": "MIT",
      "dependencies": {
        "dunder-proto": "^1.0.1",
        "es-object-atoms": "^1.0.0"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/get-tsconfig": {
      "version": "4.10.1",
      "resolved": "https://registry.npmjs.org/get-tsconfig/-/get-tsconfig-4.10.1.tgz",
      "integrity": "sha512-auHyJ4AgMz7vgS8Hp3N6HXSmlMdUyhSUrfBF16w153rxtLIEOE+HGqaBppczZvnHLqQJfiHotCYpNhl0lUROFQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "resolve-pkg-maps": "^1.0.0"
      },
      "funding": {
        "url": "https://github.com/privatenumber/get-tsconfig?sponsor=1"
      }
    },
    "node_modules/glob": {
      "version": "7.2.3",
      "resolved": "https://registry.npmjs.org/glob/-/glob-7.2.3.tgz",
      "integrity": "sha512-nFR0zLpU2YCaRxwoCJvL6UvCH2JFyFVIvwTLsIf21AuHlMskA1hhTdk+LlYJtOlYt9v6dvszD2BGRqBL+iQK9Q==",
      "deprecated": "Glob versions prior to v9 are no longer supported",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "fs.realpath": "^1.0.0",
        "inflight": "^1.0.4",
        "inherits": "2",
        "minimatch": "^3.1.1",
        "once": "^1.3.0",
        "path-is-absolute": "^1.0.0"
      },
      "engines": {
        "node": "*"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/glob-parent": {
      "version": "5.1.2",
      "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-5.1.2.tgz",
      "integrity": "sha512-AOIgSQCepiJYwP3ARnGx+5VnTu2HBYdzbGP45eLw1vr3zB3vZLeyed1sC9hnbcOc9/SrMyM5RPQrkGz4aS9Zow==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "is-glob": "^4.0.1"
      },
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/gopd": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/gopd/-/gopd-1.2.0.tgz",
      "integrity": "sha512-ZUKRh6/kUFoAiTAtTYPZJ3hw9wNxx+BIBOijnlG9PnrJsCcSjs1wyyD6vJpaYtgnzDrKYRSqf3OO6Rfa93xsRg==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/has-symbols": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/has-symbols/-/has-symbols-1.1.0.tgz",
      "integrity": "sha512-1cDNdwJ2Jaohmb3sg4OmKaMBwuC48sYni5HUw2DvsC8LjGTLK9h+eb1X6RyuOHe4hT0ULCW68iomhjUoKUqlPQ==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/has-tostringtag": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/has-tostringtag/-/has-tostringtag-1.0.2.tgz",
      "integrity": "sha512-NqADB8VjPFLM2V0VvHUewwwsw0ZWBaIdgo+ieHtK3hasLz4qeCRjYcqfB6AQrBggRKppKF8L52/VqdVsO47Dlw==",
      "license": "MIT",
      "dependencies": {
        "has-symbols": "^1.0.3"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/hasown": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/hasown/-/hasown-2.0.2.tgz",
      "integrity": "sha512-0hJU9SCPvmMzIBdZFqNPXWa6dqh7WdH0cII9y+CyS8rG3nL48Bclra9HmKhVVUHyPWNH5Y7xDwAB7bfgSjkUMQ==",
      "license": "MIT",
      "dependencies": {
        "function-bind": "^1.1.2"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/helmet": {
      "version": "7.2.0",
      "resolved": "https://registry.npmjs.org/helmet/-/helmet-7.2.0.tgz",
      "integrity": "sha512-ZRiwvN089JfMXokizgqEPXsl2Guk094yExfoDXR0cBYWxtBbaSww/w+vT4WEJsBW2iTUi1GgZ6swmoug3Oy4Xw==",
      "license": "MIT",
      "engines": {
        "node": ">=16.0.0"
      }
    },
    "node_modules/http-errors": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/http-errors/-/http-errors-2.0.0.tgz",
      "integrity": "sha512-FtwrG/euBzaEjYeRqOgly7G0qviiXoJWnvEH2Z1plBdXgbyjv34pHTSb9zoeHMyDy33+DWy5Wt9Wo+TURtOYSQ==",
      "license": "MIT",
      "dependencies": {
        "depd": "2.0.0",
        "inherits": "2.0.4",
        "setprototypeof": "1.2.0",
        "statuses": "2.0.1",
        "toidentifier": "1.0.1"
      },
      "engines": {
        "node": ">= 0.8"
      }
    },
    "node_modules/humanize-ms": {
      "version": "1.2.1",
      "resolved": "https://registry.npmjs.org/humanize-ms/-/humanize-ms-1.2.1.tgz",
      "integrity": "sha512-Fl70vYtsAFb/C06PTS9dZBo7ihau+Tu/DNCk/OyHhea07S+aeMWpFFkUaXRa8fI+ScZbEI8dfSxwY7gxZ9SAVQ==",
      "license": "MIT",
      "dependencies": {
        "ms": "^2.0.0"
      }
    },
    "node_modules/iconv-lite": {
      "version": "0.4.24",
      "resolved": "https://registry.npmjs.org/iconv-lite/-/iconv-lite-0.4.24.tgz",
      "integrity": "sha512-v3MXnZAcvnywkTUEZomIActle7RXXeedOR31wwl7VlyoXO4Qi9arvSenNQWne1TcRwhCL1HwLI21bEqdpj8/rA==",
      "license": "MIT",
      "dependencies": {
        "safer-buffer": ">= 2.1.2 < 3"
      },
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/inflight": {
      "version": "1.0.6",
      "resolved": "https://registry.npmjs.org/inflight/-/inflight-1.0.6.tgz",
      "integrity": "sha512-k92I/b08q4wvFscXCLvqfsHCrjrF7yiXsQuIVvVE7N82W3+aqpzuUdBbfhWcy/FZR3/4IgflMgKLOsvPDrGCJA==",
      "deprecated": "This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "once": "^1.3.0",
        "wrappy": "1"
      }
    },
    "node_modules/inherits": {
      "version": "2.0.4",
      "resolved": "https://registry.npmjs.org/inherits/-/inherits-2.0.4.tgz",
      "integrity": "sha512-k/vGaX4/Yla3WzyMCvTQOXYeIHvqOKtnqBduzTHpzpQZzAskKMhZ2K+EnBiSM9zGSoIFeMpXKxa4dYeZIQqewQ==",
      "license": "ISC"
    },
    "node_modules/ipaddr.js": {
      "version": "1.9.1",
      "resolved": "https://registry.npmjs.org/ipaddr.js/-/ipaddr.js-1.9.1.tgz",
      "integrity": "sha512-0KI/607xoxSToH7GjN1FfSbLoU0+btTicjsQSWQlh/hZykN8KpmMf7uYwPW3R+akZ6R/w18ZlXSHBYXiYUPO3g==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.10"
      }
    },
    "node_modules/is-binary-path": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/is-binary-path/-/is-binary-path-2.1.0.tgz",
      "integrity": "sha512-ZMERYes6pDydyuGidse7OsHxtbI7WVeUEozgR/g7rd0xUimYNlvZRE/K2MgZTjWy725IfelLeVcEM97mmtRGXw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "binary-extensions": "^2.0.0"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/is-core-module": {
      "version": "2.16.1",
      "resolved": "https://registry.npmjs.org/is-core-module/-/is-core-module-2.16.1.tgz",
      "integrity": "sha512-UfoeMA6fIJ8wTYFEUjelnaGI67v6+N7qXJEvQuIGa99l4xsCruSYOVSQ0uPANn4dAzm8lkYPaKLrrijLq7x23w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "hasown": "^2.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-extglob": {
      "version": "2.1.1",
      "resolved": "https://registry.npmjs.org/is-extglob/-/is-extglob-2.1.1.tgz",
      "integrity": "sha512-SbKbANkN603Vi4jEZv49LeVJMn4yGwsbzZworEoyEiutsN3nJYdbO36zfhGJ6QEDpOZIFkDtnq5JRxmvl3jsoQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/is-glob": {
      "version": "4.0.3",
      "resolved": "https://registry.npmjs.org/is-glob/-/is-glob-4.0.3.tgz",
      "integrity": "sha512-xelSayHH36ZgE7ZWhli7pW34hNbNl8Ojv5KVmkJD4hBdD3th8Tfk9vYasLM+mXWOZhFkgZfxhLSnrwRr4elSSg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "is-extglob": "^2.1.1"
      },
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/is-number": {
      "version": "7.0.0",
      "resolved": "https://registry.npmjs.org/is-number/-/is-number-7.0.0.tgz",
      "integrity": "sha512-41Cifkg6e8TylSpdtTpeLVMqvSBEVzTttHvERD741+pnZ8ANv0004MRL43QKPDlK9cGvNp6NZWZUBlbGXYxxng==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.12.0"
      }
    },
    "node_modules/isarray": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/isarray/-/isarray-1.0.0.tgz",
      "integrity": "sha512-VLghIWNM6ELQzo7zwmcg0NmTVyWKYjvIeM83yjp0wRDTmUnrM678fQbcKBo6n2CJEF0szoG//ytg+TKla89ALQ==",
      "license": "MIT"
    },
    "node_modules/isexe": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/isexe/-/isexe-2.0.0.tgz",
      "integrity": "sha512-RHxMLp9lnKHGHRng9QFhRCMbYAcVpn69smSGcq3f36xjgVVWThj4qqLbTLlq7Ssj8B+fIQ1EuCEGI2lKsyQeIw==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/make-error": {
      "version": "1.3.6",
      "resolved": "https://registry.npmjs.org/make-error/-/make-error-1.3.6.tgz",
      "integrity": "sha512-s8UhlNe7vPKomQhC1qFelMokr/Sc3AgNbso3n74mVPA5LTZwkB9NlXf4XPamLxJE8h0gh73rM94xvwRT2CVInw==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/math-intrinsics": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/math-intrinsics/-/math-intrinsics-1.1.0.tgz",
      "integrity": "sha512-/IXtbwEk5HTPyEwyKX6hGkYXxM9nbj64B+ilVJnC/R6B0pH5G4V3b0pVbL7DBj4tkhBAppbQUlf6F6Xl9LHu1g==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/media-typer": {
      "version": "0.3.0",
      "resolved": "https://registry.npmjs.org/media-typer/-/media-typer-0.3.0.tgz",
      "integrity": "sha512-dq+qelQ9akHpcOl/gUVRTxVIOkAJ1wR3QAvb4RsVjS8oVoFjDGTc679wJYmUmknUF5HwMLOgb5O+a3KxfWapPQ==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.6"
      }
    },
    "node_modules/merge-descriptors": {
      "version": "1.0.3",
      "resolved": "https://registry.npmjs.org/merge-descriptors/-/merge-descriptors-1.0.3.tgz",
      "integrity": "sha512-gaNvAS7TZ897/rVaZ0nMtAyxNyi/pdbjbAwUpFQpN70GqnVfOiXpeUUMKRBmzXaSQ8DdTX4/0ms62r2K+hE6mQ==",
      "license": "MIT",
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/methods": {
      "version": "1.1.2",
      "resolved": "https://registry.npmjs.org/methods/-/methods-1.1.2.tgz",
      "integrity": "sha512-iclAHeNqNm68zFtnZ0e+1L2yUIdvzNoauKU4WBA3VvH/vPFieF7qfRlwUZU+DA9P9bPXIS90ulxoUoCH23sV2w==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.6"
      }
    },
    "node_modules/mime": {
      "version": "1.6.0",
      "resolved": "https://registry.npmjs.org/mime/-/mime-1.6.0.tgz",
      "integrity": "sha512-x0Vn8spI+wuJ1O6S7gnbaQg8Pxh4NNHb7KSINmEWKiPE4RKOplvijn+NkmYmmRgP68mc70j2EbeTFRsrswaQeg==",
      "license": "MIT",
      "bin": {
        "mime": "cli.js"
      },
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/mime-db": {
      "version": "1.52.0",
      "resolved": "https://registry.npmjs.org/mime-db/-/mime-db-1.52.0.tgz",
      "integrity": "sha512-sPU4uV7dYlvtWJxwwxHD0PuihVNiE7TyAbQ5SWxDCB9mUYvOgroQOwYQQOKPJ8CIbE+1ETVlOoK1UC2nU3gYvg==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.6"
      }
    },
    "node_modules/mime-types": {
      "version": "2.1.35",
      "resolved": "https://registry.npmjs.org/mime-types/-/mime-types-2.1.35.tgz",
      "integrity": "sha512-ZDY+bPm5zTTF+YpCrAU9nK0UgICYPT0QtT1NZWFv4s++TNkcgVaT0g6+4R2uI4MjQjzysHB1zxuWL50hzaeXiw==",
      "license": "MIT",
      "dependencies": {
        "mime-db": "1.52.0"
      },
      "engines": {
        "node": ">= 0.6"
      }
    },
    "node_modules/minimatch": {
      "version": "3.1.2",
      "resolved": "https://registry.npmjs.org/minimatch/-/minimatch-3.1.2.tgz",
      "integrity": "sha512-J7p63hRiAjw1NDEww1W7i37+ByIrOWO5XQQAzZ3VOcL0PNybwpfmV/N05zFAzwQ9USyEcX6t3UO+K5aqBQOIHw==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "brace-expansion": "^1.1.7"
      },
      "engines": {
        "node": "*"
      }
    },
    "node_modules/minimist": {
      "version": "1.2.8",
      "resolved": "https://registry.npmjs.org/minimist/-/minimist-1.2.8.tgz",
      "integrity": "sha512-2yyAR8qBkN3YuheJanUpWC5U3bb5osDywNB8RzDVlDwDHbocAJveqqj1u8+SVD7jkWT4yvsHCpWqqWqAxb0zCA==",
      "license": "MIT",
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/mkdirp": {
      "version": "0.5.6",
      "resolved": "https://registry.npmjs.org/mkdirp/-/mkdirp-0.5.6.tgz",
      "integrity": "sha512-FP+p8RB8OWpF3YZBCrP5gtADmtXApB5AMLn+vdyA+PyxCjrCs00mjyUozssO33cwDeT3wNGdLxJ5M//YqtHAJw==",
      "license": "MIT",
      "dependencies": {
        "minimist": "^1.2.6"
      },
      "bin": {
        "mkdirp": "bin/cmd.js"
      }
    },
    "node_modules/morgan": {
      "version": "1.10.0",
      "resolved": "https://registry.npmjs.org/morgan/-/morgan-1.10.0.tgz",
      "integrity": "sha512-AbegBVI4sh6El+1gNwvD5YIck7nSA36weD7xvIxG4in80j/UoK8AEGaWnnz8v1GxonMCltmlNs5ZKbGvl9b1XQ==",
      "license": "MIT",
      "dependencies": {
        "basic-auth": "~2.0.1",
        "debug": "2.6.9",
        "depd": "~2.0.0",
        "on-finished": "~2.3.0",
        "on-headers": "~1.0.2"
      },
      "engines": {
        "node": ">= 0.8.0"
      }
    },
    "node_modules/morgan/node_modules/on-finished": {
      "version": "2.3.0",
      "resolved": "https://registry.npmjs.org/on-finished/-/on-finished-2.3.0.tgz",
      "integrity": "sha512-ikqdkGAAyf/X/gPhXGvfgAytDZtDbr+bkNUJ0N9h5MI/dmdgCs3l6hoHrcUv41sRKew3jIwrp4qQDXiK99Utww==",
      "license": "MIT",
      "dependencies": {
        "ee-first": "1.1.1"
      },
      "engines": {
        "node": ">= 0.8"
      }
    },
    "node_modules/ms": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/ms/-/ms-2.0.0.tgz",
      "integrity": "sha512-Tpp60P6IUJDTuOq/5Z8cdskzJujfwqfOTkrwIwj7IRISpnkJnT6SyJ4PCPnGMoFjC9ddhal5KVIYtAt97ix05A==",
      "license": "MIT"
    },
    "node_modules/multer": {
      "version": "1.4.5-lts.2",
      "resolved": "https://registry.npmjs.org/multer/-/multer-1.4.5-lts.2.tgz",
      "integrity": "sha512-VzGiVigcG9zUAoCNU+xShztrlr1auZOlurXynNvO9GiWD1/mTBbUljOKY+qMeazBqXgRnjzeEgJI/wyjJUHg9A==",
      "license": "MIT",
      "dependencies": {
        "append-field": "^1.0.0",
        "busboy": "^1.0.0",
        "concat-stream": "^1.5.2",
        "mkdirp": "^0.5.4",
        "object-assign": "^4.1.1",
        "type-is": "^1.6.4",
        "xtend": "^4.0.0"
      },
      "engines": {
        "node": ">= 6.0.0"
      }
    },
    "node_modules/negotiator": {
      "version": "0.6.3",
      "resolved": "https://registry.npmjs.org/negotiator/-/negotiator-0.6.3.tgz",
      "integrity": "sha512-+EUsqGPLsM+j/zdChZjsnX51g4XrHFOIXwfnCVPGlQk/k5giakcKsuxCObBRu6DSm9opw/O6slWbJdghQM4bBg==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.6"
      }
    },
    "node_modules/node-domexception": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/node-domexception/-/node-domexception-1.0.0.tgz",
      "integrity": "sha512-/jKZoMpw0F8GRwl4/eLROPA3cfcXtLApP0QzLmUT/HuPCZWyB7IY9ZrMeKw2O/nFIqPQB3PVM9aYm0F312AXDQ==",
      "deprecated": "Use your platform's native DOMException instead",
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/jimmywarting"
        },
        {
          "type": "github",
          "url": "https://paypal.me/jimmywarting"
        }
      ],
      "license": "MIT",
      "engines": {
        "node": ">=10.5.0"
      }
    },
    "node_modules/node-fetch": {
      "version": "2.7.0",
      "resolved": "https://registry.npmjs.org/node-fetch/-/node-fetch-2.7.0.tgz",
      "integrity": "sha512-c4FRfUm/dbcWZ7U+1Wq0AwCyFL+3nt2bEw05wfxSz+DWpWsitgmSgYmy2dQdWyKC1694ELPqMs/YzUSNozLt8A==",
      "license": "MIT",
      "dependencies": {
        "whatwg-url": "^5.0.0"
      },
      "engines": {
        "node": "4.x || >=6.0.0"
      },
      "peerDependencies": {
        "encoding": "^0.1.0"
      },
      "peerDependenciesMeta": {
        "encoding": {
          "optional": true
        }
      }
    },
    "node_modules/normalize-path": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/normalize-path/-/normalize-path-3.0.0.tgz",
      "integrity": "sha512-6eZs5Ls3WtCisHWp9S2GUy8dqkpGi4BVSz3GaqiE6ezub0512ESztXUwUB6C6IKbQkY2Pnb/mD4WYojCRwcwLA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/object-assign": {
      "version": "4.1.1",
      "resolved": "https://registry.npmjs.org/object-assign/-/object-assign-4.1.1.tgz",
      "integrity": "sha512-rJgTQnkUnH1sFw8yT6VSU3zD3sWmu6sZhIseY8VX+GRu3P6F7Fu+JNDoXfklElbLJSnc3FUQHVe4cU5hj+BcUg==",
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/object-inspect": {
      "version": "1.13.4",
      "resolved": "https://registry.npmjs.org/object-inspect/-/object-inspect-1.13.4.tgz",
      "integrity": "sha512-W67iLl4J2EXEGTbfeHCffrjDfitvLANg0UlX3wFUUSTx92KXRFegMHUVgSqE+wvhAbi4WqjGg9czysTV2Epbew==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/on-finished": {
      "version": "2.4.1",
      "resolved": "https://registry.npmjs.org/on-finished/-/on-finished-2.4.1.tgz",
      "integrity": "sha512-oVlzkg3ENAhCk2zdv7IJwd/QUD4z2RxRwpkcGY8psCVcCYZNq4wYnVWALHM+brtuJjePWiYF/ClmuDr8Ch5+kg==",
      "license": "MIT",
      "dependencies": {
        "ee-first": "1.1.1"
      },
      "engines": {
        "node": ">= 0.8"
      }
    },
    "node_modules/on-headers": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/on-headers/-/on-headers-1.0.2.tgz",
      "integrity": "sha512-pZAE+FJLoyITytdqK0U5s+FIpjN0JP3OzFi/u8Rx+EV5/W+JTWGXG8xFzevE7AjBfDqHv/8vL8qQsIhHnqRkrA==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.8"
      }
    },
    "node_modules/once": {
      "version": "1.4.0",
      "resolved": "https://registry.npmjs.org/once/-/once-1.4.0.tgz",
      "integrity": "sha512-lNaJgI+2Q5URQBkccEKHTQOPaXdUxnZZElQTZY0MFUAuaEqe1E+Nyvgdz/aIyNi6Z9MzO5dv1H8n58/GELp3+w==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "wrappy": "1"
      }
    },
    "node_modules/openai": {
      "version": "4.101.0",
      "resolved": "https://registry.npmjs.org/openai/-/openai-4.101.0.tgz",
      "integrity": "sha512-fBsmtOXm3vEBDcL24fqXtDIotKIZ/CY+DsvbCejFp0n+KUh03UrZZosdgCynx5vP+REVJYz4p4mRvz3y6aeQsg==",
      "license": "Apache-2.0",
      "dependencies": {
        "@types/node": "^18.11.18",
        "@types/node-fetch": "^2.6.4",
        "abort-controller": "^3.0.0",
        "agentkeepalive": "^4.2.1",
        "form-data-encoder": "1.7.2",
        "formdata-node": "^4.3.2",
        "node-fetch": "^2.6.7"
      },
      "bin": {
        "openai": "bin/cli"
      },
      "peerDependencies": {
        "ws": "^8.18.0",
        "zod": "^3.23.8"
      },
      "peerDependenciesMeta": {
        "ws": {
          "optional": true
        },
        "zod": {
          "optional": true
        }
      }
    },
    "node_modules/openai/node_modules/@types/node": {
      "version": "18.19.103",
      "resolved": "https://registry.npmjs.org/@types/node/-/node-18.19.103.tgz",
      "integrity": "sha512-hHTHp+sEz6SxFsp+SA+Tqrua3AbmlAw+Y//aEwdHrdZkYVRWdvWD3y5uPZ0flYOkgskaFWqZ/YGFm3FaFQ0pRw==",
      "license": "MIT",
      "dependencies": {
        "undici-types": "~5.26.4"
      }
    },
    "node_modules/openai/node_modules/undici-types": {
      "version": "5.26.5",
      "resolved": "https://registry.npmjs.org/undici-types/-/undici-types-5.26.5.tgz",
      "integrity": "sha512-JlCMO+ehdEIKqlFxk6IfVoAUVmgz7cU7zD/h9XZ0qzeosSHmUJVOzSQvvYSYWXkFXC+IfLKSIffhv0sVZup6pA==",
      "license": "MIT"
    },
    "node_modules/parseurl": {
      "version": "1.3.3",
      "resolved": "https://registry.npmjs.org/parseurl/-/parseurl-1.3.3.tgz",
      "integrity": "sha512-CiyeOxFT/JZyN5m0z9PfXw4SCBJ6Sygz1Dpl0wqjlhDEGGBP1GnsUVEL0p63hoG1fcj3fHynXi9NYO4nWOL+qQ==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.8"
      }
    },
    "node_modules/path-is-absolute": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/path-is-absolute/-/path-is-absolute-1.0.1.tgz",
      "integrity": "sha512-AVbw3UJ2e9bq64vSaS9Am0fje1Pa8pbGqTTsmXfaIiMpnr5DlDhfJOuLj9Sf95ZPVDAUerDfEk88MPmPe7UCQg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/path-key": {
      "version": "3.1.1",
      "resolved": "https://registry.npmjs.org/path-key/-/path-key-3.1.1.tgz",
      "integrity": "sha512-ojmeN0qd+y0jszEtoY48r0Peq5dwMEkIlCOu6Q5f41lfkswXuKtYrhgoTpLnyIcHm24Uhqx+5Tqm2InSwLhE6Q==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/path-parse": {
      "version": "1.0.7",
      "resolved": "https://registry.npmjs.org/path-parse/-/path-parse-1.0.7.tgz",
      "integrity": "sha512-LDJzPVEEEPR+y48z93A0Ed0yXb8pAByGWo/k5YYdYgpY2/2EsOsksJrq7lOHxryrVOn1ejG6oAp8ahvOIQD8sw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/path-to-regexp": {
      "version": "0.1.12",
      "resolved": "https://registry.npmjs.org/path-to-regexp/-/path-to-regexp-0.1.12.tgz",
      "integrity": "sha512-RA1GjUVMnvYFxuqovrEqZoxxW5NUZqbwKtYz/Tt7nXerk0LbLblQmrsgdeOxV5SFHf0UDggjS/bSeOZwt1pmEQ==",
      "license": "MIT"
    },
    "node_modules/picomatch": {
      "version": "2.3.1",
      "resolved": "https://registry.npmjs.org/picomatch/-/picomatch-2.3.1.tgz",
      "integrity": "sha512-JU3teHTNjmE2VCGFzuY8EXzCDVwEqB2a8fsIvwaStHhAWJEeVd1o1QD80CU6+ZdEXXSLbSsuLwJjkCBWqRQUVA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8.6"
      },
      "funding": {
        "url": "https://github.com/sponsors/jonschlinkert"
      }
    },
    "node_modules/process-nextick-args": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/process-nextick-args/-/process-nextick-args-2.0.1.tgz",
      "integrity": "sha512-3ouUOpQhtgrbOa17J7+uxOTpITYWaGP7/AhoR3+A+/1e9skrzelGi/dXzEYyvbxubEF6Wn2ypscTKiKJFFn1ag==",
      "license": "MIT"
    },
    "node_modules/proxy-addr": {
      "version": "2.0.7",
      "resolved": "https://registry.npmjs.org/proxy-addr/-/proxy-addr-2.0.7.tgz",
      "integrity": "sha512-llQsMLSUDUPT44jdrU/O37qlnifitDP+ZwrmmZcoSKyLKvtZxpyV0n2/bD/N4tBAAZ/gJEdZU7KMraoK1+XYAg==",
      "license": "MIT",
      "dependencies": {
        "forwarded": "0.2.0",
        "ipaddr.js": "1.9.1"
      },
      "engines": {
        "node": ">= 0.10"
      }
    },
    "node_modules/proxy-from-env": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/proxy-from-env/-/proxy-from-env-1.1.0.tgz",
      "integrity": "sha512-D+zkORCbA9f1tdWRK0RaCR3GPv50cMxcrz4X8k5LTSUD1Dkw47mKJEZQNunItRTkWwgtaUSo1RVFRIG9ZXiFYg==",
      "license": "MIT"
    },
    "node_modules/qs": {
      "version": "6.13.0",
      "resolved": "https://registry.npmjs.org/qs/-/qs-6.13.0.tgz",
      "integrity": "sha512-+38qI9SOr8tfZ4QmJNplMUxqjbe7LKvvZgWdExBOmd+egZTtjLB67Gu0HRX3u/XOq7UU2Nx6nsjvS16Z9uwfpg==",
      "license": "BSD-3-Clause",
      "dependencies": {
        "side-channel": "^1.0.6"
      },
      "engines": {
        "node": ">=0.6"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/range-parser": {
      "version": "1.2.1",
      "resolved": "https://registry.npmjs.org/range-parser/-/range-parser-1.2.1.tgz",
      "integrity": "sha512-Hrgsx+orqoygnmhFbKaHE6c296J+HTAQXoxEF6gNupROmmGJRoyzfG3ccAveqCBrwr/2yxQ5BVd/GTl5agOwSg==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.6"
      }
    },
    "node_modules/raw-body": {
      "version": "2.5.2",
      "resolved": "https://registry.npmjs.org/raw-body/-/raw-body-2.5.2.tgz",
      "integrity": "sha512-8zGqypfENjCIqGhgXToC8aB2r7YrBX+AQAfIPs/Mlk+BtPTztOvTS01NRW/3Eh60J+a48lt8qsCzirQ6loCVfA==",
      "license": "MIT",
      "dependencies": {
        "bytes": "3.1.2",
        "http-errors": "2.0.0",
        "iconv-lite": "0.4.24",
        "unpipe": "1.0.0"
      },
      "engines": {
        "node": ">= 0.8"
      }
    },
    "node_modules/readable-stream": {
      "version": "2.3.8",
      "resolved": "https://registry.npmjs.org/readable-stream/-/readable-stream-2.3.8.tgz",
      "integrity": "sha512-8p0AUk4XODgIewSi0l8Epjs+EVnWiK7NoDIEGU0HhE7+ZyY8D1IMY7odu5lRrFXGg71L15KG8QrPmum45RTtdA==",
      "license": "MIT",
      "dependencies": {
        "core-util-is": "~1.0.0",
        "inherits": "~2.0.3",
        "isarray": "~1.0.0",
        "process-nextick-args": "~2.0.0",
        "safe-buffer": "~5.1.1",
        "string_decoder": "~1.1.1",
        "util-deprecate": "~1.0.1"
      }
    },
    "node_modules/readable-stream/node_modules/safe-buffer": {
      "version": "5.1.2",
      "resolved": "https://registry.npmjs.org/safe-buffer/-/safe-buffer-5.1.2.tgz",
      "integrity": "sha512-Gd2UZBJDkXlY7GbJxfsE8/nvKkUEU1G38c1siN6QP6a9PT9MmHB8GnpscSmMJSoF8LOIrt8ud/wPtojys4G6+g==",
      "license": "MIT"
    },
    "node_modules/readdirp": {
      "version": "3.6.0",
      "resolved": "https://registry.npmjs.org/readdirp/-/readdirp-3.6.0.tgz",
      "integrity": "sha512-hOS089on8RduqdbhvQ5Z37A0ESjsqz6qnRcffsMU3495FuTdqSm+7bhJ29JvIOsBDEEnan5DPu9t3To9VRlMzA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "picomatch": "^2.2.1"
      },
      "engines": {
        "node": ">=8.10.0"
      }
    },
    "node_modules/resolve": {
      "version": "1.22.10",
      "resolved": "https://registry.npmjs.org/resolve/-/resolve-1.22.10.tgz",
      "integrity": "sha512-NPRy+/ncIMeDlTAsuqwKIiferiawhefFJtkNSW0qZJEqMEb+qBt/77B/jGeeek+F0uOeN05CDa6HXbbIgtVX4w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "is-core-module": "^2.16.0",
        "path-parse": "^1.0.7",
        "supports-preserve-symlinks-flag": "^1.0.0"
      },
      "bin": {
        "resolve": "bin/resolve"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/resolve-pkg-maps": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/resolve-pkg-maps/-/resolve-pkg-maps-1.0.0.tgz",
      "integrity": "sha512-seS2Tj26TBVOC2NIc2rOe2y2ZO7efxITtLZcGSOnHHNOQ7CkiUBfw0Iw2ck6xkIhPwLhKNLS8BO+hEpngQlqzw==",
      "dev": true,
      "license": "MIT",
      "funding": {
        "url": "https://github.com/privatenumber/resolve-pkg-maps?sponsor=1"
      }
    },
    "node_modules/rimraf": {
      "version": "2.7.1",
      "resolved": "https://registry.npmjs.org/rimraf/-/rimraf-2.7.1.tgz",
      "integrity": "sha512-uWjbaKIK3T1OSVptzX7Nl6PvQ3qAGtKEtVRjRuazjfL3Bx5eI409VZSqgND+4UNnmzLVdPj9FqFJNPqBZFve4w==",
      "deprecated": "Rimraf versions prior to v4 are no longer supported",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "glob": "^7.1.3"
      },
      "bin": {
        "rimraf": "bin.js"
      }
    },
    "node_modules/safe-buffer": {
      "version": "5.2.1",
      "resolved": "https://registry.npmjs.org/safe-buffer/-/safe-buffer-5.2.1.tgz",
      "integrity": "sha512-rp3So07KcdmmKbGvgaNxQSJr7bGVSVk5S9Eq1F+ppbRo70+YeaDxkw5Dd8NPN+GD6bjnYm2VuPuCXmpuYvmCXQ==",
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/feross"
        },
        {
          "type": "patreon",
          "url": "https://www.patreon.com/feross"
        },
        {
          "type": "consulting",
          "url": "https://feross.org/support"
        }
      ],
      "license": "MIT"
    },
    "node_modules/safer-buffer": {
      "version": "2.1.2",
      "resolved": "https://registry.npmjs.org/safer-buffer/-/safer-buffer-2.1.2.tgz",
      "integrity": "sha512-YZo3K82SD7Riyi0E1EQPojLz7kpepnSQI9IyPbHHg1XXXevb5dJI7tpyN2ADxGcQbHG7vcyRHk0cbwqcQriUtg==",
      "license": "MIT"
    },
    "node_modules/send": {
      "version": "0.19.0",
      "resolved": "https://registry.npmjs.org/send/-/send-0.19.0.tgz",
      "integrity": "sha512-dW41u5VfLXu8SJh5bwRmyYUbAoSB3c9uQh6L8h/KtsFREPWpbX1lrljJo186Jc4nmci/sGUZ9a0a0J2zgfq2hw==",
      "license": "MIT",
      "dependencies": {
        "debug": "2.6.9",
        "depd": "2.0.0",
        "destroy": "1.2.0",
        "encodeurl": "~1.0.2",
        "escape-html": "~1.0.3",
        "etag": "~1.8.1",
        "fresh": "0.5.2",
        "http-errors": "2.0.0",
        "mime": "1.6.0",
        "ms": "2.1.3",
        "on-finished": "2.4.1",
        "range-parser": "~1.2.1",
        "statuses": "2.0.1"
      },
      "engines": {
        "node": ">= 0.8.0"
      }
    },
    "node_modules/send/node_modules/encodeurl": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/encodeurl/-/encodeurl-1.0.2.tgz",
      "integrity": "sha512-TPJXq8JqFaVYm2CWmPvnP2Iyo4ZSM7/QKcSmuMLDObfpH5fi7RUGmd/rTDf+rut/saiDiQEeVTNgAmJEdAOx0w==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.8"
      }
    },
    "node_modules/send/node_modules/ms": {
      "version": "2.1.3",
      "resolved": "https://registry.npmjs.org/ms/-/ms-2.1.3.tgz",
      "integrity": "sha512-6FlzubTLZG3J2a/NVCAleEhjzq5oxgHyaCU9yYXvcLsvoVaHJq/s5xXI6/XXP6tz7R9xAOtHnSO/tXtF3WRTlA==",
      "license": "MIT"
    },
    "node_modules/serve-static": {
      "version": "1.16.2",
      "resolved": "https://registry.npmjs.org/serve-static/-/serve-static-1.16.2.tgz",
      "integrity": "sha512-VqpjJZKadQB/PEbEwvFdO43Ax5dFBZ2UECszz8bQ7pi7wt//PWe1P6MN7eCnjsatYtBT6EuiClbjSWP2WrIoTw==",
      "license": "MIT",
      "dependencies": {
        "encodeurl": "~2.0.0",
        "escape-html": "~1.0.3",
        "parseurl": "~1.3.3",
        "send": "0.19.0"
      },
      "engines": {
        "node": ">= 0.8.0"
      }
    },
    "node_modules/setprototypeof": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/setprototypeof/-/setprototypeof-1.2.0.tgz",
      "integrity": "sha512-E5LDX7Wrp85Kil5bhZv46j8jOeboKq5JMmYM3gVGdGH8xFpPWXUMsNrlODCrkoxMEeNi/XZIwuRvY4XNwYMJpw==",
      "license": "ISC"
    },
    "node_modules/shebang-command": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/shebang-command/-/shebang-command-2.0.0.tgz",
      "integrity": "sha512-kHxr2zZpYtdmrN1qDjrrX/Z1rR1kG8Dx+gkpK1G4eXmvXswmcE1hTWBWYUzlraYw1/yZp6YuDY77YtvbN0dmDA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "shebang-regex": "^3.0.0"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/shebang-regex": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/shebang-regex/-/shebang-regex-3.0.0.tgz",
      "integrity": "sha512-7++dFhtcx3353uBaq8DDR4NuxBetBzC7ZQOhmTQInHEd6bSrXdiEyzCvG07Z44UYdLShWUyXt5M/yhz8ekcb1A==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/side-channel": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/side-channel/-/side-channel-1.1.0.tgz",
      "integrity": "sha512-ZX99e6tRweoUXqR+VBrslhda51Nh5MTQwou5tnUDgbtyM0dBgmhEDtWGP/xbKn6hqfPRHujUNwz5fy/wbbhnpw==",
      "license": "MIT",
      "dependencies": {
        "es-errors": "^1.3.0",
        "object-inspect": "^1.13.3",
        "side-channel-list": "^1.0.0",
        "side-channel-map": "^1.0.1",
        "side-channel-weakmap": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/side-channel-list": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/side-channel-list/-/side-channel-list-1.0.0.tgz",
      "integrity": "sha512-FCLHtRD/gnpCiCHEiJLOwdmFP+wzCmDEkc9y7NsYxeF4u7Btsn1ZuwgwJGxImImHicJArLP4R0yX4c2KCrMrTA==",
      "license": "MIT",
      "dependencies": {
        "es-errors": "^1.3.0",
        "object-inspect": "^1.13.3"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/side-channel-map": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/side-channel-map/-/side-channel-map-1.0.1.tgz",
      "integrity": "sha512-VCjCNfgMsby3tTdo02nbjtM/ewra6jPHmpThenkTYh8pG9ucZ/1P8So4u4FGBek/BjpOVsDCMoLA/iuBKIFXRA==",
      "license": "MIT",
      "dependencies": {
        "call-bound": "^1.0.2",
        "es-errors": "^1.3.0",
        "get-intrinsic": "^1.2.5",
        "object-inspect": "^1.13.3"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/side-channel-weakmap": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/side-channel-weakmap/-/side-channel-weakmap-1.0.2.tgz",
      "integrity": "sha512-WPS/HvHQTYnHisLo9McqBHOJk2FkHO/tlpvldyrnem4aeQp4hai3gythswg6p01oSoTl58rcpiFAjF2br2Ak2A==",
      "license": "MIT",
      "dependencies": {
        "call-bound": "^1.0.2",
        "es-errors": "^1.3.0",
        "get-intrinsic": "^1.2.5",
        "object-inspect": "^1.13.3",
        "side-channel-map": "^1.0.1"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/source-map": {
      "version": "0.6.1",
      "resolved": "https://registry.npmjs.org/source-map/-/source-map-0.6.1.tgz",
      "integrity": "sha512-UjgapumWlbMhkBgzT7Ykc5YXUT46F0iKu8SGXq0bcwP5dz/h0Plj6enJqjz1Zbq2l5WaqYnrVbwWOWMyF3F47g==",
      "dev": true,
      "license": "BSD-3-Clause",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/source-map-support": {
      "version": "0.5.21",
      "resolved": "https://registry.npmjs.org/source-map-support/-/source-map-support-0.5.21.tgz",
      "integrity": "sha512-uBHU3L3czsIyYXKX88fdrGovxdSCoTGDRZ6SYXtSRxLZUzHg5P/66Ht6uoUlHu9EZod+inXhKo3qQgwXUT/y1w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "buffer-from": "^1.0.0",
        "source-map": "^0.6.0"
      }
    },
    "node_modules/statuses": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/statuses/-/statuses-2.0.1.tgz",
      "integrity": "sha512-RwNA9Z/7PrK06rYLIzFMlaF+l73iwpzsqRIFgbMLbTcLD6cOao82TaWefPXQvB2fOC4AjuYSEndS7N/mTCbkdQ==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.8"
      }
    },
    "node_modules/streamsearch": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/streamsearch/-/streamsearch-1.1.0.tgz",
      "integrity": "sha512-Mcc5wHehp9aXz1ax6bZUyY5afg9u2rv5cqQI3mRrYkGC8rW2hM02jWuwjtL++LS5qinSyhj2QfLyNsuc+VsExg==",
      "engines": {
        "node": ">=10.0.0"
      }
    },
    "node_modules/string_decoder": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/string_decoder/-/string_decoder-1.1.1.tgz",
      "integrity": "sha512-n/ShnvDi6FHbbVfviro+WojiFzv+s8MPMHBczVePfUpDJLwoLT0ht1l4YwBCbi8pJAveEEdnkHyPyTP/mzRfwg==",
      "license": "MIT",
      "dependencies": {
        "safe-buffer": "~5.1.0"
      }
    },
    "node_modules/string_decoder/node_modules/safe-buffer": {
      "version": "5.1.2",
      "resolved": "https://registry.npmjs.org/safe-buffer/-/safe-buffer-5.1.2.tgz",
      "integrity": "sha512-Gd2UZBJDkXlY7GbJxfsE8/nvKkUEU1G38c1siN6QP6a9PT9MmHB8GnpscSmMJSoF8LOIrt8ud/wPtojys4G6+g==",
      "license": "MIT"
    },
    "node_modules/strip-bom": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/strip-bom/-/strip-bom-3.0.0.tgz",
      "integrity": "sha512-vavAMRXOgBVNF6nyEEmL3DBK19iRpDcoIwW+swQ+CbGiu7lju6t+JklA1MHweoWtadgt4ISVUsXLyDq34ddcwA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/strip-json-comments": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/strip-json-comments/-/strip-json-comments-2.0.1.tgz",
      "integrity": "sha512-4gB8na07fecVVkOI6Rs4e7T6NOTki5EmL7TUduTs6bu3EdnSycntVJ4re8kgZA+wx9IueI2Y11bfbgwtzuE0KQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/supports-preserve-symlinks-flag": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/supports-preserve-symlinks-flag/-/supports-preserve-symlinks-flag-1.0.0.tgz",
      "integrity": "sha512-ot0WnXS9fgdkgIcePe6RHNk1WA8+muPa6cSjeR3V8K27q9BB1rTE3R1p7Hv0z1ZyAc8s6Vvv8DIyWf681MAt0w==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/to-regex-range": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/to-regex-range/-/to-regex-range-5.0.1.tgz",
      "integrity": "sha512-65P7iz6X5yEr1cwcgvQxbbIw7Uk3gOy5dIdtZ4rDveLqhrdJP+Li/Hx6tyK0NEb+2GCyneCMJiGqrADCSNk8sQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "is-number": "^7.0.0"
      },
      "engines": {
        "node": ">=8.0"
      }
    },
    "node_modules/toidentifier": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/toidentifier/-/toidentifier-1.0.1.tgz",
      "integrity": "sha512-o5sSPKEkg/DIQNmH43V0/uerLrpzVedkUh8tGNvaeXpfpuwjKenlSox/2O/BTlZUtEe+JG7s5YhEz608PlAHRA==",
      "license": "MIT",
      "engines": {
        "node": ">=0.6"
      }
    },
    "node_modules/tr46": {
      "version": "0.0.3",
      "resolved": "https://registry.npmjs.org/tr46/-/tr46-0.0.3.tgz",
      "integrity": "sha512-N3WMsuqV66lT30CrXNbEjx4GEwlow3v6rr4mCcv6prnfwhS01rkgyFdjPNBYd9br7LpXV1+Emh01fHnq2Gdgrw==",
      "license": "MIT"
    },
    "node_modules/tree-kill": {
      "version": "1.2.2",
      "resolved": "https://registry.npmjs.org/tree-kill/-/tree-kill-1.2.2.tgz",
      "integrity": "sha512-L0Orpi8qGpRG//Nd+H90vFB+3iHnue1zSSGmNOOCh1GLJ7rUKVwV2HvijphGQS2UmhUZewS9VgvxYIdgr+fG1A==",
      "dev": true,
      "license": "MIT",
      "bin": {
        "tree-kill": "cli.js"
      }
    },
    "node_modules/ts-node": {
      "version": "10.9.2",
      "resolved": "https://registry.npmjs.org/ts-node/-/ts-node-10.9.2.tgz",
      "integrity": "sha512-f0FFpIdcHgn8zcPSbf1dRevwt047YMnaiJM3u2w2RewrB+fob/zePZcrOyQoLMMO7aBIddLcQIEK5dYjkLnGrQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@cspotcode/source-map-support": "^0.8.0",
        "@tsconfig/node10": "^1.0.7",
        "@tsconfig/node12": "^1.0.7",
        "@tsconfig/node14": "^1.0.0",
        "@tsconfig/node16": "^1.0.2",
        "acorn": "^8.4.1",
        "acorn-walk": "^8.1.1",
        "arg": "^4.1.0",
        "create-require": "^1.1.0",
        "diff": "^4.0.1",
        "make-error": "^1.1.1",
        "v8-compile-cache-lib": "^3.0.1",
        "yn": "3.1.1"
      },
      "bin": {
        "ts-node": "dist/bin.js",
        "ts-node-cwd": "dist/bin-cwd.js",
        "ts-node-esm": "dist/bin-esm.js",
        "ts-node-script": "dist/bin-script.js",
        "ts-node-transpile-only": "dist/bin-transpile.js",
        "ts-script": "dist/bin-script-deprecated.js"
      },
      "peerDependencies": {
        "@swc/core": ">=1.2.50",
        "@swc/wasm": ">=1.2.50",
        "@types/node": "*",
        "typescript": ">=2.7"
      },
      "peerDependenciesMeta": {
        "@swc/core": {
          "optional": true
        },
        "@swc/wasm": {
          "optional": true
        }
      }
    },
    "node_modules/ts-node-dev": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/ts-node-dev/-/ts-node-dev-2.0.0.tgz",
      "integrity": "sha512-ywMrhCfH6M75yftYvrvNarLEY+SUXtUvU8/0Z6llrHQVBx12GiFk5sStF8UdfE/yfzk9IAq7O5EEbTQsxlBI8w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "chokidar": "^3.5.1",
        "dynamic-dedupe": "^0.3.0",
        "minimist": "^1.2.6",
        "mkdirp": "^1.0.4",
        "resolve": "^1.0.0",
        "rimraf": "^2.6.1",
        "source-map-support": "^0.5.12",
        "tree-kill": "^1.2.2",
        "ts-node": "^10.4.0",
        "tsconfig": "^7.0.0"
      },
      "bin": {
        "ts-node-dev": "lib/bin.js",
        "tsnd": "lib/bin.js"
      },
      "engines": {
        "node": ">=0.8.0"
      },
      "peerDependencies": {
        "node-notifier": "*",
        "typescript": "*"
      },
      "peerDependenciesMeta": {
        "node-notifier": {
          "optional": true
        }
      }
    },
    "node_modules/ts-node-dev/node_modules/mkdirp": {
      "version": "1.0.4",
      "resolved": "https://registry.npmjs.org/mkdirp/-/mkdirp-1.0.4.tgz",
      "integrity": "sha512-vVqVZQyf3WLx2Shd0qJ9xuvqgAyKPLAiqITEtqW0oIUjzo3PePDd6fW9iFz30ef7Ysp/oiWqbhszeGWW2T6Gzw==",
      "dev": true,
      "license": "MIT",
      "bin": {
        "mkdirp": "bin/cmd.js"
      },
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/tsconfig": {
      "version": "7.0.0",
      "resolved": "https://registry.npmjs.org/tsconfig/-/tsconfig-7.0.0.tgz",
      "integrity": "sha512-vZXmzPrL+EmC4T/4rVlT2jNVMWCi/O4DIiSj3UHg1OE5kCKbk4mfrXc6dZksLgRM/TZlKnousKH9bbTazUWRRw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@types/strip-bom": "^3.0.0",
        "@types/strip-json-comments": "0.0.30",
        "strip-bom": "^3.0.0",
        "strip-json-comments": "^2.0.0"
      }
    },
    "node_modules/tsx": {
      "version": "4.19.4",
      "resolved": "https://registry.npmjs.org/tsx/-/tsx-4.19.4.tgz",
      "integrity": "sha512-gK5GVzDkJK1SI1zwHf32Mqxf2tSJkNx+eYcNly5+nHvWqXUJYUkWBQtKauoESz3ymezAI++ZwT855x5p5eop+Q==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "esbuild": "~0.25.0",
        "get-tsconfig": "^4.7.5"
      },
      "bin": {
        "tsx": "dist/cli.mjs"
      },
      "engines": {
        "node": ">=18.0.0"
      },
      "optionalDependencies": {
        "fsevents": "~2.3.3"
      }
    },
    "node_modules/type-is": {
      "version": "1.6.18",
      "resolved": "https://registry.npmjs.org/type-is/-/type-is-1.6.18.tgz",
      "integrity": "sha512-TkRKr9sUTxEH8MdfuCSP7VizJyzRNMjj2J2do2Jr3Kym598JVdEksuzPQCnlFPW4ky9Q+iA+ma9BGm06XQBy8g==",
      "license": "MIT",
      "dependencies": {
        "media-typer": "0.3.0",
        "mime-types": "~2.1.24"
      },
      "engines": {
        "node": ">= 0.6"
      }
    },
    "node_modules/typedarray": {
      "version": "0.0.6",
      "resolved": "https://registry.npmjs.org/typedarray/-/typedarray-0.0.6.tgz",
      "integrity": "sha512-/aCDEGatGvZ2BIk+HmLf4ifCJFwvKFNb9/JeZPMulfgFracn9QFcAf5GO8B/mweUjSoblS5In0cWhqpfs/5PQA==",
      "license": "MIT"
    },
    "node_modules/typescript": {
      "version": "5.8.3",
      "resolved": "https://registry.npmjs.org/typescript/-/typescript-5.8.3.tgz",
      "integrity": "sha512-p1diW6TqL9L07nNxvRMM7hMMw4c5XOo/1ibL4aAIGmSAt9slTE1Xgw5KWuof2uTOvCg9BY7ZRi+GaF+7sfgPeQ==",
      "dev": true,
      "license": "Apache-2.0",
      "bin": {
        "tsc": "bin/tsc",
        "tsserver": "bin/tsserver"
      },
      "engines": {
        "node": ">=14.17"
      }
    },
    "node_modules/undici-types": {
      "version": "6.19.8",
      "resolved": "https://registry.npmjs.org/undici-types/-/undici-types-6.19.8.tgz",
      "integrity": "sha512-ve2KP6f/JnbPBFyobGHuerC9g1FYGn/F8n1LWTwNxCEzd6IfqTwUQcNXgEtmmQ6DlRrC1hrSrBnCZPokRrDHjw==",
      "license": "MIT"
    },
    "node_modules/unpipe": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/unpipe/-/unpipe-1.0.0.tgz",
      "integrity": "sha512-pjy2bYhSsufwWlKwPc+l3cN7+wuJlK6uz0YdJEOlQDbl6jo/YlPi4mb8agUkVC8BF7V8NuzeyPNqRksA3hztKQ==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.8"
      }
    },
    "node_modules/util-deprecate": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/util-deprecate/-/util-deprecate-1.0.2.tgz",
      "integrity": "sha512-EPD5q1uXyFxJpCrLnCc1nHnq3gOa6DZBocAIiI2TaSCA7VCJ1UJDMagCzIkXNsUYfD1daK//LTEQ8xiIbrHtcw==",
      "license": "MIT"
    },
    "node_modules/utils-merge": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/utils-merge/-/utils-merge-1.0.1.tgz",
      "integrity": "sha512-pMZTvIkT1d+TFGvDOqodOclx0QWkkgi6Tdoa8gC8ffGAAqz9pzPTZWAybbsHHoED/ztMtkv/VoYTYyShUn81hA==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.4.0"
      }
    },
    "node_modules/v8-compile-cache-lib": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/v8-compile-cache-lib/-/v8-compile-cache-lib-3.0.1.tgz",
      "integrity": "sha512-wa7YjyUGfNZngI/vtK0UHAN+lgDCxBPCylVXGp0zu59Fz5aiGtNXaq3DhIov063MorB+VfufLh3JlF2KdTK3xg==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/vary": {
      "version": "1.1.2",
      "resolved": "https://registry.npmjs.org/vary/-/vary-1.1.2.tgz",
      "integrity": "sha512-BNGbWLfd0eUPabhkXUVm0j8uuvREyTh5ovRa/dyow/BqAbZJyC+5fU+IzQOzmAKzYqYRAISoRhdQr3eIZ/PXqg==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.8"
      }
    },
    "node_modules/web-streams-polyfill": {
      "version": "4.0.0-beta.3",
      "resolved": "https://registry.npmjs.org/web-streams-polyfill/-/web-streams-polyfill-4.0.0-beta.3.tgz",
      "integrity": "sha512-QW95TCTaHmsYfHDybGMwO5IJIM93I/6vTRk+daHTWFPhwh+C8Cg7j7XyKrwrj8Ib6vYXe0ocYNrmzY4xAAN6ug==",
      "license": "MIT",
      "engines": {
        "node": ">= 14"
      }
    },
    "node_modules/webidl-conversions": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/webidl-conversions/-/webidl-conversions-3.0.1.tgz",
      "integrity": "sha512-2JAn3z8AR6rjK8Sm8orRC0h/bcl/DqL7tRPdGZ4I1CjdF+EaMLmYxBHyXuKL849eucPFhvBoxMsflfOb8kxaeQ==",
      "license": "BSD-2-Clause"
    },
    "node_modules/whatwg-url": {
      "version": "5.0.0",
      "resolved": "https://registry.npmjs.org/whatwg-url/-/whatwg-url-5.0.0.tgz",
      "integrity": "sha512-saE57nupxk6v3HY35+jzBwYa0rKSy0XR8JSxZPwgLr7ys0IBzhGviA1/TUGJLmSVqs8pb9AnvICXEuOHLprYTw==",
      "license": "MIT",
      "dependencies": {
        "tr46": "~0.0.3",
        "webidl-conversions": "^3.0.0"
      }
    },
    "node_modules/which": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/which/-/which-2.0.2.tgz",
      "integrity": "sha512-BLI3Tl1TW3Pvl70l3yq3Y64i+awpwXqsGBYWkkqMtnbXgrMD+yj7rhW0kuEDxzJaYXGjEW5ogapKNMEKNMjibA==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "isexe": "^2.0.0"
      },
      "bin": {
        "node-which": "bin/node-which"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/wrappy": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/wrappy/-/wrappy-1.0.2.tgz",
      "integrity": "sha512-l4Sp/DRseor9wL6EvV2+TuQn63dMkPjZ/sp9XkghTEbV9KlPS1xUsZ3u7/IQO4wxtcFB4bgpQPRcR3QCvezPcQ==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/xtend": {
      "version": "4.0.2",
      "resolved": "https://registry.npmjs.org/xtend/-/xtend-4.0.2.tgz",
      "integrity": "sha512-LKYU1iAXJXUgAXn9URjiu+MWhyUXHsvfp7mcuYm9dSUKK0/CjtrUwFAxD82/mCWbtLsGjFIad0wIsod4zrTAEQ==",
      "license": "MIT",
      "engines": {
        "node": ">=0.4"
      }
    },
    "node_modules/yn": {
      "version": "3.1.1",
      "resolved": "https://registry.npmjs.org/yn/-/yn-3.1.1.tgz",
      "integrity": "sha512-Ux4ygGWsu2c7isFWe8Yu1YluJmqVhxqK2cLXNQA5AcC3QfbGNpM7fu0Y8b/z16pXLnFxZYvWhd3fhBY9DLmC6Q==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    }
  }
}


--- FILE: frontend/src/assets/responsive.css (Relevance: 0.25) ---

/* Voice Coding Assistant - Responsive Styles */
/* Mobile-first approach with progressive enhancement */

/* Base Mobile Styles (320px+) */
@media screen and (min-width: 320px) {
  .app-container {
    min-height: 100vh;
    padding: 0.5rem;
  }
  
  .chat-container {
    height: calc(100vh - 8rem);
    overflow-y: auto;
  }
  
  .voice-input-container {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 1rem;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border-top: 1px solid #e5e7eb;
  }
  
  .dark .voice-input-container {
    background: rgba(17, 24, 39, 0.95);
    border-top-color: #374151;
  }
  
  /* Compact message bubbles for mobile */
  .message-bubble {
    margin: 0.5rem 0;
    padding: 0.75rem;
    border-radius: 1rem;
    max-width: 100%;
  }
  
  /* Code blocks - horizontal scroll on mobile */
  .message-bubble pre {
    overflow-x: auto;
    font-size: 0.75rem;
    line-height: 1.4;
    padding: 0.5rem;
    border-radius: 0.5rem;
  }
  
  /* Fullscreen optimizations for mobile */
  .fullscreen-container {
    position: fixed;
    inset: 0;
    z-index: 100;
    background: white;
    display: flex;
    flex-direction: column;
  }
  
  .dark .fullscreen-container {
    background: #111827;
  }
  
  .fullscreen-content {
    flex: 1;
    overflow-y: auto;
    padding: 1rem;
  }
  
  /* Slideshow optimizations */
  .slideshow-container {
    height: 100%;
    display: flex;
    flex-direction: column;
  }
  
  .slide-content {
    flex: 1;
    overflow-y: auto;
    padding: 1rem;
  }
  
  /* Complexity analysis - stack vertically on mobile */
  .complexity-panel {
    padding: 0.75rem;
  }
  
  .complexity-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 0.5rem;
  }
  
  .complexity-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.5rem;
    background: #f9fafb;
    border-radius: 0.5rem;
  }
  
  .dark .complexity-item {
    background: #1f2937;
  }
}

/* Small Mobile Landscape (568px+) */
@media screen and (min-width: 568px) and (orientation: landscape) {
  .chat-container {
    height: calc(100vh - 6rem);
  }
  
  .voice-input-container {
    padding: 0.75rem 1rem;
  }
  
  .complexity-grid {
    grid-template-columns: 1fr 1fr;
  }
  
  /* Adjust header for landscape */
  .app-header {
    padding: 0.5rem 1rem;
  }
  
  .app-header .py-3 {
    padding-top: 0.5rem;
    padding-bottom: 0.5rem;
  }
}

/* Large Mobile (414px+) */
@media screen and (min-width: 414px) {
  .message-bubble {
    padding: 1rem;
    margin: 0.75rem 0;
  }
  
  .message-bubble pre {
    font-size: 0.875rem;
    padding: 0.75rem;
  }
  
  .slide-content {
    padding: 1.5rem;
  }
  
  .complexity-panel {
    padding: 1rem;
  }
}

/* Tablet Portrait (768px+) */
@media screen and (min-width: 768px) {
  .app-container {
    padding: 1rem;
  }
  
  .chat-container {
    height: calc(100vh - 10rem);
    max-width: 4xl;
    margin: 0 auto;
  }
  
  .voice-input-container {
    position: static;
    background: transparent;
    backdrop-filter: none;
    border: none;
    padding: 1rem 0;
  }
  
  .message-bubble {
    max-width: 85%;
    margin: 1rem auto;
    padding: 1.5rem;
  }
  
  .user-bubble {
    margin-left: auto;
    margin-right: 1rem;
  }
  
  .assistant-bubble {
    margin-right: auto;
    margin-left: 1rem;
  }
  
  /* Code blocks - better formatting for tablets */
  .message-bubble pre {
    font-size: 0.875rem;
    line-height: 1.5;
    padding: 1rem;
    border-radius: 0.75rem;
  }
  
  /* Fullscreen mode adjustments */
  .fullscreen-container {
    border-radius: 1rem;
    margin: 1rem;
    inset: 1rem;
  }
  
  .fullscreen-content {
    padding: 2rem;
  }
  
  /* Slideshow - side-by-side layout option */
  .slideshow-desktop {
    display: grid;
    grid-template-columns: 1fr 250px;
    gap: 2rem;
    height: 100%;
  }
  
  .slideshow-navigation {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    padding: 1rem;
    background: #f9fafb;
    border-radius: 0.75rem;
    overflow-y: auto;
  }
  
  .dark .slideshow-navigation {
    background: #1f2937;
  }
  
  .slide-nav-item {
    padding: 0.75rem;
    text-align: left;
    border-radius: 0.5rem;
    border: 1px solid transparent;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 0.875rem;
  }
  
  .slide-nav-item:hover {
    background: white;
    border-color: #e5e7eb;
  }
  
  .dark .slide-nav-item:hover {
    background: #374151;
    border-color: #4b5563;
  }
  
  .slide-nav-item.active {
    background: #3b82f6;
    color: white;
  }
  
  /* Complexity analysis - horizontal layout */
  .complexity-grid {
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
  }
  
  .complexity-item {
    padding: 1rem;
    text-align: center;
  }
}

/* Tablet Landscape (1024px+) */
@media screen and (min-width: 1024px) {
  .chat-container {
    height: calc(100vh - 12rem);
  }
  
  .message-bubble {
    max-width: 75%;
    padding: 2rem;
  }
  
  .message-bubble pre {
    font-size: 1rem;
    line-height: 1.6;
    padding: 1.5rem;
  }
  
  /* Enhanced slideshow for larger screens */
  .slideshow-desktop {
    grid-template-columns: 1fr 300px;
  }
  
  .slideshow-navigation {
    padding: 1.5rem;
  }
  
  .slide-nav-item {
    padding: 1rem;
  }
  
  /* Diagram rendering */
  .mermaid-diagram {
    max-height: 60vh;
    overflow: auto;
  }
  
  .mermaid-diagram svg {
    max-width: 100%;
    height: auto;
  }
  
  /* Code complexity visualization */
  .complexity-visual {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    margin-top: 1rem;
  }
  
  .complexity-chart {
    background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
    border-radius: 1rem;
    padding: 1.5rem;
    position: relative;
    overflow: hidden;
  }
  
  .dark .complexity-chart {
    background: linear-gradient(135deg, #374151 0%, #1f2937 100%);
  }
  
  .complexity-chart::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #10b981, #f59e0b, #ef4444);
  }
}

/* Desktop (1280px+) */
@media screen and (min-width: 1280px) {
  .app-container {
    padding: 2rem;
  }
  
  .chat-container {
    max-width: 6xl;
  }
  
  .message-bubble {
    max-width: 70%;
  }
  
  /* Side-by-side code and explanation layout */
  .code-explanation-layout {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    align-items: start;
  }
  
  .code-section {
    position: sticky;
    top: 2rem;
  }
  
  .explanation-section {
    padding: 1rem;
  }
  
  /* Enhanced fullscreen mode */
  .fullscreen-container {
    margin: 0;
    inset: 0;
    border-radius: 0;
  }
  
  .fullscreen-content {
    padding: 3rem;
    max-width: 1400px;
    margin: 0 auto;
  }
  
  /* Advanced slideshow features */
  .slideshow-desktop {
    grid-template-columns: 350px 1fr;
  }
  
  .slideshow-progress-indicators {
    display: flex;
    gap: 0.5rem;
    justify-content: center;
    margin-top: 1rem;
  }
  
  .progress-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: #d1d5db;
    cursor: pointer;
    transition: all 0.2s;
  }
  
  .progress-dot.active {
    background: #3b82f6;
    transform: scale(1.25);
  }
  
  .progress-dot:hover {
    background: #6b7280;
  }
}

/* Large Desktop (1536px+) */
@media screen and (min-width: 1536px) {
  .chat-container {
    max-width: 7xl;
  }
  
  .fullscreen-content {
    max-width: 1600px;
    padding: 4rem;
  }
  
  .message-bubble {
    max-width: 65%;
    padding: 2.5rem;
  }
  
  .message-bubble pre {
    font-size: 1.1rem;
    line-height: 1.7;
    padding: 2rem;
  }
  
  /* Ultra-wide layout optimizations */
  .code-explanation-layout {
    grid-template-columns: 1.2fr 1fr;
    gap: 3rem;
  }
  
  .slideshow-desktop {
    grid-template-columns: 400px 1fr;
  }
}

/* High DPI / Retina Displays */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .logo-container img {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
  }
  
  .mermaid-diagram svg {
    shape-rendering: geometricPrecision;
  }
}

/* Reduced Motion Preferences */
@media (prefers-reduced-motion: reduce) {
  .slideshow-container {
    transition: none;
  }
  
  .slide-content {
    animation: none;
  }
  
  .wave-animation {
    animation: none;
  }
  
  .loading-animation div {
    animation: none;
  }
  
  .progress-dot {
    transition: none;
  }
  
  .message-bubble {
    transition: none;
  }
}

/* Print Styles */
@media print {
  .app-header,
  .voice-input-container,
  .quick-actions,
  .slideshow-navigation,
  .slide-progress {
    display: none !important;
  }
  
  .fullscreen-container,
  .chat-container {
    position: static;
    height: auto;
    background: white;
    color: black;
  }
  
  .message-bubble {
    break-inside: avoid;
    border: 1px solid #ccc;
    margin: 1rem 0;
    max-width: 100%;
  }
  
  .message-bubble pre {
    background: #f5f5f5 !important;
    color: #333 !important;
    border: 1px solid #ddd;
  }
  
  .mermaid-diagram svg {
    max-height: none;
  }
}

/* Dark Mode Specific Responsive Adjustments */
@media (prefers-color-scheme: dark) {
  .voice-input-container {
    background: rgba(17, 24, 39, 0.95);
    border-top-color: #374151;
  }
  
  .fullscreen-container {
    background: #111827;
  }
}

/* Touch Device Optimizations */
@media (hover: none) and (pointer: coarse) {
  /* Increase touch targets */
  .action-btn,
  .mobile-action-btn {
    min-height: 44px;
    min-width: 44px;
  }
  
  .toggle-switch {
    min-height: 44px;
    padding: 0.5rem;
  }
  
  .slide-nav-item {
    min-height: 48px;
    display: flex;
    align-items: center;
  }
  
  /* Prevent zoom on input focus */
  input, select, textarea {
    font-size: 16px;
  }
  
  /* Better scroll indicators */
  .chat-container::-webkit-scrollbar {
    width: 8px;
  }
  
  .chat-container::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
  }
}

/* Foldable Device Support */
@media (spanning: single-fold-vertical) {
  .slideshow-desktop {
    grid-template-columns: 1fr;
    grid-template-rows: 1fr auto;
  }
  
  .slideshow-navigation {
    display: flex;
    flex-direction: row;
    overflow-x: auto;
    overflow-y: visible;
    height: auto;
  }
  
  .slide-nav-item {
    flex-shrink: 0;
    min-width: 150px;
  }
}

@media (spanning: single-fold-horizontal) {
  .fullscreen-container {
    display: grid;
    grid-template-rows: 1fr 1fr;
  }
  
  .fullscreen-content {
    overflow-y: auto;
  }
  
  .quick-actions {
    position: sticky;
    bottom: 0;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
  }
  
  .dark .quick-actions {
    background: rgba(17, 24, 39, 0.95);
  }
}

/* Animation Utilities for Different Screen Sizes */
@keyframes slideInMobile {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes slideInDesktop {
  from {
    transform: translateX(-100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@media (max-width: 767px) {
  .slide-enter-active {
    animation: slideInMobile 0.3s ease-out;
  }
}

@media (min-width: 768px) {
  .slide-enter-active {
    animation: slideInDesktop 0.3s ease-out;
  }
}

/* Accessibility Enhancements */
@media (prefers-contrast: high) {
  .message-bubble {
    border: 2px solid;
  }
  
  .user-bubble {
    border-color: #1d4ed8;
  }
  
  .assistant-bubble {
    border-color: #374151;
  }
  
  .complexity-item {
    border: 1px solid #6b7280;
  }
}

/* Focus-visible support for better keyboard navigation */
@supports selector(:focus-visible) {
  .action-btn:focus {
    outline: none;
  }
  
  .action-btn:focus-visible {
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
  }
  
  .slide-nav-item:focus-visible {
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
  }
}

--- FILE: backend/utils/cost.ts (Relevance: 0.25) ---

// backend/utils/cost.ts
import dotenv from 'dotenv';
import { MODEL_CONFIGS } from '../config/models.js';

dotenv.config({ path: new URL('../../../.env', import.meta.url).pathname });

const COST_THRESHOLD = parseFloat(process.env.COST_THRESHOLD || '20.00');
const WHISPER_COST_PER_MINUTE = 0.006; // Keep this if used by trackWhisperCost

export interface SessionCostDetail {
  totalCost: number;
  whisperCost: number;
  llmCost: number;
  lastUpdated: number;
  interactions: number; // To track number of calls contributing to cost
}

// In-memory store for session costs. In production, consider a database.
const sessionCosts = new Map<string, SessionCostDetail>();

function initializeSessionCost(userId: string): SessionCostDetail {
  if (!sessionCosts.has(userId)) {
    sessionCosts.set(userId, {
      totalCost: 0,
      whisperCost: 0,
      llmCost: 0,
      lastUpdated: Date.now(),
      interactions: 0,
    });
  }
  return sessionCosts.get(userId)!;
}

/**
 * Tracks cost for LLM calls.
 * Ensure MODEL_CONFIGS is correctly defined in '../config/models.js'
 * Example MODEL_CONFIGS entry:
 * 'gpt-4o': { inputCostPer1K: 0.005, outputCostPer1K: 0.015, contextWindow: 128000 }
 */
export function trackLlmCost(
  userId: string,
  modelName: string,
  promptTokens: number,
  completionTokens: number
): number {
  const session = initializeSessionCost(userId);
  const modelConfig = MODEL_CONFIGS[modelName] || MODEL_CONFIGS['gpt-4o']; // Fallback to gpt-4o config

  let cost = 0;
  if (modelConfig) {
    const inputCost = (promptTokens / 1000) * modelConfig.inputCostPer1K;
    const outputCost = (completionTokens / 1000) * modelConfig.outputCostPer1K;
    cost = inputCost + outputCost;
  } else {
    console.warn(`Cost configuration for model ${modelName} not found. Using default LLM calculation.`);
    // Fallback generic calculation if modelConfig is missing (less accurate)
    cost = ((promptTokens + completionTokens) / 1000) * 0.01; // Generic $0.01 per 1K tokens
  }
  
  session.llmCost += cost;
  session.totalCost += cost;
  session.interactions += 1;
  session.lastUpdated = Date.now();
  
  console.log(`LLM Cost for ${modelName} (User: ${userId}): $${cost.toFixed(6)}. Session total: $${session.totalCost.toFixed(6)}`);
  return session.totalCost;
}

/**
 * Tracks cost for Whisper calls.
 * Updated to match the signature expected by audio.ts
 */
export function trackWhisperServiceCost(
  userId: string,
  durationMinutes: number, // Duration of the audio processed by Whisper
  providedCost?: number // Optional cost override
): number {
  const session = initializeSessionCost(userId);
  // Whisper bills for a minimum of 0.01 minutes if duration is less
  const billableMinutes = Math.max(durationMinutes, 0.01);
  const cost = providedCost || (billableMinutes * WHISPER_COST_PER_MINUTE);
  
  session.whisperCost += cost;
  session.totalCost += cost;
  session.interactions += 1; // Counting this as an interaction
  session.lastUpdated = Date.now();
  
  console.log(`Whisper Cost (User: ${userId}): $${cost.toFixed(6)} for ${durationMinutes.toFixed(2)} min. Session total: $${session.totalCost.toFixed(6)}`);
  return session.totalCost;
}

export function getSessionCost(userId: string): SessionCostDetail {
  return initializeSessionCost(userId);
}

export function isThresholdReached(userId: string): boolean {
  const session = sessionCosts.get(userId);
  return session ? session.totalCost >= COST_THRESHOLD : false;
}

export function resetSessionCost(userId: string): SessionCostDetail {
  console.log(`Resetting session cost for user: ${userId}`);
  sessionCosts.set(userId, {
    totalCost: 0,
    whisperCost: 0,
    llmCost: 0,
    lastUpdated: Date.now(),
    interactions: 0,
  });
  return sessionCosts.get(userId)!;
}

// Export aliases for compatibility with route imports
export const trackCost = trackLlmCost;
export const trackWhisperCost = trackWhisperServiceCost;

// Periodically clean up old sessions (e.g., inactive for 24 hours)
setInterval(() => {
  const now = Date.now();
  for (const [userId, session] of sessionCosts.entries()) {
    if (now - session.lastUpdated > 24 * 60 * 60 * 1000) { // 24 hours
      sessionCosts.delete(userId);
      console.log(`Cleaned up inactive session for user: ${userId}`);
    }
  }
}, 60 * 60 * 1000); // Check every hour

--- FILE: frontend/src/utils/ContentAnalyzer.ts (Relevance: 0.25) ---

// frontend/src/utils/ContentAnalyzer.ts - Advanced Content Analysis and Problem Detection

// Exporting interfaces needed by other modules (e.g., Home.vue)
export interface LeetCodePattern {
  keywords: string[];
  patterns: RegExp[];
  problemTypes: string[];
  dataStructures: string[];
  algorithms: string[];
}

export interface SystemDesignPattern {
  keywords: string[];
  patterns: RegExp[];
  components: string[];
  concepts: string[];
}

export interface ComplexityInfo {
  time?: string;
  space?: string;
  explanation?: string;
  approach?: string;
  optimizations?: string[];
}

export interface CodeBlock {
  type: 'fenced' | 'inline';
  language?: string;
  code: string;
  fullMatch: string;
  lineCount: number;
  hasComments: boolean;
  complexity?: string;
}

export interface DiagramHint {
  type: 'tree' | 'graph' | 'array' | 'system' | 'flowchart';
  description: string;
  mermaidCode?: string;
  priority: number;
}

export interface ContentSuggestion {
  type: 'diagram' | 'complexity' | 'code' | 'explanation' | 'example';
  message: string;
  priority: 'high' | 'medium' | 'low';
  implementation?: string;
}

export interface ProblemMetadata {
  difficulty?: 'Easy' | 'Medium' | 'Hard';
  category?: string;
  approach?: string;
  timeComplexity?: string;
  spaceComplexity?: string;
  dataStructures?: string[];
  algorithms?: string[];
  patterns?: string[];
}

// Define the union type for content types - Added 'error' type
export type ContentAnalysisType = 'leetcode' | 'systemDesign' | 'concept' | 'tutorial' | 'documentation' | 'general' | 'error';

export interface ContentAnalysis {
  type: ContentAnalysisType;
  subtype?: string;
  confidence: number;
  displayTitle?: string;
  shouldVisualize: boolean;
  shouldGenerateDiagram: boolean;
  shouldCreateSlides: boolean;
  interactiveElements: boolean;
  complexity: ComplexityInfo | null;
  codeBlocks: CodeBlock[];
  estimatedReadTime: number; // in seconds
  wordCount: number;
  problemMetadata?: ProblemMetadata;
  language: string | null;
  keywords: string[];
  entities: string[];
  suggestions: ContentSuggestion[];
  diagramHints: DiagramHint[];
  slideCount: number;
  slideDuration: number; // Default duration per slide in ms
  slideTopics: string[];
}

interface AdvancedPatterns {
  leetcode: LeetCodePattern;
  systemDesign: SystemDesignPattern;
  complexity: {
    time: RegExp[];
    space: RegExp[];
    combined: RegExp[];
  };
  codeBlocks: {
    fenced: RegExp;
    inline: RegExp;
    withComments: RegExp;
  };
  diagrams: {
    mermaid: RegExp;
    plantuml: RegExp;
    ascii: RegExp;
  };
}

// Mode to content type mapping for better analysis
const MODE_TO_CONTENT_TYPE_MAP: Record<string, ContentAnalysisType> = {
  'coding': 'leetcode',
  'system_design': 'systemDesign',
  'meeting': 'documentation',
  'general': 'general'
};

export class ContentAnalyzer {
  private readonly patterns: AdvancedPatterns = {
    leetcode: {
      keywords: [
        'two sum', 'three sum', 'binary search', 'binary tree', 'linked list',
        'dynamic programming', 'dp', 'sliding window', 'two pointers', 'backtracking',
        'divide and conquer', 'greedy', 'graph traversal', 'dfs', 'bfs',
        'trie', 'heap', 'priority queue', 'stack', 'queue', 'hash map', 'hash table',
        'easy problem', 'medium problem', 'hard problem', 'leetcode',
        'coding interview', 'technical interview', 'algorithm problem',
        'brute force', 'naive approach', 'optimal solution', 'efficient solution',
        'recursive', 'iterative', 'memoization', 'tabulation',
        'time complexity', 'space complexity', 'big o', 'o(n)', 'o(1)', 'o(log n)',
        'o(n¬¨‚â§)', 'o(2^n)', 'o(n log n)', 'linear', 'logarithmic', 'quadratic', 'exponential'
      ],
      patterns: [
        /(?:problem|question)[:\s]*(.{1,100})/i, 
        /(?:given|input)[:\s]*(.{1,150})/i,
        /(?:return|output|find)[:\s]*(.{1,100})/i, 
        /(?:example|test case)[:\s]*(.{1,200})/i,
        /(?:constraint|limit)[s]?[:\s]*(.{1,100})/i, 
        /(?:follow[- ]?up|extension)[:\s]*(.{1,100})/i,
        /(?:approach|solution|algorithm)[:\s]*(.{1,200})/i, 
        /(?:step \d+|first|second|third|then|next|finally)[:\s]*(.{1,150})/i
      ],
      problemTypes: [
        'array manipulation', 'string processing', 'tree traversal', 'graph algorithms',
        'dynamic programming', 'searching', 'sorting', 'linked list operations',
        'stack/queue problems', 'hash table usage', 'bit manipulation', 'math problems'
      ],
      dataStructures: [
        'array', 'string', 'linked list', 'binary tree', 'binary search tree', 'bst',
        'heap', 'priority queue', 'stack', 'queue', 'hash map', 'hash set', 'hash table',
        'trie', 'graph', 'matrix', 'prefix tree'
      ],
      algorithms: [
        'binary search', 'depth-first search', 'dfs', 'breadth-first search', 'bfs', 'merge sort',
        'quick sort', 'dijkstra', 'union find', 'topological sort', 'kadane algorithm',
        'kmp algorithm', 'sliding window', 'two pointers', 'backtracking'
      ]
    },
    systemDesign: {
      keywords: [
        'load balancer', 'api gateway', 'microservices', 'database', 'cache', 'cdn',
        'message queue', 'pub/sub', 'event streaming', 'service mesh', 'horizontal scaling',
        'vertical scaling', 'sharding', 'replication', 'consistency', 'availability',
        'partition tolerance', 'cap theorem', 'eventual consistency', 'acid properties',
        'base properties', 'event-driven architecture', 'domain-driven design', 'cqrs',
        'event sourcing', 'saga pattern', 'circuit breaker', 'bulkhead pattern', 'rate limiting',
        'kubernetes', 'docker', 'redis', 'elasticsearch', 'kafka', 'rabbitmq',
        'nginx', 'apache', 'mysql', 'postgresql', 'mongodb', 'cassandra', 'design a system',
        'system architecture'
      ],
      patterns: [
        /design\s+(?:a|an|the)?\s*(.{1,50})\s*(?:system|application|service)/i,
        /how\s+(?:would\s+you\s+)?(?:design|build|architect|scale)\s+(.{1,100})/i,
        /(?:scalability|performance|availability)\s+(?:requirements|considerations|challenges)/i,
        /(?:database|storage|caching)\s+(?:design|strategy|approach)/i,
        /(?:api|service|component)\s+(?:design|architecture|structure)/i,
        /(?:traffic|load|users?)\s+(?:handling|management|distribution)/i
      ],
      components: [
        'web servers', 'application servers', 'databases', 'caches', 'load balancers',
        'content delivery networks', 'message brokers', 'search engines', 'monitoring systems'
      ],
      concepts: [
        'high availability', 'fault tolerance', 'disaster recovery', 'data consistency',
        'performance optimization', 'cost optimization', 'security considerations'
      ]
    },
    complexity: {
      time: [ 
        /time\s+complexity(?:\s+is)?[:\s]*O\(([^)]+)\)/gi, 
        /runtime(?:\s+is)?[:\s]*O\(([^)]+)\)/gi, 
        /(?:takes|runs\s+in)[:\s]*O\(([^)]+)\)/gi 
      ],
      space: [ 
        /space\s+complexity(?:\s+is)?[:\s]*O\(([^)]+)\)/gi, 
        /memory\s+usage(?:\s+is)?[:\s]*O\(([^)]+)\)/gi, 
        /(?:uses|requires)[:\s]*O\(([^)]+)\)\s*(?:space|memory)/gi 
      ],
      combined: [ 
        /O\(([^)]+)\)\s*(?:for\s*)?(?:time|space|memory)/gi, 
        /complexity(?:\s+is)?[:\s]*O\(([^)]+)\)/gi 
      ]
    },
    codeBlocks: {
      fenced: /```(?:(\w+)\n)?([\s\S]*?)\n?```/g,
      inline: /`([^`\n]+?)`/g,
      withComments: /(?:\/\/|#|\/\*[\s\S]*?\*\/|).*/g
    },
    diagrams: {
      mermaid: /```mermaid\n([\s\S]*?)\n```/g,
      plantuml: /```plantuml\n([\s\S]*?)\n```/g,
      ascii: /```(?:text|ascii)?\n([\s\S]*?(?:[-+|=]{3,}|[‚Äö√Æ√•‚Äö√Æ¬®‚Äö√Æ√™‚Äö√Æ√Æ‚Äö√Æ¬•‚Äö√Æ√≤‚Äö√Æ√∫‚Äö√Æ¬∫‚Äö√Æ¬ß‚Äö√Æ√á‚Äö√Æ√Ñ]{2,})[\s\S]*?)\n```/g
    }
  };

  private readonly leetcodeProblemKeywords = new Map<string, Partial<ProblemMetadata>>([
    ['two sum', { 
      difficulty: 'Easy', 
      category: 'Array', 
      approach: 'Hash Map', 
      dataStructures: ['Array', 'Hash Map'], 
      algorithms: ['Hash Table lookup'] 
    }],
    ['reverse linked list', { 
      difficulty: 'Easy', 
      category: 'Linked List', 
      approach: 'Iterative or Recursive', 
      dataStructures: ['Linked List'], 
      algorithms: ['Two Pointers'] 
    }],
    ['binary tree inorder traversal', { 
      difficulty: 'Easy', 
      category: 'Tree', 
      approach: 'Recursion or Iteration with Stack', 
      dataStructures: ['Binary Tree', 'Stack'], 
      algorithms: ['DFS']
    }],
    ['valid parentheses', {
      difficulty: 'Easy',
      category: 'Stack',
      approach: 'Stack matching',
      dataStructures: ['Stack'],
      algorithms: ['Stack operations']
    }],
    ['maximum subarray', {
      difficulty: 'Easy',
      category: 'Dynamic Programming',
      approach: 'Kadane\'s Algorithm',
      dataStructures: ['Array'],
      algorithms: ['Kadane Algorithm']
    }]
  ]);

  public analyzeContent(content: string, mode: string = 'general'): ContentAnalysis {
    const analysis: ContentAnalysis = {
      type: 'general', 
      confidence: 0, 
      shouldVisualize: false, 
      shouldGenerateDiagram: false,
      shouldCreateSlides: false, 
      interactiveElements: false, 
      complexity: null, 
      codeBlocks: [],
      estimatedReadTime: 0, 
      wordCount: 0, 
      language: null, 
      keywords: [], 
      entities: [],
      suggestions: [], 
      diagramHints: [], 
      slideCount: 0, 
      slideDuration: 7000, 
      slideTopics: [],
      displayTitle: 'General Content'
    };

    if (!content || typeof content !== 'string' || content.trim() === "") {
        return analysis;
    }

    analysis.wordCount = this.countWords(content);
    analysis.estimatedReadTime = this.calculateReadTime(content);

    const typeResult = this.determineContentType(content, mode);
    analysis.type = typeResult.type;
    analysis.subtype = typeResult.subtype;
    analysis.confidence = typeResult.confidence;
    analysis.keywords = typeResult.keywords;
    analysis.displayTitle = this.getDisplayTitle(analysis.type, analysis.subtype);

    analysis.codeBlocks = this.extractCodeBlocks(content);
    analysis.language = this.detectLanguage(content, analysis.codeBlocks);
    analysis.complexity = this.extractComplexity(content);

    if (analysis.type === 'leetcode') {
      analysis.problemMetadata = this.analyzeLeetCodeProblem(content, analysis.keywords);
      analysis.interactiveElements = true;
    } else if (analysis.type === 'systemDesign') {
        analysis.interactiveElements = true;
    }

    analysis.diagramHints = this.generateDiagramHints(analysis, content);
    analysis.suggestions = this.generateSuggestions(analysis, content);

    analysis.shouldVisualize = this.shouldVisualize(analysis);
    analysis.shouldGenerateDiagram = this.shouldGenerateDiagram(analysis);
    analysis.shouldCreateSlides = this.shouldCreateSlides(analysis);

    if (analysis.shouldCreateSlides) {
      const slideData = this.planSlides(content, analysis);
      analysis.slideCount = slideData.count;
      analysis.slideDuration = slideData.duration;
      analysis.slideTopics = slideData.topics;
    }

    return analysis;
  }

  private getDisplayTitle(type: ContentAnalysisType, subtype?: string): string {
    if (subtype) {
        return `${type.charAt(0).toUpperCase() + type.slice(1)}: ${subtype.charAt(0).toUpperCase() + subtype.slice(1)}`;
    }
    const titles: Record<ContentAnalysisType, string> = {
        leetcode: "LeetCode Problem",
        systemDesign: "System Design Discussion",
        concept: "Conceptual Explanation",
        tutorial: "Tutorial / Guide",
        documentation: "Documentation Snippet",
        general: "General Content",
        error: "Error Occurred"
    };
    return titles[type] || "Content";
  }

  private determineContentType(content: string, mode: string): {
    type: ContentAnalysisType; 
    subtype?: string; 
    confidence: number; 
    keywords: string[];
  } {
    const normalizedContent = content.toLowerCase();
    const scores: Record<ContentAnalysisType, number> = {
        'leetcode': 0, 
        'systemDesign': 0, 
        'concept': 0,
        'tutorial': 0, 
        'documentation': 0, 
        'general': 0,
        'error': 0
    };
    const detectedKeywords: Set<string> = new Set();
    const codeBlockCount = this.extractCodeBlocks(content).length;

    // Enhanced scoring logic with better keyword weighting
    let leetcodeScore = 0;
    this.patterns.leetcode.keywords.forEach(kw => { 
      if (normalizedContent.includes(kw)) { 
        leetcodeScore += this.getKeywordWeight(kw); 
        detectedKeywords.add(kw); 
      } 
    });
    this.patterns.leetcode.patterns.forEach(p => { 
      if (p.test(content)) leetcodeScore += 3; 
    });
    
    // Language-specific code blocks boost
    if (content.match(/```(?:python|java|c\+\+|javascript|swift|kotlin|go|rust|cpp|js|ts)/i)) {
      leetcodeScore += 2;
    }
    
    // Direct mentions boost
    if (normalizedContent.includes("leetcode") || normalizedContent.includes("coding problem")) {
      leetcodeScore += 5;
    }
    
    scores.leetcode = leetcodeScore;

    let systemDesignScore = 0;
    this.patterns.systemDesign.keywords.forEach(kw => { 
      if (normalizedContent.includes(kw)) { 
        systemDesignScore += this.getKeywordWeight(kw); 
        detectedKeywords.add(kw); 
      } 
    });
    this.patterns.systemDesign.patterns.forEach(p => { 
      if (p.test(content)) systemDesignScore += 4; 
    });
    
    // System design specific phrases
    if (normalizedContent.includes("design a") || normalizedContent.includes("system architecture")) {
      systemDesignScore += 5;
    }
    
    scores.systemDesign = systemDesignScore;

    // Tutorial detection
    if (codeBlockCount > 1 && (normalizedContent.includes("how to") || normalizedContent.includes("step-by-step"))) {
        scores.tutorial = (scores.tutorial || 0) + codeBlockCount * 1.5 + 3;
    }
    
    // Documentation detection
    if (codeBlockCount > 0 && (normalizedContent.includes("api documentation") || normalizedContent.includes("reference"))) {
        scores.documentation = (scores.documentation || 0) + codeBlockCount * 1 + 2;
    }
    
    // Concept explanation detection
    if (codeBlockCount <= 1 && (normalizedContent.includes("explain") || normalizedContent.includes("what is") || normalizedContent.includes("concept of"))) {
        scores.concept = (scores.concept || 0) + 3;
    }

    // Apply mode bias for better context awareness
    const modeBias = this.getModeBias(mode);
    (Object.keys(scores) as ContentAnalysisType[]).forEach(type => {
      if (modeBias.has(type)) {
        scores[type] = scores[type] * (modeBias.get(type) ?? 1);
      }
    });

    // Find the winner
    let maxScore = -1;
    let winnerType: ContentAnalysisType = 'general';
    (Object.keys(scores) as ContentAnalysisType[]).forEach(type => {
      if (scores[type] > maxScore) {
        maxScore = scores[type];
        winnerType = type;
      }
    });
    
    if (maxScore <= 0) {
        maxScore = 0;
        winnerType = 'general' as any;
    }

    
    // Determine subtype based on the winning type
    let subtype: string | undefined;
    switch (winnerType) {
        case 'leetcode':
            subtype = this.determineLeetCodeSubtype(content, Array.from(detectedKeywords));
            break;
        case 'systemDesign':
            const systemNameMatch = content.match(this.patterns.systemDesign.patterns[0]);
            if (systemNameMatch && systemNameMatch[1]) {
                subtype = systemNameMatch[1].trim();
            }
            break;
        // Other types don't need subtypes for now
    }

    // Low confidence override - if score is too low, fall back to simpler classification
    if (maxScore < 3) {
      winnerType = codeBlockCount > 0 ? 'tutorial' : 'concept';
      // Clear subtype since we're overriding the type
      subtype = undefined;
    }

    // Calculate confidence based on score and mode alignment
    const modeExpectedType = MODE_TO_CONTENT_TYPE_MAP[mode];
    const modeAlignment = modeExpectedType && modeExpectedType === winnerType ? 1.2 : 1.0;
    const confidence = Math.min((maxScore * modeAlignment) / 25, 1.0);

    return {
      type: winnerType,
      subtype,
      confidence,
      keywords: Array.from(detectedKeywords).slice(0, 10)
    };
  }

  private analyzeLeetCodeProblem(content: string, keywords: string[]): ProblemMetadata {
    const metadata: ProblemMetadata = {};
    const normalizedContent = content.toLowerCase();

    // Check against known problems first
    for (const [problemName, knownMeta] of this.leetcodeProblemKeywords) {
        if (normalizedContent.includes(problemName)) {
            return { 
              ...metadata, 
              ...knownMeta, 
              category: knownMeta.category || problemName.replace(/\b\w/g, l => l.toUpperCase())
            };
        }
    }
    
    // Extract difficulty
    const difficultyMatch = content.match(/\b(easy|medium|hard)(?:\s+(?:problem|question|level))?\b/i);
    if (difficultyMatch) {
      const diffStr = difficultyMatch[1].charAt(0).toUpperCase() + difficultyMatch[1].slice(1).toLowerCase();
      metadata.difficulty = diffStr as ProblemMetadata['difficulty'];
    }
    
    // Extract data structures and algorithms from keywords and content
    metadata.dataStructures = this.patterns.leetcode.dataStructures.filter(ds => 
      keywords.some(kw => kw.includes(ds.toLowerCase())) || 
      normalizedContent.includes(ds.toLowerCase())
    );
    
    metadata.algorithms = this.patterns.leetcode.algorithms.filter(algo => 
      keywords.some(kw => kw.includes(algo.toLowerCase())) || 
      normalizedContent.includes(algo.toLowerCase())
    );
    
    // Extract approach
    const approachKeywords = [
      'brute force', 'optimal', 'recursive', 'iterative', 'dp', 'greedy', 
      'dynamic programming', 'divide and conquer', 'sliding window', 'two pointers'
    ];
    for (const approach of approachKeywords) { 
      if (normalizedContent.includes(approach)) { 
        metadata.approach = approach; 
        break; 
      } 
    }
    
    // Extract complexity information
    const complexityInfo = this.extractComplexity(content);
    if (complexityInfo) { 
      metadata.timeComplexity = complexityInfo.time; 
      metadata.spaceComplexity = complexityInfo.space; 
    }
    
    // Set category if not already set
    if (!metadata.category) {
        if (metadata.dataStructures && metadata.dataStructures.length > 0) {
          metadata.category = metadata.dataStructures[0].replace(/\b\w/g, l => l.toUpperCase());
        } else if (metadata.algorithms && metadata.algorithms.length > 0) {
          metadata.category = metadata.algorithms[0].replace(/\b\w/g, l => l.toUpperCase());
        }
    }
    
    return metadata;
  }

  private extractCodeBlocks(content: string): CodeBlock[] {
    const blocks: CodeBlock[] = [];
    
    // Extract fenced code blocks
    const fencedMatches = [...content.matchAll(this.patterns.codeBlocks.fenced)];
    fencedMatches.forEach(match => {
      const language = (match[1] || 'plaintext').toLowerCase();
      const code = match[2] || '';
      blocks.push({
        type: 'fenced', 
        language, 
        code, 
        fullMatch: match[0],
        lineCount: code.split('\n').length,
        hasComments: this.patterns.codeBlocks.withComments.test(code),
        complexity: this.estimateCodeComplexity(code)
      });
    });
    
    return blocks;
  }

  private detectLanguage(content: string, codeBlocks: CodeBlock[]): string | null {
    // First, check declared languages in code blocks
    const declaredLanguages = codeBlocks
      .map(block => block.language)
      .filter(lang => lang && lang !== 'unknown' && lang !== 'plaintext');
      
    if (declaredLanguages.length > 0) {
      const langCounts = declaredLanguages.reduce((acc, lang) => {
        acc[lang!] = (acc[lang!] || 0) + 1; 
        return acc;
      }, {} as Record<string, number>);
      return Object.keys(langCounts).sort((a,b) => langCounts[b] - langCounts[a])[0];
    }
    
    // Fallback to content-based detection
    const lowerContent = content.toLowerCase();
    
    // Python detection
    if (/\b(def|import|class)\s/.test(content) && content.includes(':')) return 'python';
    
    // JavaScript/TypeScript detection
    if (/\b(function|const|let|var)\s/.test(content) && (content.includes('{') || content.includes('=>'))) {
      return lowerContent.includes('typescript') || content.includes(': ') ? 'typescript' : 'javascript';
    }
    
    // Java detection
    if (/\b(public\s+(class|static|void)|System\.out\.print)/.test(content)) return 'java';
    
    // C++ detection
    if (/#include|std::/.test(content)) return 'cpp';
    
    return null;
  }

  private generateDiagramHints(analysis: ContentAnalysis, content: string): DiagramHint[] {
    const hints: DiagramHint[] = [];
    const normalizedContent = content.toLowerCase();
    
    // System design diagrams
    if (analysis.type === 'systemDesign' || normalizedContent.includes('architecture') || normalizedContent.includes('component diagram')) {
      hints.push({ 
        type: 'system', 
        description: 'System architecture diagram', 
        priority: 9, 
        mermaidCode: this.generateSystemArchitectureDiagram(analysis.subtype || 'system') 
      });
    }
    
    // Tree/Graph diagrams for data structure problems
    if (analysis.type === 'leetcode' && analysis.problemMetadata?.dataStructures?.some(ds => ['tree', 'graph'].includes(ds.toLowerCase()))) {
        if (analysis.problemMetadata.dataStructures.includes('tree')) {
             hints.push({ 
               type: 'tree', 
               description: 'Tree structure visualization', 
               priority: 8, 
               mermaidCode: this.generateTreeDiagram() 
             });
        } else {
             hints.push({ 
               type: 'graph', 
               description: 'Graph structure visualization', 
               priority: 8, 
               mermaidCode: this.generateGraphDiagram() 
             });
        }
    }
    
    // Flowchart for algorithms
    if (normalizedContent.includes('flowchart') || (normalizedContent.includes('algorithm') && normalizedContent.includes('steps'))) {
        hints.push({ 
          type: 'flowchart', 
          description: 'Algorithm/process flowchart', 
          priority: 7, 
          mermaidCode: this.generateFlowchartDiagram() 
        });
    }
    
    return hints.sort((a, b) => b.priority - a.priority);
  }

  private generateSuggestions(analysis: ContentAnalysis, content: string): ContentSuggestion[] {
    const suggestions: ContentSuggestion[] = [];
    
    // Complexity analysis suggestion
    if (analysis.type === 'leetcode' && !analysis.complexity) {
      suggestions.push({ 
        type: 'complexity', 
        message: 'Add Big O complexity analysis', 
        priority: 'high' 
      });
    }
    
    // Code example suggestion
    if (analysis.type === 'concept' && analysis.codeBlocks.length === 0) {
      suggestions.push({ 
        type: 'code', 
        message: 'Include a code example', 
        priority: 'medium' 
      });
    }
    
    // Diagram suggestion
    if (analysis.shouldGenerateDiagram && analysis.diagramHints.length > 0 && !content.match(this.patterns.diagrams.mermaid)) {
        suggestions.push({ 
          type: 'diagram', 
          message: `Consider adding a ${analysis.diagramHints[0].type} diagram`, 
          priority: 'high', 
          implementation: analysis.diagramHints[0].mermaidCode
        });
    }
    
    // Content length suggestion
    if (analysis.wordCount > 700) {
        suggestions.push({ 
          type: 'explanation', 
          message: 'Summarize key points or break into sections', 
          priority: 'medium' 
        });
    }
    
    return suggestions;
  }

  // Improved diagram generation methods
  private generateTreeDiagram(): string { 
    return `graph TD
    A[Root] --> B[Left Child]
    A --> C[Right Child]
    B --> D[Left Leaf]
    B --> E[Right Leaf]
    C --> F[Left Leaf]
    C --> G[Right Leaf]`; 
  }
  
  private generateGraphDiagram(): string { 
    return `graph LR
    N1[Node 1] --- N2[Node 2]
    N2 --- N3[Node 3]
    N1 --- N3
    N3 --- N4[Node 4]`; 
  }
  
  private generateSystemArchitectureDiagram(systemName: string = 'system'): string { 
    return `graph TB
    User[Ô£ø√º√´¬ß User] --> WebApp[Ô£ø√º√•√™ Web Application]
    WebApp --> APIGateway[Ô£ø√º√∂‚Ñ¢ API Gateway]
    APIGateway --> Service1[Ô£ø√º√¨¬∂ ${systemName} Service]
    APIGateway --> Service2[Ô£ø√º√¨¬∂ Auth Service]
    Service1 --> Database[(Ô£ø√º√≥√ë√î‚àè√® Database)]
    Service1 --> Cache[Ô£ø√º√≠√¶ Cache]
    Service2 --> UserDB[(Ô£ø√º√´‚Ä¢ User DB)]`; 
  }
  
  private generateFlowchartDiagram(): string { 
    return `graph TD
    Start([Ô£ø√º√∂√Ñ Start]) --> Input[Ô£ø√º√¨‚Ä¢ Input Data]
    Input --> Process{Ô£ø√º√Æ√ë Process}
    Process -->|Success| Output[Ô£ø√º√¨¬ß Output Result]
    Process -->|Error| ErrorHandle[‚Äö√∂‚Ä†√î‚àè√® Handle Error]
    ErrorHandle --> End([Ô£ø√º√®√Ö End])
    Output --> End`; 
  }

  // Utility methods with better implementations
  private getKeywordWeight(keyword: string): number { 
    const highPriorityKeywords = ['leetcode', 'system design', 'time complexity', 'big o', 'algorithm', 'data structure'];
    return highPriorityKeywords.some(h => keyword.includes(h)) ? 3 : 1; 
  }
  
  private getModeBias(mode: string): Map<ContentAnalysisType, number> { 
    const bias = new Map<ContentAnalysisType, number>(); 
    
    switch (mode) {
      case 'coding':
        bias.set('leetcode', 1.5);
        bias.set('tutorial', 1.2);
        break;
      case 'system_design':
        bias.set('systemDesign', 1.8);
        break;
      case 'meeting':
        bias.set('documentation', 1.3);
        break;
    }
    
    return bias; 
  }
  
  private determineLeetCodeSubtype(content: string, keywords: string[]): string { 
    const normalizedContent = content.toLowerCase();
    
    const ds = this.patterns.leetcode.dataStructures.find(d => 
      keywords.includes(d.toLowerCase()) || normalizedContent.includes(d.toLowerCase())
    );
    
    const algo = this.patterns.leetcode.algorithms.find(a => 
      keywords.includes(a.toLowerCase()) || normalizedContent.includes(a.toLowerCase())
    );
    
    if (ds && algo) return `${ds} + ${algo}`;
    return ds || algo || 'General Problem'; 
  }
  
  private countWords(content: string): number { 
    return content.split(/\s+/).filter(Boolean).length; 
  }
  
  private calculateReadTime(content: string): number {
    const wordsPerMinute = 200; 
    const codeLinesPerMinute = 70;
    
    const codeBlockContent = (this.extractCodeBlocks(content) || [])
      .map(b => b.code)
      .join('\n');
    const codeLineCount = codeBlockContent.split('\n').length;
    
    const textContent = content.replace(/```[\s\S]*?```/g, '');
    const textWordCount = this.countWords(textContent);
    
    const timeForText = (textWordCount / wordsPerMinute) * 60;
    const timeForCode = (codeLineCount / codeLinesPerMinute) * 60;
    
    return Math.max(15, Math.round(timeForText + timeForCode));
  }

  private extractComplexity(content: string): ComplexityInfo | null {
    const info: ComplexityInfo = {}; 
    const lowerContent = content.toLowerCase(); 
    let match;
    
    // Extract time complexity
    for (const pattern of this.patterns.complexity.time) { 
      pattern.lastIndex = 0; 
      match = pattern.exec(content); 
      if (match) { 
        info.time = `O(${match[1]})`; 
        break; 
      } 
    }
    
    // Extract space complexity
    for (const pattern of this.patterns.complexity.space) { 
      pattern.lastIndex = 0; 
      match = pattern.exec(content); 
      if (match) { 
        info.space = `O(${match[1]})`; 
        break; 
      } 
    }
    
    // Fallback to combined patterns
    if (!info.time && !info.space) { 
      for (const pattern of this.patterns.complexity.combined) { 
        pattern.lastIndex = 0; 
        match = pattern.exec(content); 
        if (match) { 
          const beforeMatch = lowerContent.substring(0, match.index);
          if (beforeMatch.includes('time')) {
            info.time = `O(${match[1]})`;
          } else if (beforeMatch.includes('space')) {
            info.space = `O(${match[1]})`;
          } else { 
            info.time = `O(${match[1]})`;
          }
          break; 
        } 
      } 
    }
    
    return Object.keys(info).length > 0 ? info : null;
  }

  private estimateCodeComplexity(code: string): string {
    const loopKeywords = /\b(for|while|do)\b/g;
    const recursionPattern = /(\w+)\s*\([^)]*\)\s*{[\s\S]*?\b\1\b\s*\(/;

    let loopCount = (code.match(loopKeywords) || []).length;
    
    // Check for nested loops
    if (loopCount > 1 && code.match(/(\s+(for|while|do)[\s\S]*?\n)+\s+(for|while|do)/)) {
        return 'O(N^2)';
    }

    if (recursionPattern.test(code)) return 'O(2^N) or O(N)';
    if (loopCount >= 2) return 'O(N^2)';
    if (loopCount === 1) return 'O(N)';
    return 'O(1)';
  }

  // Analysis decision methods
  private shouldVisualize(analysis: ContentAnalysis): boolean { 
    return analysis.type === 'leetcode' || 
           analysis.type === 'systemDesign' || 
           (analysis.estimatedReadTime > 120 && analysis.codeBlocks.length > 0) || 
           analysis.diagramHints.length > 0; 
  }
  
  private shouldGenerateDiagram(analysis: ContentAnalysis): boolean { 
    return analysis.diagramHints.length > 0 || 
           analysis.type === 'systemDesign' || 
           (analysis.type === 'leetcode' && 
            analysis.problemMetadata?.dataStructures?.some(ds => 
              ['tree', 'graph', 'linked list'].includes(ds.toLowerCase())
            ) === true); 
  }

  private shouldCreateSlides(analysis: ContentAnalysis): boolean {
    return (analysis.shouldVisualize) &&
           (analysis.wordCount > 300 ||
            analysis.codeBlocks.length > 0 ||
            analysis.type === 'leetcode' ||
            analysis.type === 'systemDesign');
  }

  private planSlides(content: string, analysis: ContentAnalysis): { count: number; duration: number; topics: string[] } {
    const topics: string[] = [];
    
    if (analysis.type === 'leetcode') { 
      topics.push('Problem Statement', 'Approach & Logic'); 
      if (analysis.codeBlocks.length > 0) topics.push('Code Implementation'); 
      if (analysis.complexity) topics.push('Complexity Analysis');
    } else if (analysis.type === 'systemDesign') { 
      topics.push('Requirements & Goals', 'High-Level Architecture', 'Components Deep-Dive', 'Trade-offs & Scalability');
    } else { 
      // Extract headers or create sections based on content
      const headers = content.match(/^#{1,3}\s+(.+)$/gm); 
      if (headers && headers.length > 1) { 
        topics.push(...headers.map(h => h.replace(/^#+\s+/, '').trim()).slice(0,5)); 
      } else { 
        const sections = Math.min(5, Math.max(1, Math.ceil(analysis.wordCount / 200))); 
        for (let i = 1; i <= sections; i++) topics.push(`Key Section ${i}`); 
      } 
    }
    
    if (topics.length === 0) topics.push(analysis.displayTitle || "Overview");
    
    // Calculate appropriate slide duration
    const baseDuration = Math.max(5000, Math.min(15000, 
      Math.round(analysis.estimatedReadTime / Math.max(1, topics.length)) * 1000
    ));
    
    return { 
      count: topics.length, 
      duration: baseDuration, 
      topics 
    };
  }

  public generateEnhancedPrompt(analysis: ContentAnalysis, originalSystemPrompt: string, language: string): string {
    let enhancedPrompt = originalSystemPrompt; 
    const langOrDefault = language || 'python';
    
    enhancedPrompt += `\n\n## Content Analysis Insights (for AI model awareness):
- Detected Content Type: ${analysis.type}
- Detected Subtype/Topic: ${analysis.subtype || 'N/A'}
- Primary Language (if code present): ${analysis.language || 'N/A'}
- Estimated Reading Time: ${Math.ceil(analysis.estimatedReadTime / 60)} minutes
- Keywords: ${analysis.keywords.join(', ')}
- Confidence Score: ${(analysis.confidence * 100).toFixed(1)}%`;

    if (analysis.type === 'leetcode') { 
      enhancedPrompt += `\n- LeetCode Problem Metadata: 
  - Difficulty: ${analysis.problemMetadata?.difficulty || 'N/A'}
  - Data Structures: ${analysis.problemMetadata?.dataStructures?.join(', ') || 'N/A'}
  - Algorithms: ${analysis.problemMetadata?.algorithms?.join(', ') || 'N/A'}`;
      
      enhancedPrompt += `\n\n## Instructions for LeetCode Problem Response:
1. **Problem Understanding:** Briefly re-state the problem and clarify any constraints
2. **Solution Approach:** Clearly explain your main approach and reasoning
3. **Code Implementation:** Provide a complete, correct, and runnable solution in \`\`\`${langOrDefault}
   // Your solution here
   \`\`\`
4. **Complexity Analysis:** Include time and space complexity with explanation
5. **(Optional) Alternative Approaches:** Mention other possible solutions if relevant`;

    } else if (analysis.type === 'systemDesign') { 
      enhancedPrompt += `\n- System Design Keywords: ${analysis.keywords.filter(kw => 
        this.patterns.systemDesign.keywords.includes(kw)).join(', ') || 'N/A'}`;
      
      enhancedPrompt += `\n\n## Instructions for System Design Response:
1. **Requirements Clarification:** Ask clarifying questions if needed
2. **High-Level Design:** Provide overall architecture overview
3. **Component Deep-Dive:** Detail key components and their interactions
4. **Data Storage & Schema:** Discuss database design and data flow
5. **Scalability and Availability:** Address performance and reliability concerns
6. **API Design:** Provide example API endpoints if relevant
7. **Trade-offs:** Discuss pros/cons of design decisions`;

    } else if (analysis.type === 'tutorial') { 
      enhancedPrompt += `\n\n## Instructions for Tutorial Response:
Provide a clear, step-by-step tutorial. Include code examples in \`\`\`${analysis.language || langOrDefault}
// Your code examples here
\`\`\` where appropriate. Make it practical and actionable.`;

    } else if (analysis.type === 'concept') { 
      enhancedPrompt += `\n\n## Instructions for Concept Explanation:
Explain the concept clearly and concisely. Use analogies or examples where helpful. 
If relevant, include simple code examples to illustrate the concept.`;
    }
    
    if (analysis.shouldGenerateDiagram && analysis.diagramHints.length > 0) { 
      const topHint = analysis.diagramHints[0]; 
      enhancedPrompt += `\n\n**Diagram Request:** Please include a ${topHint.type} diagram using Mermaid syntax:
\`\`\`mermaid
${topHint.mermaidCode}
\`\`\`
Feel free to modify or enhance this diagram as appropriate.`; 
    }
    
    if (analysis.shouldCreateSlides) { 
      enhancedPrompt += `\n\n**Presentation Structure:** Please structure your response with clear Markdown headings for sections like:
${analysis.slideTopics.map(topic => `- ## ${topic}`).join('\n')}
This will make the content more scannable and organized.`; 
    }
    
    enhancedPrompt += `\n\nEnsure your response is well-formatted with Markdown, be accurate and helpful, and adapt your tone to match the content type detected.`;
    
    return enhancedPrompt;
  }
}

--- FILE: backend/routes/cost.ts (Relevance: 0.24) ---

// backend/utils/cost.ts
import dotenv from 'dotenv';
import path from 'path';
import { fileURLToPath } from 'url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

// Load environment variables from root directory
dotenv.config({ path: path.resolve(__dirname, '../../../.env') });

// Model cost configurations (since models.js is missing)
const MODEL_CONFIGS: Record<string, { inputCostPer1K: number; outputCostPer1K: number; contextWindow: number }> = {
  'gpt-4o': { inputCostPer1K: 0.005, outputCostPer1K: 0.015, contextWindow: 128000 },
  'gpt-4o-mini': { inputCostPer1K: 0.00015, outputCostPer1K: 0.0006, contextWindow: 128000 },
  'gpt-4': { inputCostPer1K: 0.03, outputCostPer1K: 0.06, contextWindow: 8192 },
  'gpt-3.5-turbo': { inputCostPer1K: 0.001, outputCostPer1K: 0.002, contextWindow: 4096 },
};

const COST_THRESHOLD = parseFloat(process.env.COST_THRESHOLD || '20.00');
const WHISPER_COST_PER_MINUTE = 0.006;

export interface SessionCostDetail {
  totalCost: number;
  whisperCost: number;
  llmCost: number;
  lastUpdated: number;
  interactions: number;
}

// In-memory store for session costs
const sessionCosts = new Map<string, SessionCostDetail>();

/**
 * Initialize session cost data for a user
 */
function initializeSessionCost(userId: string): SessionCostDetail {
  if (!sessionCosts.has(userId)) {
    sessionCosts.set(userId, {
      totalCost: 0,
      whisperCost: 0,
      llmCost: 0,
      lastUpdated: Date.now(),
      interactions: 0,
    });
  }
  return sessionCosts.get(userId)!;
}

/**
 * Track cost for LLM calls
 * @param userId - User identifier
 * @param modelName - Name of the model used
 * @param promptTokens - Number of input tokens
 * @param completionTokens - Number of output tokens
 * @returns Total session cost
 */
export function trackCost(
  userId: string,
  modelName: string,
  promptTokens: number,
  completionTokens: number
): number {
  const session = initializeSessionCost(userId);
  const modelConfig = MODEL_CONFIGS[modelName] || MODEL_CONFIGS['gpt-4o'];

  let cost = 0;
  if (modelConfig) {
    const inputCost = (promptTokens / 1000) * modelConfig.inputCostPer1K;
    const outputCost = (completionTokens / 1000) * modelConfig.outputCostPer1K;
    cost = inputCost + outputCost;
  } else {
    console.warn(`Cost configuration for model ${modelName} not found. Using default calculation.`);
    cost = ((promptTokens + completionTokens) / 1000) * 0.01;
  }
  
  session.llmCost += cost;
  session.totalCost += cost;
  session.interactions += 1;
  session.lastUpdated = Date.now();
  
  console.log(`LLM Cost for ${modelName} (User: ${userId}): $${cost.toFixed(6)}. Session total: $${session.totalCost.toFixed(6)}`);
  return session.totalCost;
}

/**
 * Track cost for LLM calls (alias for trackCost for compatibility)
 */
export const trackLlmCost = trackCost;

/**
 * Track cost for Whisper transcription
 * @param userId - User identifier  
 * @param durationMinutes - Duration of audio in minutes
 * @returns Total session cost
 */
export function trackWhisperCost(
  userId: string,
  durationMinutes: number
): number {
  const session = initializeSessionCost(userId);
  // Whisper bills for a minimum of 0.01 minutes
  const billableMinutes = Math.max(durationMinutes, 0.01);
  const cost = billableMinutes * WHISPER_COST_PER_MINUTE;
  
  session.whisperCost += cost;
  session.totalCost += cost;
  session.interactions += 1;
  session.lastUpdated = Date.now();
  
  console.log(`Whisper Cost (User: ${userId}): $${cost.toFixed(6)} for ${durationMinutes.toFixed(2)} min. Session total: $${session.totalCost.toFixed(6)}`);
  return session.totalCost;
}

/**
 * Alternative name for trackWhisperCost for compatibility
 */
export const trackWhisperServiceCost = trackWhisperCost;

/**
 * Get current session cost details
 * @param userId - User identifier
 * @returns Session cost details
 */
export function getSessionCost(userId: string): SessionCostDetail {
  return initializeSessionCost(userId);
}

/**
 * Check if cost threshold has been reached
 * @param userId - User identifier  
 * @returns True if threshold reached
 */
export function isThresholdReached(userId: string): boolean {
  const session = sessionCosts.get(userId);
  return session ? session.totalCost >= COST_THRESHOLD : false;
}

/**
 * Reset session cost for a user
 * @param userId - User identifier
 * @returns New session cost details
 */
export function resetSessionCost(userId: string): SessionCostDetail {
  console.log(`Resetting session cost for user: ${userId}`);
  sessionCosts.set(userId, {
    totalCost: 0,
    whisperCost: 0,
    llmCost: 0,
    lastUpdated: Date.now(),
    interactions: 0,
  });
  return sessionCosts.get(userId)!;
}

// Clean up old sessions periodically (24 hours of inactivity)
setInterval(() => {
  const now = Date.now();
  for (const [userId, session] of sessionCosts.entries()) {
    if (now - session.lastUpdated > 24 * 60 * 60 * 1000) {
      sessionCosts.delete(userId);
      console.log(`Cleaned up inactive session for user: ${userId}`);
    }
  }
}, 60 * 60 * 1000); // Check every hour

--- FILE: backend/config/auth.ts (Relevance: 0.24) ---

import { Request, Response, NextFunction } from 'express';
import dotenv from 'dotenv';

dotenv.config();

// Simple password authentication middleware
export const authMiddleware = (req: Request, res: Response, next: NextFunction) => {
  // Skip auth check for login route
  if (req.path === '/auth') {
    return next();
  }

  const authHeader = req.headers.authorization;
  const password = process.env.PASSWORD;

  if (!password) {
    console.warn('No password set in environment variables');
    return next();
  }

  if (!authHeader || !authHeader.startsWith('Bearer ')) {
    return res.status(401).json({ message: 'Unauthorized: Missing authentication token' });
  }

  const token = authHeader.split(' ')[1];
  
  if (token !== password) {
    return res.status(401).json({ message: 'Unauthorized: Invalid authentication token' });
  }

  next();
};

--- FILE: frontend/package-lock.json (Relevance: 0.19) ---

{
  "name": "voice-coding-assistant-frontend",
  "version": "1.0.0",
  "lockfileVersion": 3,
  "requires": true,
  "packages": {
    "": {
      "name": "voice-coding-assistant-frontend",
      "version": "1.0.0",
      "dependencies": {
        "@headlessui/vue": "^1.7.16",
        "@heroicons/vue": "^2.2.0",
        "@vueuse/core": "^10.6.1",
        "axios": "^1.6.2",
        "highlight.js": "^11.11.1",
        "localforage": "^1.10.0",
        "marked": "^10.0.0",
        "mermaid": "^10.9.3",
        "page-flip": "^2.0.7",
        "pinia": "^2.1.7",
        "vue": "^3.3.8",
        "vue-router": "^4.2.5"
      },
      "devDependencies": {
        "@tailwindcss/typography": "^0.5.10",
        "@types/marked": "^6.0.0",
        "@types/node": "^20.10.0",
        "@vitejs/plugin-vue": "^4.5.0",
        "autoprefixer": "^10.4.16",
        "postcss": "^8.4.31",
        "tailwindcss": "^3.3.5",
        "typescript": "^5.3.2",
        "vite": "^5.0.0",
        "vue-tsc": "^2.2.10"
      }
    },
    "node_modules/@alloc/quick-lru": {
      "version": "5.2.0",
      "resolved": "https://registry.npmjs.org/@alloc/quick-lru/-/quick-lru-5.2.0.tgz",
      "integrity": "sha512-UrcABB+4bUrFABwbluTIBErXwvbsU/V7TZWfmbgJfbkwiBuziS9gxdODUyuiecfdGQ85jglMW6juS3+z5TsKLw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/@babel/helper-string-parser": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/helper-string-parser/-/helper-string-parser-7.27.1.tgz",
      "integrity": "sha512-qMlSxKbpRlAridDExk92nSobyDdpPijUq2DW6oDnUqd0iOGxmQjyqhMIihI9+zv4LPyZdRje2cavWPbCbWm3eA==",
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-validator-identifier": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/helper-validator-identifier/-/helper-validator-identifier-7.27.1.tgz",
      "integrity": "sha512-D2hP9eA+Sqx1kBZgzxZh0y1trbuU+JoDkiEwqhQ36nodYqJwyEIhPSdMNd7lOm/4io72luTPWH20Yda0xOuUow==",
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/parser": {
      "version": "7.27.2",
      "resolved": "https://registry.npmjs.org/@babel/parser/-/parser-7.27.2.tgz",
      "integrity": "sha512-QYLs8299NA7WM/bZAdp+CviYYkVoYXlDW2rzliy3chxd1PQjej7JORuMJDJXJUb9g0TT+B99EwaVLKmX+sPXWw==",
      "license": "MIT",
      "dependencies": {
        "@babel/types": "^7.27.1"
      },
      "bin": {
        "parser": "bin/babel-parser.js"
      },
      "engines": {
        "node": ">=6.0.0"
      }
    },
    "node_modules/@babel/types": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/types/-/types-7.27.1.tgz",
      "integrity": "sha512-+EzkxvLNfiUeKMgy/3luqfsCWFRXLb7U6wNQTk60tovuckwB15B191tJWvpp4HjiQWdJkCxO3Wbvc6jlk3Xb2Q==",
      "license": "MIT",
      "dependencies": {
        "@babel/helper-string-parser": "^7.27.1",
        "@babel/helper-validator-identifier": "^7.27.1"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@braintree/sanitize-url": {
      "version": "6.0.4",
      "resolved": "https://registry.npmjs.org/@braintree/sanitize-url/-/sanitize-url-6.0.4.tgz",
      "integrity": "sha512-s3jaWicZd0pkP0jf5ysyHUI/RE7MHos6qlToFcGWXVp+ykHOy77OUMrfbgJ9it2C5bow7OIQwYYaHjk9XlBQ2A==",
      "license": "MIT"
    },
    "node_modules/@esbuild/aix-ppc64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/aix-ppc64/-/aix-ppc64-0.21.5.tgz",
      "integrity": "sha512-1SDgH6ZSPTlggy1yI6+Dbkiz8xzpHJEVAlF/AM1tHPLsf5STom9rwtjE4hKAF20FfXXNTFqEYXyJNWh1GiZedQ==",
      "cpu": [
        "ppc64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "aix"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/android-arm": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/android-arm/-/android-arm-0.21.5.tgz",
      "integrity": "sha512-vCPvzSjpPHEi1siZdlvAlsPxXl7WbOVUBBAowWug4rJHb68Ox8KualB+1ocNvT5fjv6wpkX6o/iEpbDrf68zcg==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/android-arm64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/android-arm64/-/android-arm64-0.21.5.tgz",
      "integrity": "sha512-c0uX9VAUBQ7dTDCjq+wdyGLowMdtR/GoC2U5IYk/7D1H1JYC0qseD7+11iMP2mRLN9RcCMRcjC4YMclCzGwS/A==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/android-x64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/android-x64/-/android-x64-0.21.5.tgz",
      "integrity": "sha512-D7aPRUUNHRBwHxzxRvp856rjUHRFW1SdQATKXH2hqA0kAZb1hKmi02OpYRacl0TxIGz/ZmXWlbZgjwWYaCakTA==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/darwin-arm64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/darwin-arm64/-/darwin-arm64-0.21.5.tgz",
      "integrity": "sha512-DwqXqZyuk5AiWWf3UfLiRDJ5EDd49zg6O9wclZ7kUMv2WRFr4HKjXp/5t8JZ11QbQfUS6/cRCKGwYhtNAY88kQ==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/darwin-x64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/darwin-x64/-/darwin-x64-0.21.5.tgz",
      "integrity": "sha512-se/JjF8NlmKVG4kNIuyWMV/22ZaerB+qaSi5MdrXtd6R08kvs2qCN4C09miupktDitvh8jRFflwGFBQcxZRjbw==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/freebsd-arm64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/freebsd-arm64/-/freebsd-arm64-0.21.5.tgz",
      "integrity": "sha512-5JcRxxRDUJLX8JXp/wcBCy3pENnCgBR9bN6JsY4OmhfUtIHe3ZW0mawA7+RDAcMLrMIZaf03NlQiX9DGyB8h4g==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "freebsd"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/freebsd-x64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/freebsd-x64/-/freebsd-x64-0.21.5.tgz",
      "integrity": "sha512-J95kNBj1zkbMXtHVH29bBriQygMXqoVQOQYA+ISs0/2l3T9/kj42ow2mpqerRBxDJnmkUDCaQT/dfNXWX/ZZCQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "freebsd"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/linux-arm": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-arm/-/linux-arm-0.21.5.tgz",
      "integrity": "sha512-bPb5AHZtbeNGjCKVZ9UGqGwo8EUu4cLq68E95A53KlxAPRmUyYv2D6F0uUI65XisGOL1hBP5mTronbgo+0bFcA==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/linux-arm64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-arm64/-/linux-arm64-0.21.5.tgz",
      "integrity": "sha512-ibKvmyYzKsBeX8d8I7MH/TMfWDXBF3db4qM6sy+7re0YXya+K1cem3on9XgdT2EQGMu4hQyZhan7TeQ8XkGp4Q==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/linux-ia32": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-ia32/-/linux-ia32-0.21.5.tgz",
      "integrity": "sha512-YvjXDqLRqPDl2dvRODYmmhz4rPeVKYvppfGYKSNGdyZkA01046pLWyRKKI3ax8fbJoK5QbxblURkwK/MWY18Tg==",
      "cpu": [
        "ia32"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/linux-loong64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-loong64/-/linux-loong64-0.21.5.tgz",
      "integrity": "sha512-uHf1BmMG8qEvzdrzAqg2SIG/02+4/DHB6a9Kbya0XDvwDEKCoC8ZRWI5JJvNdUjtciBGFQ5PuBlpEOXQj+JQSg==",
      "cpu": [
        "loong64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/linux-mips64el": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-mips64el/-/linux-mips64el-0.21.5.tgz",
      "integrity": "sha512-IajOmO+KJK23bj52dFSNCMsz1QP1DqM6cwLUv3W1QwyxkyIWecfafnI555fvSGqEKwjMXVLokcV5ygHW5b3Jbg==",
      "cpu": [
        "mips64el"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/linux-ppc64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-ppc64/-/linux-ppc64-0.21.5.tgz",
      "integrity": "sha512-1hHV/Z4OEfMwpLO8rp7CvlhBDnjsC3CttJXIhBi+5Aj5r+MBvy4egg7wCbe//hSsT+RvDAG7s81tAvpL2XAE4w==",
      "cpu": [
        "ppc64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/linux-riscv64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-riscv64/-/linux-riscv64-0.21.5.tgz",
      "integrity": "sha512-2HdXDMd9GMgTGrPWnJzP2ALSokE/0O5HhTUvWIbD3YdjME8JwvSCnNGBnTThKGEB91OZhzrJ4qIIxk/SBmyDDA==",
      "cpu": [
        "riscv64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/linux-s390x": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-s390x/-/linux-s390x-0.21.5.tgz",
      "integrity": "sha512-zus5sxzqBJD3eXxwvjN1yQkRepANgxE9lgOW2qLnmr8ikMTphkjgXu1HR01K4FJg8h1kEEDAqDcZQtbrRnB41A==",
      "cpu": [
        "s390x"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/linux-x64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-x64/-/linux-x64-0.21.5.tgz",
      "integrity": "sha512-1rYdTpyv03iycF1+BhzrzQJCdOuAOtaqHTWJZCWvijKD2N5Xu0TtVC8/+1faWqcP9iBCWOmjmhoH94dH82BxPQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/netbsd-x64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/netbsd-x64/-/netbsd-x64-0.21.5.tgz",
      "integrity": "sha512-Woi2MXzXjMULccIwMnLciyZH4nCIMpWQAs049KEeMvOcNADVxo0UBIQPfSmxB3CWKedngg7sWZdLvLczpe0tLg==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "netbsd"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/openbsd-x64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/openbsd-x64/-/openbsd-x64-0.21.5.tgz",
      "integrity": "sha512-HLNNw99xsvx12lFBUwoT8EVCsSvRNDVxNpjZ7bPn947b8gJPzeHWyNVhFsaerc0n3TsbOINvRP2byTZ5LKezow==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "openbsd"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/sunos-x64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/sunos-x64/-/sunos-x64-0.21.5.tgz",
      "integrity": "sha512-6+gjmFpfy0BHU5Tpptkuh8+uw3mnrvgs+dSPQXQOv3ekbordwnzTVEb4qnIvQcYXq6gzkyTnoZ9dZG+D4garKg==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "sunos"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/win32-arm64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/win32-arm64/-/win32-arm64-0.21.5.tgz",
      "integrity": "sha512-Z0gOTd75VvXqyq7nsl93zwahcTROgqvuAcYDUr+vOv8uHhNSKROyU961kgtCD1e95IqPKSQKH7tBTslnS3tA8A==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/win32-ia32": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/win32-ia32/-/win32-ia32-0.21.5.tgz",
      "integrity": "sha512-SWXFF1CL2RVNMaVs+BBClwtfZSvDgtL//G/smwAc5oVK/UPu2Gu9tIaRgFmYFFKrmg3SyAjSrElf0TiJ1v8fYA==",
      "cpu": [
        "ia32"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/win32-x64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/win32-x64/-/win32-x64-0.21.5.tgz",
      "integrity": "sha512-tQd/1efJuzPC6rCFwEvLtci/xNFcTZknmXs98FYDfGE4wP9ClFV98nyKrzJKVPMhdDnjzLhdUyMX4PsQAPjwIw==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@headlessui/vue": {
      "version": "1.7.23",
      "resolved": "https://registry.npmjs.org/@headlessui/vue/-/vue-1.7.23.tgz",
      "integrity": "sha512-JzdCNqurrtuu0YW6QaDtR2PIYCKPUWq28csDyMvN4zmGccmE7lz40Is6hc3LA4HFeCI7sekZ/PQMTNmn9I/4Wg==",
      "license": "MIT",
      "dependencies": {
        "@tanstack/vue-virtual": "^3.0.0-beta.60"
      },
      "engines": {
        "node": ">=10"
      },
      "peerDependencies": {
        "vue": "^3.2.0"
      }
    },
    "node_modules/@heroicons/vue": {
      "version": "2.2.0",
      "resolved": "https://registry.npmjs.org/@heroicons/vue/-/vue-2.2.0.tgz",
      "integrity": "sha512-G3dbSxoeEKqbi/DFalhRxJU4mTXJn7GwZ7ae8NuEQzd1bqdd0jAbdaBZlHPcvPD2xI1iGzNVB4k20Un2AguYPw==",
      "license": "MIT",
      "peerDependencies": {
        "vue": ">= 3"
      }
    },
    "node_modules/@isaacs/cliui": {
      "version": "8.0.2",
      "resolved": "https://registry.npmjs.org/@isaacs/cliui/-/cliui-8.0.2.tgz",
      "integrity": "sha512-O8jcjabXaleOG9DQ0+ARXWZBTfnP4WNAqzuiJK7ll44AmxGKv/J2M4TPjxjY3znBCfvBXFzucm1twdyFybFqEA==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "string-width": "^5.1.2",
        "string-width-cjs": "npm:string-width@^4.2.0",
        "strip-ansi": "^7.0.1",
        "strip-ansi-cjs": "npm:strip-ansi@^6.0.1",
        "wrap-ansi": "^8.1.0",
        "wrap-ansi-cjs": "npm:wrap-ansi@^7.0.0"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@jridgewell/gen-mapping": {
      "version": "0.3.8",
      "resolved": "https://registry.npmjs.org/@jridgewell/gen-mapping/-/gen-mapping-0.3.8.tgz",
      "integrity": "sha512-imAbBGkb+ebQyxKgzv5Hu2nmROxoDOXHh80evxdoXNOrvAnVx7zimzc1Oo5h9RlfV4vPXaE2iM5pOFbvOCClWA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jridgewell/set-array": "^1.2.1",
        "@jridgewell/sourcemap-codec": "^1.4.10",
        "@jridgewell/trace-mapping": "^0.3.24"
      },
      "engines": {
        "node": ">=6.0.0"
      }
    },
    "node_modules/@jridgewell/resolve-uri": {
      "version": "3.1.2",
      "resolved": "https://registry.npmjs.org/@jridgewell/resolve-uri/-/resolve-uri-3.1.2.tgz",
      "integrity": "sha512-bRISgCIjP20/tbWSPWMEi54QVPRZExkuD9lJL+UIxUKtwVJA8wW1Trb1jMs1RFXo1CBTNZ/5hpC9QvmKWdopKw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.0.0"
      }
    },
    "node_modules/@jridgewell/set-array": {
      "version": "1.2.1",
      "resolved": "https://registry.npmjs.org/@jridgewell/set-array/-/set-array-1.2.1.tgz",
      "integrity": "sha512-R8gLRTZeyp03ymzP/6Lil/28tGeGEzhx1q2k703KGWRAI1VdvPIXdG70VJc2pAMw3NA6JKL5hhFu1sJX0Mnn/A==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.0.0"
      }
    },
    "node_modules/@jridgewell/sourcemap-codec": {
      "version": "1.5.0",
      "resolved": "https://registry.npmjs.org/@jridgewell/sourcemap-codec/-/sourcemap-codec-1.5.0.tgz",
      "integrity": "sha512-gv3ZRaISU3fjPAgNsriBRqGWQL6quFx04YMPW/zD8XMLsU32mhCCbfbO6KZFLjvYpCZ8zyDEgqsgf+PwPaM7GQ==",
      "license": "MIT"
    },
    "node_modules/@jridgewell/trace-mapping": {
      "version": "0.3.25",
      "resolved": "https://registry.npmjs.org/@jridgewell/trace-mapping/-/trace-mapping-0.3.25.tgz",
      "integrity": "sha512-vNk6aEwybGtawWmy/PzwnGDOjCkLWSD2wqvjGGAgOAwCGWySYXfYoxt00IJkTF+8Lb57DwOb3Aa0o9CApepiYQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jridgewell/resolve-uri": "^3.1.0",
        "@jridgewell/sourcemap-codec": "^1.4.14"
      }
    },
    "node_modules/@nodelib/fs.scandir": {
      "version": "2.1.5",
      "resolved": "https://registry.npmjs.org/@nodelib/fs.scandir/-/fs.scandir-2.1.5.tgz",
      "integrity": "sha512-vq24Bq3ym5HEQm2NKCr3yXDwjc7vTsEThRDnkp2DK9p1uqLR+DHurm/NOTo0KG7HYHU7eppKZj3MyqYuMBf62g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@nodelib/fs.stat": "2.0.5",
        "run-parallel": "^1.1.9"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/@nodelib/fs.stat": {
      "version": "2.0.5",
      "resolved": "https://registry.npmjs.org/@nodelib/fs.stat/-/fs.stat-2.0.5.tgz",
      "integrity": "sha512-RkhPPp2zrqDAQA/2jNhnztcPAlv64XdhIp7a7454A5ovI7Bukxgt7MX7udwAu3zg1DcpPU0rz3VV1SeaqvY4+A==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/@nodelib/fs.walk": {
      "version": "1.2.8",
      "resolved": "https://registry.npmjs.org/@nodelib/fs.walk/-/fs.walk-1.2.8.tgz",
      "integrity": "sha512-oGB+UxlgWcgQkgwo8GcEGwemoTFt3FIO9ababBmaGwXIoBKZ+GTy0pP185beGg7Llih/NSHSV2XAs1lnznocSg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@nodelib/fs.scandir": "2.1.5",
        "fastq": "^1.6.0"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/@pkgjs/parseargs": {
      "version": "0.11.0",
      "resolved": "https://registry.npmjs.org/@pkgjs/parseargs/-/parseargs-0.11.0.tgz",
      "integrity": "sha512-+1VkjdD0QBLPodGrJUeqarH8VAIvQODIbwh9XpP5Syisf7YoQgsJKPNFoqqLQlu+VQ/tVSshMR6loPMn8U+dPg==",
      "dev": true,
      "license": "MIT",
      "optional": true,
      "engines": {
        "node": ">=14"
      }
    },
    "node_modules/@rollup/rollup-android-arm-eabi": {
      "version": "4.41.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-android-arm-eabi/-/rollup-android-arm-eabi-4.41.0.tgz",
      "integrity": "sha512-KxN+zCjOYHGwCl4UCtSfZ6jrq/qi88JDUtiEFk8LELEHq2Egfc/FgW+jItZiOLRuQfb/3xJSgFuNPC9jzggX+A==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ]
    },
    "node_modules/@rollup/rollup-android-arm64": {
      "version": "4.41.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-android-arm64/-/rollup-android-arm64-4.41.0.tgz",
      "integrity": "sha512-yDvqx3lWlcugozax3DItKJI5j05B0d4Kvnjx+5mwiUpWramVvmAByYigMplaoAQ3pvdprGCTCE03eduqE/8mPQ==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ]
    },
    "node_modules/@rollup/rollup-darwin-arm64": {
      "version": "4.41.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-darwin-arm64/-/rollup-darwin-arm64-4.41.0.tgz",
      "integrity": "sha512-2KOU574vD3gzcPSjxO0eyR5iWlnxxtmW1F5CkNOHmMlueKNCQkxR6+ekgWyVnz6zaZihpUNkGxjsYrkTJKhkaw==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ]
    },
    "node_modules/@rollup/rollup-darwin-x64": {
      "version": "4.41.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-darwin-x64/-/rollup-darwin-x64-4.41.0.tgz",
      "integrity": "sha512-gE5ACNSxHcEZyP2BA9TuTakfZvULEW4YAOtxl/A/YDbIir/wPKukde0BNPlnBiP88ecaN4BJI2TtAd+HKuZPQQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ]
    },
    "node_modules/@rollup/rollup-freebsd-arm64": {
      "version": "4.41.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-freebsd-arm64/-/rollup-freebsd-arm64-4.41.0.tgz",
      "integrity": "sha512-GSxU6r5HnWij7FoSo7cZg3l5GPg4HFLkzsFFh0N/b16q5buW1NAWuCJ+HMtIdUEi6XF0qH+hN0TEd78laRp7Dg==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "freebsd"
      ]
    },
    "node_modules/@rollup/rollup-freebsd-x64": {
      "version": "4.41.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-freebsd-x64/-/rollup-freebsd-x64-4.41.0.tgz",
      "integrity": "sha512-KGiGKGDg8qLRyOWmk6IeiHJzsN/OYxO6nSbT0Vj4MwjS2XQy/5emsmtoqLAabqrohbgLWJ5GV3s/ljdrIr8Qjg==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "freebsd"
      ]
    },
    "node_modules/@rollup/rollup-linux-arm-gnueabihf": {
      "version": "4.41.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm-gnueabihf/-/rollup-linux-arm-gnueabihf-4.41.0.tgz",
      "integrity": "sha512-46OzWeqEVQyX3N2/QdiU/CMXYDH/lSHpgfBkuhl3igpZiaB3ZIfSjKuOnybFVBQzjsLwkus2mjaESy8H41SzvA==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-arm-musleabihf": {
      "version": "4.41.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm-musleabihf/-/rollup-linux-arm-musleabihf-4.41.0.tgz",
      "integrity": "sha512-lfgW3KtQP4YauqdPpcUZHPcqQXmTmH4nYU0cplNeW583CMkAGjtImw4PKli09NFi2iQgChk4e9erkwlfYem6Lg==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-arm64-gnu": {
      "version": "4.41.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm64-gnu/-/rollup-linux-arm64-gnu-4.41.0.tgz",
      "integrity": "sha512-nn8mEyzMbdEJzT7cwxgObuwviMx6kPRxzYiOl6o/o+ChQq23gfdlZcUNnt89lPhhz3BYsZ72rp0rxNqBSfqlqw==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-arm64-musl": {
      "version": "4.41.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm64-musl/-/rollup-linux-arm64-musl-4.41.0.tgz",
      "integrity": "sha512-l+QK99je2zUKGd31Gh+45c4pGDAqZSuWQiuRFCdHYC2CSiO47qUWsCcenrI6p22hvHZrDje9QjwSMAFL3iwXwQ==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-loongarch64-gnu": {
      "version": "4.41.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-loongarch64-gnu/-/rollup-linux-loongarch64-gnu-4.41.0.tgz",
      "integrity": "sha512-WbnJaxPv1gPIm6S8O/Wg+wfE/OzGSXlBMbOe4ie+zMyykMOeqmgD1BhPxZQuDqwUN+0T/xOFtL2RUWBspnZj3w==",
      "cpu": [
        "loong64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-powerpc64le-gnu": {
      "version": "4.41.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-powerpc64le-gnu/-/rollup-linux-powerpc64le-gnu-4.41.0.tgz",
      "integrity": "sha512-eRDWR5t67/b2g8Q/S8XPi0YdbKcCs4WQ8vklNnUYLaSWF+Cbv2axZsp4jni6/j7eKvMLYCYdcsv8dcU+a6QNFg==",
      "cpu": [
        "ppc64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-riscv64-gnu": {
      "version": "4.41.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-riscv64-gnu/-/rollup-linux-riscv64-gnu-4.41.0.tgz",
      "integrity": "sha512-TWrZb6GF5jsEKG7T1IHwlLMDRy2f3DPqYldmIhnA2DVqvvhY2Ai184vZGgahRrg8k9UBWoSlHv+suRfTN7Ua4A==",
      "cpu": [
        "riscv64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-riscv64-musl": {
      "version": "4.41.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-riscv64-musl/-/rollup-linux-riscv64-musl-4.41.0.tgz",
      "integrity": "sha512-ieQljaZKuJpmWvd8gW87ZmSFwid6AxMDk5bhONJ57U8zT77zpZ/TPKkU9HpnnFrM4zsgr4kiGuzbIbZTGi7u9A==",
      "cpu": [
        "riscv64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-s390x-gnu": {
      "version": "4.41.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-s390x-gnu/-/rollup-linux-s390x-gnu-4.41.0.tgz",
      "integrity": "sha512-/L3pW48SxrWAlVsKCN0dGLB2bi8Nv8pr5S5ocSM+S0XCn5RCVCXqi8GVtHFsOBBCSeR+u9brV2zno5+mg3S4Aw==",
      "cpu": [
        "s390x"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-x64-gnu": {
      "version": "4.41.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-x64-gnu/-/rollup-linux-x64-gnu-4.41.0.tgz",
      "integrity": "sha512-XMLeKjyH8NsEDCRptf6LO8lJk23o9wvB+dJwcXMaH6ZQbbkHu2dbGIUindbMtRN6ux1xKi16iXWu6q9mu7gDhQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-x64-musl": {
      "version": "4.41.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-x64-musl/-/rollup-linux-x64-musl-4.41.0.tgz",
      "integrity": "sha512-m/P7LycHZTvSQeXhFmgmdqEiTqSV80zn6xHaQ1JSqwCtD1YGtwEK515Qmy9DcB2HK4dOUVypQxvhVSy06cJPEg==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-win32-arm64-msvc": {
      "version": "4.41.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-arm64-msvc/-/rollup-win32-arm64-msvc-4.41.0.tgz",
      "integrity": "sha512-4yodtcOrFHpbomJGVEqZ8fzD4kfBeCbpsUy5Pqk4RluXOdsWdjLnjhiKy2w3qzcASWd04fp52Xz7JKarVJ5BTg==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ]
    },
    "node_modules/@rollup/rollup-win32-ia32-msvc": {
      "version": "4.41.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-ia32-msvc/-/rollup-win32-ia32-msvc-4.41.0.tgz",
      "integrity": "sha512-tmazCrAsKzdkXssEc65zIE1oC6xPHwfy9d5Ta25SRCDOZS+I6RypVVShWALNuU9bxIfGA0aqrmzlzoM5wO5SPQ==",
      "cpu": [
        "ia32"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ]
    },
    "node_modules/@rollup/rollup-win32-x64-msvc": {
      "version": "4.41.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-x64-msvc/-/rollup-win32-x64-msvc-4.41.0.tgz",
      "integrity": "sha512-h1J+Yzjo/X+0EAvR2kIXJDuTuyT7drc+t2ALY0nIcGPbTatNOf0VWdhEA2Z4AAjv6X1NJV7SYo5oCTYRJhSlVA==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ]
    },
    "node_modules/@tailwindcss/typography": {
      "version": "0.5.16",
      "resolved": "https://registry.npmjs.org/@tailwindcss/typography/-/typography-0.5.16.tgz",
      "integrity": "sha512-0wDLwCVF5V3x3b1SGXPCDcdsbDHMBe+lkFzBRaHeLvNi+nrrnZ1lA18u+OTWO8iSWU2GxUOCvlXtDuqftc1oiA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "lodash.castarray": "^4.4.0",
        "lodash.isplainobject": "^4.0.6",
        "lodash.merge": "^4.6.2",
        "postcss-selector-parser": "6.0.10"
      },
      "peerDependencies": {
        "tailwindcss": ">=3.0.0 || insiders || >=4.0.0-alpha.20 || >=4.0.0-beta.1"
      }
    },
    "node_modules/@tanstack/virtual-core": {
      "version": "3.13.9",
      "resolved": "https://registry.npmjs.org/@tanstack/virtual-core/-/virtual-core-3.13.9.tgz",
      "integrity": "sha512-3jztt0jpaoJO5TARe2WIHC1UQC3VMLAFUW5mmMo0yrkwtDB2AQP0+sh10BVUpWrnvHjSLvzFizydtEGLCJKFoQ==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/tannerlinsley"
      }
    },
    "node_modules/@tanstack/vue-virtual": {
      "version": "3.13.9",
      "resolved": "https://registry.npmjs.org/@tanstack/vue-virtual/-/vue-virtual-3.13.9.tgz",
      "integrity": "sha512-HsvHaOo+o52cVcPhomKDZ3CMpTF/B2qg+BhPHIQJwzn4VIqDyt/rRVqtIomG6jE83IFsE2vlr6cmx7h3dHA0SA==",
      "license": "MIT",
      "dependencies": {
        "@tanstack/virtual-core": "3.13.9"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/tannerlinsley"
      },
      "peerDependencies": {
        "vue": "^2.7.0 || ^3.0.0"
      }
    },
    "node_modules/@types/d3-scale": {
      "version": "4.0.9",
      "resolved": "https://registry.npmjs.org/@types/d3-scale/-/d3-scale-4.0.9.tgz",
      "integrity": "sha512-dLmtwB8zkAeO/juAMfnV+sItKjlsw2lKdZVVy6LRr0cBmegxSABiLEpGVmSJJ8O08i4+sGR6qQtb6WtuwJdvVw==",
      "license": "MIT",
      "dependencies": {
        "@types/d3-time": "*"
      }
    },
    "node_modules/@types/d3-scale-chromatic": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/@types/d3-scale-chromatic/-/d3-scale-chromatic-3.1.0.tgz",
      "integrity": "sha512-iWMJgwkK7yTRmWqRB5plb1kadXyQ5Sj8V/zYlFGMUBbIPKQScw+Dku9cAAMgJG+z5GYDoMjWGLVOvjghDEFnKQ==",
      "license": "MIT"
    },
    "node_modules/@types/d3-time": {
      "version": "3.0.4",
      "resolved": "https://registry.npmjs.org/@types/d3-time/-/d3-time-3.0.4.tgz",
      "integrity": "sha512-yuzZug1nkAAaBlBBikKZTgzCeA+k1uy4ZFwWANOfKw5z5LRhV0gNA7gNkKm7HoK+HRN0wX3EkxGk0fpbWhmB7g==",
      "license": "MIT"
    },
    "node_modules/@types/debug": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@types/debug/-/debug-4.1.12.tgz",
      "integrity": "sha512-vIChWdVG3LG1SMxEvI/AK+FWJthlrqlTu7fbrlywTkkaONwk/UAGaULXRlf8vkzFBLVm0zkMdCquhL5aOjhXPQ==",
      "license": "MIT",
      "dependencies": {
        "@types/ms": "*"
      }
    },
    "node_modules/@types/estree": {
      "version": "1.0.7",
      "resolved": "https://registry.npmjs.org/@types/estree/-/estree-1.0.7.tgz",
      "integrity": "sha512-w28IoSUCJpidD/TGviZwwMJckNESJZXFu7NBZ5YJ4mEUnNraUn9Pm8HSZm/jDF1pDWYKspWE7oVphigUPRakIQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@types/marked": {
      "version": "6.0.0",
      "resolved": "https://registry.npmjs.org/@types/marked/-/marked-6.0.0.tgz",
      "integrity": "sha512-jmjpa4BwUsmhxcfsgUit/7A9KbrC48Q0q8KvnY107ogcjGgTFDlIL3RpihNpx2Mu1hM4mdFQjoVc4O6JoGKHsA==",
      "deprecated": "This is a stub types definition. marked provides its own type definitions, so you do not need this installed.",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "marked": "*"
      }
    },
    "node_modules/@types/mdast": {
      "version": "3.0.15",
      "resolved": "https://registry.npmjs.org/@types/mdast/-/mdast-3.0.15.tgz",
      "integrity": "sha512-LnwD+mUEfxWMa1QpDraczIn6k0Ee3SMicuYSSzS6ZYl2gKS09EClnJYGd8Du6rfc5r/GZEk5o1mRb8TaTj03sQ==",
      "license": "MIT",
      "dependencies": {
        "@types/unist": "^2"
      }
    },
    "node_modules/@types/ms": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/@types/ms/-/ms-2.1.0.tgz",
      "integrity": "sha512-GsCCIZDE/p3i96vtEqx+7dBUGXrc7zeSK3wwPHIaRThS+9OhWIXRqzs4d6k1SVU8g91DrNRWxWUGhp5KXQb2VA==",
      "license": "MIT"
    },
    "node_modules/@types/node": {
      "version": "20.17.50",
      "resolved": "https://registry.npmjs.org/@types/node/-/node-20.17.50.tgz",
      "integrity": "sha512-Mxiq0ULv/zo1OzOhwPqOA13I81CV/W3nvd3ChtQZRT5Cwz3cr0FKo/wMSsbTqL3EXpaBAEQhva2B8ByRkOIh9A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "undici-types": "~6.19.2"
      }
    },
    "node_modules/@types/unist": {
      "version": "2.0.11",
      "resolved": "https://registry.npmjs.org/@types/unist/-/unist-2.0.11.tgz",
      "integrity": "sha512-CmBKiL6NNo/OqgmMn95Fk9Whlp2mtvIv+KNpQKN2F4SjvrEesubTRWGYSg+BnWZOnlCaSTU1sMpsBOzgbYhnsA==",
      "license": "MIT"
    },
    "node_modules/@types/web-bluetooth": {
      "version": "0.0.20",
      "resolved": "https://registry.npmjs.org/@types/web-bluetooth/-/web-bluetooth-0.0.20.tgz",
      "integrity": "sha512-g9gZnnXVq7gM7v3tJCWV/qw7w+KeOlSHAhgF9RytFyifW6AF61hdT2ucrYhPq9hLs5JIryeupHV3qGk95dH9ow==",
      "license": "MIT"
    },
    "node_modules/@vitejs/plugin-vue": {
      "version": "4.6.2",
      "resolved": "https://registry.npmjs.org/@vitejs/plugin-vue/-/plugin-vue-4.6.2.tgz",
      "integrity": "sha512-kqf7SGFoG+80aZG6Pf+gsZIVvGSCKE98JbiWqcCV9cThtg91Jav0yvYFC9Zb+jKetNGF6ZKeoaxgZfND21fWKw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": "^14.18.0 || >=16.0.0"
      },
      "peerDependencies": {
        "vite": "^4.0.0 || ^5.0.0",
        "vue": "^3.2.25"
      }
    },
    "node_modules/@volar/language-core": {
      "version": "2.4.14",
      "resolved": "https://registry.npmjs.org/@volar/language-core/-/language-core-2.4.14.tgz",
      "integrity": "sha512-X6beusV0DvuVseaOEy7GoagS4rYHgDHnTrdOj5jeUb49fW5ceQyP9Ej5rBhqgz2wJggl+2fDbbojq1XKaxDi6w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@volar/source-map": "2.4.14"
      }
    },
    "node_modules/@volar/source-map": {
      "version": "2.4.14",
      "resolved": "https://registry.npmjs.org/@volar/source-map/-/source-map-2.4.14.tgz",
      "integrity": "sha512-5TeKKMh7Sfxo8021cJfmBzcjfY1SsXsPMMjMvjY7ivesdnybqqS+GxGAoXHAOUawQTwtdUxgP65Im+dEmvWtYQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@volar/typescript": {
      "version": "2.4.14",
      "resolved": "https://registry.npmjs.org/@volar/typescript/-/typescript-2.4.14.tgz",
      "integrity": "sha512-p8Z6f/bZM3/HyCdRNFZOEEzts51uV8WHeN8Tnfnm2EBv6FDB2TQLzfVx7aJvnl8ofKAOnS64B2O8bImBFaauRw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@volar/language-core": "2.4.14",
        "path-browserify": "^1.0.1",
        "vscode-uri": "^3.0.8"
      }
    },
    "node_modules/@vue/compiler-core": {
      "version": "3.5.14",
      "resolved": "https://registry.npmjs.org/@vue/compiler-core/-/compiler-core-3.5.14.tgz",
      "integrity": "sha512-k7qMHMbKvoCXIxPhquKQVw3Twid3Kg4s7+oYURxLGRd56LiuHJVrvFKI4fm2AM3c8apqODPfVJGoh8nePbXMRA==",
      "license": "MIT",
      "dependencies": {
        "@babel/parser": "^7.27.2",
        "@vue/shared": "3.5.14",
        "entities": "^4.5.0",
        "estree-walker": "^2.0.2",
        "source-map-js": "^1.2.1"
      }
    },
    "node_modules/@vue/compiler-dom": {
      "version": "3.5.14",
      "resolved": "https://registry.npmjs.org/@vue/compiler-dom/-/compiler-dom-3.5.14.tgz",
      "integrity": "sha512-1aOCSqxGOea5I80U2hQJvXYpPm/aXo95xL/m/mMhgyPUsKe9jhjwWpziNAw7tYRnbz1I61rd9Mld4W9KmmRoug==",
      "license": "MIT",
      "dependencies": {
        "@vue/compiler-core": "3.5.14",
        "@vue/shared": "3.5.14"
      }
    },
    "node_modules/@vue/compiler-sfc": {
      "version": "3.5.14",
      "resolved": "https://registry.npmjs.org/@vue/compiler-sfc/-/compiler-sfc-3.5.14.tgz",
      "integrity": "sha512-9T6m/9mMr81Lj58JpzsiSIjBgv2LiVoWjIVa7kuXHICUi8LiDSIotMpPRXYJsXKqyARrzjT24NAwttrMnMaCXA==",
      "license": "MIT",
      "dependencies": {
        "@babel/parser": "^7.27.2",
        "@vue/compiler-core": "3.5.14",
        "@vue/compiler-dom": "3.5.14",
        "@vue/compiler-ssr": "3.5.14",
        "@vue/shared": "3.5.14",
        "estree-walker": "^2.0.2",
        "magic-string": "^0.30.17",
        "postcss": "^8.5.3",
        "source-map-js": "^1.2.1"
      }
    },
    "node_modules/@vue/compiler-ssr": {
      "version": "3.5.14",
      "resolved": "https://registry.npmjs.org/@vue/compiler-ssr/-/compiler-ssr-3.5.14.tgz",
      "integrity": "sha512-Y0G7PcBxr1yllnHuS/NxNCSPWnRGH4Ogrp0tsLA5QemDZuJLs99YjAKQ7KqkHE0vCg4QTKlQzXLKCMF7WPSl7Q==",
      "license": "MIT",
      "dependencies": {
        "@vue/compiler-dom": "3.5.14",
        "@vue/shared": "3.5.14"
      }
    },
    "node_modules/@vue/compiler-vue2": {
      "version": "2.7.16",
      "resolved": "https://registry.npmjs.org/@vue/compiler-vue2/-/compiler-vue2-2.7.16.tgz",
      "integrity": "sha512-qYC3Psj9S/mfu9uVi5WvNZIzq+xnXMhOwbTFKKDD7b1lhpnn71jXSFdTQ+WsIEk0ONCd7VV2IMm7ONl6tbQ86A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "de-indent": "^1.0.2",
        "he": "^1.2.0"
      }
    },
    "node_modules/@vue/devtools-api": {
      "version": "6.6.4",
      "resolved": "https://registry.npmjs.org/@vue/devtools-api/-/devtools-api-6.6.4.tgz",
      "integrity": "sha512-sGhTPMuXqZ1rVOk32RylztWkfXTRhuS7vgAKv0zjqk8gbsHkJ7xfFf+jbySxt7tWObEJwyKaHMikV/WGDiQm8g==",
      "license": "MIT"
    },
    "node_modules/@vue/language-core": {
      "version": "2.2.10",
      "resolved": "https://registry.npmjs.org/@vue/language-core/-/language-core-2.2.10.tgz",
      "integrity": "sha512-+yNoYx6XIKuAO8Mqh1vGytu8jkFEOH5C8iOv3i8Z/65A7x9iAOXA97Q+PqZ3nlm2lxf5rOJuIGI/wDtx/riNYw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@volar/language-core": "~2.4.11",
        "@vue/compiler-dom": "^3.5.0",
        "@vue/compiler-vue2": "^2.7.16",
        "@vue/shared": "^3.5.0",
        "alien-signals": "^1.0.3",
        "minimatch": "^9.0.3",
        "muggle-string": "^0.4.1",
        "path-browserify": "^1.0.1"
      },
      "peerDependencies": {
        "typescript": "*"
      },
      "peerDependenciesMeta": {
        "typescript": {
          "optional": true
        }
      }
    },
    "node_modules/@vue/reactivity": {
      "version": "3.5.14",
      "resolved": "https://registry.npmjs.org/@vue/reactivity/-/reactivity-3.5.14.tgz",
      "integrity": "sha512-7cK1Hp343Fu/SUCCO52vCabjvsYu7ZkOqyYu7bXV9P2yyfjUMUXHZafEbq244sP7gf+EZEz+77QixBTuEqkQQw==",
      "license": "MIT",
      "dependencies": {
        "@vue/shared": "3.5.14"
      }
    },
    "node_modules/@vue/runtime-core": {
      "version": "3.5.14",
      "resolved": "https://registry.npmjs.org/@vue/runtime-core/-/runtime-core-3.5.14.tgz",
      "integrity": "sha512-w9JWEANwHXNgieAhxPpEpJa+0V5G0hz3NmjAZwlOebtfKyp2hKxKF0+qSh0Xs6/PhfGihuSdqMprMVcQU/E6ag==",
      "license": "MIT",
      "dependencies": {
        "@vue/reactivity": "3.5.14",
        "@vue/shared": "3.5.14"
      }
    },
    "node_modules/@vue/runtime-dom": {
      "version": "3.5.14",
      "resolved": "https://registry.npmjs.org/@vue/runtime-dom/-/runtime-dom-3.5.14.tgz",
      "integrity": "sha512-lCfR++IakeI35TVR80QgOelsUIdcKjd65rWAMfdSlCYnaEY5t3hYwru7vvcWaqmrK+LpI7ZDDYiGU5V3xjMacw==",
      "license": "MIT",
      "dependencies": {
        "@vue/reactivity": "3.5.14",
        "@vue/runtime-core": "3.5.14",
        "@vue/shared": "3.5.14",
        "csstype": "^3.1.3"
      }
    },
    "node_modules/@vue/server-renderer": {
      "version": "3.5.14",
      "resolved": "https://registry.npmjs.org/@vue/server-renderer/-/server-renderer-3.5.14.tgz",
      "integrity": "sha512-Rf/ISLqokIvcySIYnv3tNWq40PLpNLDLSJwwVWzG6MNtyIhfbcrAxo5ZL9nARJhqjZyWWa40oRb2IDuejeuv6w==",
      "license": "MIT",
      "dependencies": {
        "@vue/compiler-ssr": "3.5.14",
        "@vue/shared": "3.5.14"
      },
      "peerDependencies": {
        "vue": "3.5.14"
      }
    },
    "node_modules/@vue/shared": {
      "version": "3.5.14",
      "resolved": "https://registry.npmjs.org/@vue/shared/-/shared-3.5.14.tgz",
      "integrity": "sha512-oXTwNxVfc9EtP1zzXAlSlgARLXNC84frFYkS0HHz0h3E4WZSP9sywqjqzGCP9Y34M8ipNmd380pVgmMuwELDyQ==",
      "license": "MIT"
    },
    "node_modules/@vueuse/core": {
      "version": "10.11.1",
      "resolved": "https://registry.npmjs.org/@vueuse/core/-/core-10.11.1.tgz",
      "integrity": "sha512-guoy26JQktXPcz+0n3GukWIy/JDNKti9v6VEMu6kV2sYBsWuGiTU8OWdg+ADfUbHg3/3DlqySDe7JmdHrktiww==",
      "license": "MIT",
      "dependencies": {
        "@types/web-bluetooth": "^0.0.20",
        "@vueuse/metadata": "10.11.1",
        "@vueuse/shared": "10.11.1",
        "vue-demi": ">=0.14.8"
      },
      "funding": {
        "url": "https://github.com/sponsors/antfu"
      }
    },
    "node_modules/@vueuse/metadata": {
      "version": "10.11.1",
      "resolved": "https://registry.npmjs.org/@vueuse/metadata/-/metadata-10.11.1.tgz",
      "integrity": "sha512-IGa5FXd003Ug1qAZmyE8wF3sJ81xGLSqTqtQ6jaVfkeZ4i5kS2mwQF61yhVqojRnenVew5PldLyRgvdl4YYuSw==",
      "license": "MIT",
      "funding": {
        "url": "https://github.com/sponsors/antfu"
      }
    },
    "node_modules/@vueuse/shared": {
      "version": "10.11.1",
      "resolved": "https://registry.npmjs.org/@vueuse/shared/-/shared-10.11.1.tgz",
      "integrity": "sha512-LHpC8711VFZlDaYUXEBbFBCQ7GS3dVU9mjOhhMhXP6txTV4EhYQg/KGnQuvt/sPAtoUKq7VVUnL6mVtFoL42sA==",
      "license": "MIT",
      "dependencies": {
        "vue-demi": ">=0.14.8"
      },
      "funding": {
        "url": "https://github.com/sponsors/antfu"
      }
    },
    "node_modules/alien-signals": {
      "version": "1.0.13",
      "resolved": "https://registry.npmjs.org/alien-signals/-/alien-signals-1.0.13.tgz",
      "integrity": "sha512-OGj9yyTnJEttvzhTUWuscOvtqxq5vrhF7vL9oS0xJ2mK0ItPYP1/y+vCFebfxoEyAz0++1AIwJ5CMr+Fk3nDmg==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/ansi-regex": {
      "version": "6.1.0",
      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-6.1.0.tgz",
      "integrity": "sha512-7HSX4QQb4CspciLpVFwyRe79O3xsIZDDLER21kERQ71oaPodF8jL725AgJMFAYbooIqolJoRLuM81SpeUkpkvA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/chalk/ansi-regex?sponsor=1"
      }
    },
    "node_modules/ansi-styles": {
      "version": "6.2.1",
      "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-6.2.1.tgz",
      "integrity": "sha512-bN798gFfQX+viw3R7yrGWRqnrN2oRkEkUjjl4JNn4E8GxxbjtG3FbrEIIY3l8/hrwUwIeCZvi4QuOTP4MErVug==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/chalk/ansi-styles?sponsor=1"
      }
    },
    "node_modules/any-promise": {
      "version": "1.3.0",
      "resolved": "https://registry.npmjs.org/any-promise/-/any-promise-1.3.0.tgz",
      "integrity": "sha512-7UvmKalWRt1wgjL1RrGxoSJW/0QZFIegpeGvZG9kjp8vrRu55XTHbwnqq2GpXm9uLbcuhxm3IqX9OB4MZR1b2A==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/anymatch": {
      "version": "3.1.3",
      "resolved": "https://registry.npmjs.org/anymatch/-/anymatch-3.1.3.tgz",
      "integrity": "sha512-KMReFUr0B4t+D+OBkjR3KYqvocp2XaSzO55UcB6mgQMd3KbcE+mWTyvVV7D/zsdEbNnV6acZUutkiHQXvTr1Rw==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "normalize-path": "^3.0.0",
        "picomatch": "^2.0.4"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/arg": {
      "version": "5.0.2",
      "resolved": "https://registry.npmjs.org/arg/-/arg-5.0.2.tgz",
      "integrity": "sha512-PYjyFOLKQ9y57JvQ6QLo8dAgNqswh8M1RMJYdQduT6xbWSgK36P/Z/v+p888pM69jMMfS8Xd8F6I1kQ/I9HUGg==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/asynckit": {
      "version": "0.4.0",
      "resolved": "https://registry.npmjs.org/asynckit/-/asynckit-0.4.0.tgz",
      "integrity": "sha512-Oei9OH4tRh0YqU3GxhX79dM/mwVgvbZJaSNaRk+bshkj0S5cfHcgYakreBjrHwatXKbz+IoIdYLxrKim2MjW0Q==",
      "license": "MIT"
    },
    "node_modules/autoprefixer": {
      "version": "10.4.21",
      "resolved": "https://registry.npmjs.org/autoprefixer/-/autoprefixer-10.4.21.tgz",
      "integrity": "sha512-O+A6LWV5LDHSJD3LjHYoNi4VLsj/Whi7k6zG12xTYaU4cQ8oxQGckXNX8cRHK5yOZ/ppVHe0ZBXGzSV9jXdVbQ==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/postcss/"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/autoprefixer"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "browserslist": "^4.24.4",
        "caniuse-lite": "^1.0.30001702",
        "fraction.js": "^4.3.7",
        "normalize-range": "^0.1.2",
        "picocolors": "^1.1.1",
        "postcss-value-parser": "^4.2.0"
      },
      "bin": {
        "autoprefixer": "bin/autoprefixer"
      },
      "engines": {
        "node": "^10 || ^12 || >=14"
      },
      "peerDependencies": {
        "postcss": "^8.1.0"
      }
    },
    "node_modules/axios": {
      "version": "1.9.0",
      "resolved": "https://registry.npmjs.org/axios/-/axios-1.9.0.tgz",
      "integrity": "sha512-re4CqKTJaURpzbLHtIi6XpDv20/CnpXOtjRY5/CU32L8gU8ek9UIivcfvSWvmKEngmVbrUtPpdDwWDWL7DNHvg==",
      "license": "MIT",
      "dependencies": {
        "follow-redirects": "^1.15.6",
        "form-data": "^4.0.0",
        "proxy-from-env": "^1.1.0"
      }
    },
    "node_modules/balanced-match": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/balanced-match/-/balanced-match-1.0.2.tgz",
      "integrity": "sha512-3oSeUO0TMV67hN1AmbXsK4yaqU7tjiHlbxRDZOpH0KW9+CeX4bRAaX0Anxt0tx2MrpRpWwQaPwIlISEJhYU5Pw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/binary-extensions": {
      "version": "2.3.0",
      "resolved": "https://registry.npmjs.org/binary-extensions/-/binary-extensions-2.3.0.tgz",
      "integrity": "sha512-Ceh+7ox5qe7LJuLHoY0feh3pHuUDHAcRUeyL2VYghZwfpkNIy/+8Ocg0a3UuSoYzavmylwuLWQOf3hl0jjMMIw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/brace-expansion": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/brace-expansion/-/brace-expansion-2.0.1.tgz",
      "integrity": "sha512-XnAIvQ8eM+kC6aULx6wuQiwVsnzsi9d3WxzV3FpWTGA19F621kwdbsAcFKXgKUHZWsy+mY6iL1sHTxWEFCytDA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "balanced-match": "^1.0.0"
      }
    },
    "node_modules/braces": {
      "version": "3.0.3",
      "resolved": "https://registry.npmjs.org/braces/-/braces-3.0.3.tgz",
      "integrity": "sha512-yQbXgO/OSZVD2IsiLlro+7Hf6Q18EJrKSEsdoMzKePKXct3gvD8oLcOQdIzGupr5Fj+EDe8gO/lxc1BzfMpxvA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "fill-range": "^7.1.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/browserslist": {
      "version": "4.24.5",
      "resolved": "https://registry.npmjs.org/browserslist/-/browserslist-4.24.5.tgz",
      "integrity": "sha512-FDToo4Wo82hIdgc1CQ+NQD0hEhmpPjrZ3hiUgwgOG6IuTdlpr8jdjyG24P6cNP1yJpTLzS5OcGgSw0xmDU1/Tw==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/browserslist"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/browserslist"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "caniuse-lite": "^1.0.30001716",
        "electron-to-chromium": "^1.5.149",
        "node-releases": "^2.0.19",
        "update-browserslist-db": "^1.1.3"
      },
      "bin": {
        "browserslist": "cli.js"
      },
      "engines": {
        "node": "^6 || ^7 || ^8 || ^9 || ^10 || ^11 || ^12 || >=13.7"
      }
    },
    "node_modules/call-bind-apply-helpers": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/call-bind-apply-helpers/-/call-bind-apply-helpers-1.0.2.tgz",
      "integrity": "sha512-Sp1ablJ0ivDkSzjcaJdxEunN5/XvksFJ2sMBFfq6x0ryhQV/2b/KwFe21cMpmHtPOSij8K99/wSfoEuTObmuMQ==",
      "license": "MIT",
      "dependencies": {
        "es-errors": "^1.3.0",
        "function-bind": "^1.1.2"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/camelcase-css": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/camelcase-css/-/camelcase-css-2.0.1.tgz",
      "integrity": "sha512-QOSvevhslijgYwRx6Rv7zKdMF8lbRmx+uQGx2+vDc+KI/eBnsy9kit5aj23AgGu3pa4t9AgwbnXWqS+iOY+2aA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/caniuse-lite": {
      "version": "1.0.30001718",
      "resolved": "https://registry.npmjs.org/caniuse-lite/-/caniuse-lite-1.0.30001718.tgz",
      "integrity": "sha512-AflseV1ahcSunK53NfEs9gFWgOEmzr0f+kaMFA4xiLZlr9Hzt7HxcSpIFcnNCUkz6R6dWKa54rUz3HUmI3nVcw==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/browserslist"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/caniuse-lite"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "CC-BY-4.0"
    },
    "node_modules/character-entities": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/character-entities/-/character-entities-2.0.2.tgz",
      "integrity": "sha512-shx7oQ0Awen/BRIdkjkvz54PnEEI/EjwXDSIZp86/KKdbafHh1Df/RYGBhn4hbe2+uKC9FnT5UCEdyPz3ai9hQ==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/chokidar": {
      "version": "3.6.0",
      "resolved": "https://registry.npmjs.org/chokidar/-/chokidar-3.6.0.tgz",
      "integrity": "sha512-7VT13fmjotKpGipCW9JEQAusEPE+Ei8nl6/g4FBAmIm0GOOLMua9NDDo/DWp0ZAxCr3cPq5ZpBqmPAQgDda2Pw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "anymatch": "~3.1.2",
        "braces": "~3.0.2",
        "glob-parent": "~5.1.2",
        "is-binary-path": "~2.1.0",
        "is-glob": "~4.0.1",
        "normalize-path": "~3.0.0",
        "readdirp": "~3.6.0"
      },
      "engines": {
        "node": ">= 8.10.0"
      },
      "funding": {
        "url": "https://paulmillr.com/funding/"
      },
      "optionalDependencies": {
        "fsevents": "~2.3.2"
      }
    },
    "node_modules/chokidar/node_modules/glob-parent": {
      "version": "5.1.2",
      "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-5.1.2.tgz",
      "integrity": "sha512-AOIgSQCepiJYwP3ARnGx+5VnTu2HBYdzbGP45eLw1vr3zB3vZLeyed1sC9hnbcOc9/SrMyM5RPQrkGz4aS9Zow==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "is-glob": "^4.0.1"
      },
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/color-convert": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/color-convert/-/color-convert-2.0.1.tgz",
      "integrity": "sha512-RRECPsj7iu/xb5oKYcsFHSppFNnsj/52OVTRKb4zP5onXwVF3zVmmToNcOfGC+CRDpfK/U584fMg38ZHCaElKQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "color-name": "~1.1.4"
      },
      "engines": {
        "node": ">=7.0.0"
      }
    },
    "node_modules/color-name": {
      "version": "1.1.4",
      "resolved": "https://registry.npmjs.org/color-name/-/color-name-1.1.4.tgz",
      "integrity": "sha512-dOy+3AuW3a2wNbZHIuMZpTcgjGuLU/uBL/ubcZF9OXbDo8ff4O8yVp5Bf0efS8uEoYo5q4Fx7dY9OgQGXgAsQA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/combined-stream": {
      "version": "1.0.8",
      "resolved": "https://registry.npmjs.org/combined-stream/-/combined-stream-1.0.8.tgz",
      "integrity": "sha512-FQN4MRfuJeHf7cBbBMJFXhKSDq+2kAArBlmRBvcvFE5BB1HZKXtSFASDhdlz9zOYwxh8lDdnvmMOe/+5cdoEdg==",
      "license": "MIT",
      "dependencies": {
        "delayed-stream": "~1.0.0"
      },
      "engines": {
        "node": ">= 0.8"
      }
    },
    "node_modules/commander": {
      "version": "7.2.0",
      "resolved": "https://registry.npmjs.org/commander/-/commander-7.2.0.tgz",
      "integrity": "sha512-QrWXB+ZQSVPmIWIhtEO9H+gwHaMGYiF5ChvoJ+K9ZGHG/sVsa6yiesAD1GC/x46sET00Xlwo1u49RVVVzvcSkw==",
      "license": "MIT",
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/cose-base": {
      "version": "1.0.3",
      "resolved": "https://registry.npmjs.org/cose-base/-/cose-base-1.0.3.tgz",
      "integrity": "sha512-s9whTXInMSgAp/NVXVNuVxVKzGH2qck3aQlVHxDCdAEPgtMKwc4Wq6/QKhgdEdgbLSi9rBTAcPoRa6JpiG4ksg==",
      "license": "MIT",
      "dependencies": {
        "layout-base": "^1.0.0"
      }
    },
    "node_modules/cross-spawn": {
      "version": "7.0.6",
      "resolved": "https://registry.npmjs.org/cross-spawn/-/cross-spawn-7.0.6.tgz",
      "integrity": "sha512-uV2QOWP2nWzsy2aMp8aRibhi9dlzF5Hgh5SHaB9OiTGEyDTiJJyx0uy51QXdyWbtAHNua4XJzUKca3OzKUd3vA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "path-key": "^3.1.0",
        "shebang-command": "^2.0.0",
        "which": "^2.0.1"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/cssesc": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/cssesc/-/cssesc-3.0.0.tgz",
      "integrity": "sha512-/Tb/JcjK111nNScGob5MNtsntNM1aCNUDipB/TkwZFhyDrrE47SOx/18wF2bbjgc3ZzCSKW1T5nt5EbFoAz/Vg==",
      "dev": true,
      "license": "MIT",
      "bin": {
        "cssesc": "bin/cssesc"
      },
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/csstype": {
      "version": "3.1.3",
      "resolved": "https://registry.npmjs.org/csstype/-/csstype-3.1.3.tgz",
      "integrity": "sha512-M1uQkMl8rQK/szD0LNhtqxIPLpimGm8sOBwU7lLnCpSbTyY3yeU1Vc7l4KT5zT4s/yOxHH5O7tIuuLOCnLADRw==",
      "license": "MIT"
    },
    "node_modules/cytoscape": {
      "version": "3.32.0",
      "resolved": "https://registry.npmjs.org/cytoscape/-/cytoscape-3.32.0.tgz",
      "integrity": "sha512-5JHBC9n75kz5851jeklCPmZWcg3hUe6sjqJvyk3+hVqFaKcHwHgxsjeN1yLmggoUc6STbtm9/NQyabQehfjvWQ==",
      "license": "MIT",
      "engines": {
        "node": ">=0.10"
      }
    },
    "node_modules/cytoscape-cose-bilkent": {
      "version": "4.1.0",
      "resolved": "https://registry.npmjs.org/cytoscape-cose-bilkent/-/cytoscape-cose-bilkent-4.1.0.tgz",
      "integrity": "sha512-wgQlVIUJF13Quxiv5e1gstZ08rnZj2XaLHGoFMYXz7SkNfCDOOteKBE6SYRfA9WxxI/iBc3ajfDoc6hb/MRAHQ==",
      "license": "MIT",
      "dependencies": {
        "cose-base": "^1.0.0"
      },
      "peerDependencies": {
        "cytoscape": "^3.2.0"
      }
    },
    "node_modules/d3": {
      "version": "7.9.0",
      "resolved": "https://registry.npmjs.org/d3/-/d3-7.9.0.tgz",
      "integrity": "sha512-e1U46jVP+w7Iut8Jt8ri1YsPOvFpg46k+K8TpCb0P+zjCkjkPnV7WzfDJzMHy1LnA+wj5pLT1wjO901gLXeEhA==",
      "license": "ISC",
      "dependencies": {
        "d3-array": "3",
        "d3-axis": "3",
        "d3-brush": "3",
        "d3-chord": "3",
        "d3-color": "3",
        "d3-contour": "4",
        "d3-delaunay": "6",
        "d3-dispatch": "3",
        "d3-drag": "3",
        "d3-dsv": "3",
        "d3-ease": "3",
        "d3-fetch": "3",
        "d3-force": "3",
        "d3-format": "3",
        "d3-geo": "3",
        "d3-hierarchy": "3",
        "d3-interpolate": "3",
        "d3-path": "3",
        "d3-polygon": "3",
        "d3-quadtree": "3",
        "d3-random": "3",
        "d3-scale": "4",
        "d3-scale-chromatic": "3",
        "d3-selection": "3",
        "d3-shape": "3",
        "d3-time": "3",
        "d3-time-format": "4",
        "d3-timer": "3",
        "d3-transition": "3",
        "d3-zoom": "3"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-array": {
      "version": "3.2.4",
      "resolved": "https://registry.npmjs.org/d3-array/-/d3-array-3.2.4.tgz",
      "integrity": "sha512-tdQAmyA18i4J7wprpYq8ClcxZy3SC31QMeByyCFyRt7BVHdREQZ5lpzoe5mFEYZUWe+oq8HBvk9JjpibyEV4Jg==",
      "license": "ISC",
      "dependencies": {
        "internmap": "1 - 2"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-axis": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/d3-axis/-/d3-axis-3.0.0.tgz",
      "integrity": "sha512-IH5tgjV4jE/GhHkRV0HiVYPDtvfjHQlQfJHs0usq7M30XcSBvOotpmH1IgkcXsO/5gEQZD43B//fc7SRT5S+xw==",
      "license": "ISC",
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-brush": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/d3-brush/-/d3-brush-3.0.0.tgz",
      "integrity": "sha512-ALnjWlVYkXsVIGlOsuWH1+3udkYFI48Ljihfnh8FZPF2QS9o+PzGLBslO0PjzVoHLZ2KCVgAM8NVkXPJB2aNnQ==",
      "license": "ISC",
      "dependencies": {
        "d3-dispatch": "1 - 3",
        "d3-drag": "2 - 3",
        "d3-interpolate": "1 - 3",
        "d3-selection": "3",
        "d3-transition": "3"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-chord": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/d3-chord/-/d3-chord-3.0.1.tgz",
      "integrity": "sha512-VE5S6TNa+j8msksl7HwjxMHDM2yNK3XCkusIlpX5kwauBfXuyLAtNg9jCp/iHH61tgI4sb6R/EIMWCqEIdjT/g==",
      "license": "ISC",
      "dependencies": {
        "d3-path": "1 - 3"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-color": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/d3-color/-/d3-color-3.1.0.tgz",
      "integrity": "sha512-zg/chbXyeBtMQ1LbD/WSoW2DpC3I0mpmPdW+ynRTj/x2DAWYrIY7qeZIHidozwV24m4iavr15lNwIwLxRmOxhA==",
      "license": "ISC",
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-contour": {
      "version": "4.0.2",
      "resolved": "https://registry.npmjs.org/d3-contour/-/d3-contour-4.0.2.tgz",
      "integrity": "sha512-4EzFTRIikzs47RGmdxbeUvLWtGedDUNkTcmzoeyg4sP/dvCexO47AaQL7VKy/gul85TOxw+IBgA8US2xwbToNA==",
      "license": "ISC",
      "dependencies": {
        "d3-array": "^3.2.0"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-delaunay": {
      "version": "6.0.4",
      "resolved": "https://registry.npmjs.org/d3-delaunay/-/d3-delaunay-6.0.4.tgz",
      "integrity": "sha512-mdjtIZ1XLAM8bm/hx3WwjfHt6Sggek7qH043O8KEjDXN40xi3vx/6pYSVTwLjEgiXQTbvaouWKynLBiUZ6SK6A==",
      "license": "ISC",
      "dependencies": {
        "delaunator": "5"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-dispatch": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/d3-dispatch/-/d3-dispatch-3.0.1.tgz",
      "integrity": "sha512-rzUyPU/S7rwUflMyLc1ETDeBj0NRuHKKAcvukozwhshr6g6c5d8zh4c2gQjY2bZ0dXeGLWc1PF174P2tVvKhfg==",
      "license": "ISC",
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-drag": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/d3-drag/-/d3-drag-3.0.0.tgz",
      "integrity": "sha512-pWbUJLdETVA8lQNJecMxoXfH6x+mO2UQo8rSmZ+QqxcbyA3hfeprFgIT//HW2nlHChWeIIMwS2Fq+gEARkhTkg==",
      "license": "ISC",
      "dependencies": {
        "d3-dispatch": "1 - 3",
        "d3-selection": "3"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-dsv": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/d3-dsv/-/d3-dsv-3.0.1.tgz",
      "integrity": "sha512-UG6OvdI5afDIFP9w4G0mNq50dSOsXHJaRE8arAS5o9ApWnIElp8GZw1Dun8vP8OyHOZ/QJUKUJwxiiCCnUwm+Q==",
      "license": "ISC",
      "dependencies": {
        "commander": "7",
        "iconv-lite": "0.6",
        "rw": "1"
      },
      "bin": {
        "csv2json": "bin/dsv2json.js",
        "csv2tsv": "bin/dsv2dsv.js",
        "dsv2dsv": "bin/dsv2dsv.js",
        "dsv2json": "bin/dsv2json.js",
        "json2csv": "bin/json2dsv.js",
        "json2dsv": "bin/json2dsv.js",
        "json2tsv": "bin/json2dsv.js",
        "tsv2csv": "bin/dsv2dsv.js",
        "tsv2json": "bin/dsv2json.js"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-ease": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/d3-ease/-/d3-ease-3.0.1.tgz",
      "integrity": "sha512-wR/XK3D3XcLIZwpbvQwQ5fK+8Ykds1ip7A2Txe0yxncXSdq1L9skcG7blcedkOX+ZcgxGAmLX1FrRGbADwzi0w==",
      "license": "BSD-3-Clause",
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-fetch": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/d3-fetch/-/d3-fetch-3.0.1.tgz",
      "integrity": "sha512-kpkQIM20n3oLVBKGg6oHrUchHM3xODkTzjMoj7aWQFq5QEM+R6E4WkzT5+tojDY7yjez8KgCBRoj4aEr99Fdqw==",
      "license": "ISC",
      "dependencies": {
        "d3-dsv": "1 - 3"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-force": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/d3-force/-/d3-force-3.0.0.tgz",
      "integrity": "sha512-zxV/SsA+U4yte8051P4ECydjD/S+qeYtnaIyAs9tgHCqfguma/aAQDjo85A9Z6EKhBirHRJHXIgJUlffT4wdLg==",
      "license": "ISC",
      "dependencies": {
        "d3-dispatch": "1 - 3",
        "d3-quadtree": "1 - 3",
        "d3-timer": "1 - 3"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-format": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/d3-format/-/d3-format-3.1.0.tgz",
      "integrity": "sha512-YyUI6AEuY/Wpt8KWLgZHsIU86atmikuoOmCfommt0LYHiQSPjvX2AcFc38PX0CBpr2RCyZhjex+NS/LPOv6YqA==",
      "license": "ISC",
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-geo": {
      "version": "3.1.1",
      "resolved": "https://registry.npmjs.org/d3-geo/-/d3-geo-3.1.1.tgz",
      "integrity": "sha512-637ln3gXKXOwhalDzinUgY83KzNWZRKbYubaG+fGVuc/dxO64RRljtCTnf5ecMyE1RIdtqpkVcq0IbtU2S8j2Q==",
      "license": "ISC",
      "dependencies": {
        "d3-array": "2.5.0 - 3"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-hierarchy": {
      "version": "3.1.2",
      "resolved": "https://registry.npmjs.org/d3-hierarchy/-/d3-hierarchy-3.1.2.tgz",
      "integrity": "sha512-FX/9frcub54beBdugHjDCdikxThEqjnR93Qt7PvQTOHxyiNCAlvMrHhclk3cD5VeAaq9fxmfRp+CnWw9rEMBuA==",
      "license": "ISC",
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-interpolate": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/d3-interpolate/-/d3-interpolate-3.0.1.tgz",
      "integrity": "sha512-3bYs1rOD33uo8aqJfKP3JWPAibgw8Zm2+L9vBKEHJ2Rg+viTR7o5Mmv5mZcieN+FRYaAOWX5SJATX6k1PWz72g==",
      "license": "ISC",
      "dependencies": {
        "d3-color": "1 - 3"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-path": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/d3-path/-/d3-path-3.1.0.tgz",
      "integrity": "sha512-p3KP5HCf/bvjBSSKuXid6Zqijx7wIfNW+J/maPs+iwR35at5JCbLUT0LzF1cnjbCHWhqzQTIN2Jpe8pRebIEFQ==",
      "license": "ISC",
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-polygon": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/d3-polygon/-/d3-polygon-3.0.1.tgz",
      "integrity": "sha512-3vbA7vXYwfe1SYhED++fPUQlWSYTTGmFmQiany/gdbiWgU/iEyQzyymwL9SkJjFFuCS4902BSzewVGsHHmHtXg==",
      "license": "ISC",
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-quadtree": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/d3-quadtree/-/d3-quadtree-3.0.1.tgz",
      "integrity": "sha512-04xDrxQTDTCFwP5H6hRhsRcb9xxv2RzkcsygFzmkSIOJy3PeRJP7sNk3VRIbKXcog561P9oU0/rVH6vDROAgUw==",
      "license": "ISC",
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-random": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/d3-random/-/d3-random-3.0.1.tgz",
      "integrity": "sha512-FXMe9GfxTxqd5D6jFsQ+DJ8BJS4E/fT5mqqdjovykEB2oFbTMDVdg1MGFxfQW+FBOGoB++k8swBrgwSHT1cUXQ==",
      "license": "ISC",
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-sankey": {
      "version": "0.12.3",
      "resolved": "https://registry.npmjs.org/d3-sankey/-/d3-sankey-0.12.3.tgz",
      "integrity": "sha512-nQhsBRmM19Ax5xEIPLMY9ZmJ/cDvd1BG3UVvt5h3WRxKg5zGRbvnteTyWAbzeSvlh3tW7ZEmq4VwR5mB3tutmQ==",
      "license": "BSD-3-Clause",
      "dependencies": {
        "d3-array": "1 - 2",
        "d3-shape": "^1.2.0"
      }
    },
    "node_modules/d3-sankey/node_modules/d3-array": {
      "version": "2.12.1",
      "resolved": "https://registry.npmjs.org/d3-array/-/d3-array-2.12.1.tgz",
      "integrity": "sha512-B0ErZK/66mHtEsR1TkPEEkwdy+WDesimkM5gpZr5Dsg54BiTA5RXtYW5qTLIAcekaS9xfZrzBLF/OAkB3Qn1YQ==",
      "license": "BSD-3-Clause",
      "dependencies": {
        "internmap": "^1.0.0"
      }
    },
    "node_modules/d3-sankey/node_modules/d3-path": {
      "version": "1.0.9",
      "resolved": "https://registry.npmjs.org/d3-path/-/d3-path-1.0.9.tgz",
      "integrity": "sha512-VLaYcn81dtHVTjEHd8B+pbe9yHWpXKZUC87PzoFmsFrJqgFwDe/qxfp5MlfsfM1V5E/iVt0MmEbWQ7FVIXh/bg==",
      "license": "BSD-3-Clause"
    },
    "node_modules/d3-sankey/node_modules/d3-shape": {
      "version": "1.3.7",
      "resolved": "https://registry.npmjs.org/d3-shape/-/d3-shape-1.3.7.tgz",
      "integrity": "sha512-EUkvKjqPFUAZyOlhY5gzCxCeI0Aep04LwIRpsZ/mLFelJiUfnK56jo5JMDSE7yyP2kLSb6LtF+S5chMk7uqPqw==",
      "license": "BSD-3-Clause",
      "dependencies": {
        "d3-path": "1"
      }
    },
    "node_modules/d3-sankey/node_modules/internmap": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/internmap/-/internmap-1.0.1.tgz",
      "integrity": "sha512-lDB5YccMydFBtasVtxnZ3MRBHuaoE8GKsppq+EchKL2U4nK/DmEpPHNH8MZe5HkMtpSiTSOZwfN0tzYjO/lJEw==",
      "license": "ISC"
    },
    "node_modules/d3-scale": {
      "version": "4.0.2",
      "resolved": "https://registry.npmjs.org/d3-scale/-/d3-scale-4.0.2.tgz",
      "integrity": "sha512-GZW464g1SH7ag3Y7hXjf8RoUuAFIqklOAq3MRl4OaWabTFJY9PN/E1YklhXLh+OQ3fM9yS2nOkCoS+WLZ6kvxQ==",
      "license": "ISC",
      "dependencies": {
        "d3-array": "2.10.0 - 3",
        "d3-format": "1 - 3",
        "d3-interpolate": "1.2.0 - 3",
        "d3-time": "2.1.1 - 3",
        "d3-time-format": "2 - 4"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-scale-chromatic": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/d3-scale-chromatic/-/d3-scale-chromatic-3.1.0.tgz",
      "integrity": "sha512-A3s5PWiZ9YCXFye1o246KoscMWqf8BsD9eRiJ3He7C9OBaxKhAd5TFCdEx/7VbKtxxTsu//1mMJFrEt572cEyQ==",
      "license": "ISC",
      "dependencies": {
        "d3-color": "1 - 3",
        "d3-interpolate": "1 - 3"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-selection": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/d3-selection/-/d3-selection-3.0.0.tgz",
      "integrity": "sha512-fmTRWbNMmsmWq6xJV8D19U/gw/bwrHfNXxrIN+HfZgnzqTHp9jOmKMhsTUjXOJnZOdZY9Q28y4yebKzqDKlxlQ==",
      "license": "ISC",
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-shape": {
      "version": "3.2.0",
      "resolved": "https://registry.npmjs.org/d3-shape/-/d3-shape-3.2.0.tgz",
      "integrity": "sha512-SaLBuwGm3MOViRq2ABk3eLoxwZELpH6zhl3FbAoJ7Vm1gofKx6El1Ib5z23NUEhF9AsGl7y+dzLe5Cw2AArGTA==",
      "license": "ISC",
      "dependencies": {
        "d3-path": "^3.1.0"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-time": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/d3-time/-/d3-time-3.1.0.tgz",
      "integrity": "sha512-VqKjzBLejbSMT4IgbmVgDjpkYrNWUYJnbCGo874u7MMKIWsILRX+OpX/gTk8MqjpT1A/c6HY2dCA77ZN0lkQ2Q==",
      "license": "ISC",
      "dependencies": {
        "d3-array": "2 - 3"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-time-format": {
      "version": "4.1.0",
      "resolved": "https://registry.npmjs.org/d3-time-format/-/d3-time-format-4.1.0.tgz",
      "integrity": "sha512-dJxPBlzC7NugB2PDLwo9Q8JiTR3M3e4/XANkreKSUxF8vvXKqm1Yfq4Q5dl8budlunRVlUUaDUgFt7eA8D6NLg==",
      "license": "ISC",
      "dependencies": {
        "d3-time": "1 - 3"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-timer": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/d3-timer/-/d3-timer-3.0.1.tgz",
      "integrity": "sha512-ndfJ/JxxMd3nw31uyKoY2naivF+r29V+Lc0svZxe1JvvIRmi8hUsrMvdOwgS1o6uBHmiz91geQ0ylPP0aj1VUA==",
      "license": "ISC",
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-transition": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/d3-transition/-/d3-transition-3.0.1.tgz",
      "integrity": "sha512-ApKvfjsSR6tg06xrL434C0WydLr7JewBB3V+/39RMHsaXTOG0zmt/OAXeng5M5LBm0ojmxJrpomQVZ1aPvBL4w==",
      "license": "ISC",
      "dependencies": {
        "d3-color": "1 - 3",
        "d3-dispatch": "1 - 3",
        "d3-ease": "1 - 3",
        "d3-interpolate": "1 - 3",
        "d3-timer": "1 - 3"
      },
      "engines": {
        "node": ">=12"
      },
      "peerDependencies": {
        "d3-selection": "2 - 3"
      }
    },
    "node_modules/d3-zoom": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/d3-zoom/-/d3-zoom-3.0.0.tgz",
      "integrity": "sha512-b8AmV3kfQaqWAuacbPuNbL6vahnOJflOhexLzMMNLga62+/nh0JzvJ0aO/5a5MVgUFGS7Hu1P9P03o3fJkDCyw==",
      "license": "ISC",
      "dependencies": {
        "d3-dispatch": "1 - 3",
        "d3-drag": "2 - 3",
        "d3-interpolate": "1 - 3",
        "d3-selection": "2 - 3",
        "d3-transition": "2 - 3"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/dagre-d3-es": {
      "version": "7.0.10",
      "resolved": "https://registry.npmjs.org/dagre-d3-es/-/dagre-d3-es-7.0.10.tgz",
      "integrity": "sha512-qTCQmEhcynucuaZgY5/+ti3X/rnszKZhEQH/ZdWdtP1tA/y3VoHJzcVrO9pjjJCNpigfscAtoUB5ONcd2wNn0A==",
      "license": "MIT",
      "dependencies": {
        "d3": "^7.8.2",
        "lodash-es": "^4.17.21"
      }
    },
    "node_modules/dayjs": {
      "version": "1.11.13",
      "resolved": "https://registry.npmjs.org/dayjs/-/dayjs-1.11.13.tgz",
      "integrity": "sha512-oaMBel6gjolK862uaPQOVTA7q3TZhuSvuMQAAglQDOWYO9A91IrAOUJEyKVlqJlHE0vq5p5UXxzdPfMH/x6xNg==",
      "license": "MIT"
    },
    "node_modules/de-indent": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/de-indent/-/de-indent-1.0.2.tgz",
      "integrity": "sha512-e/1zu3xH5MQryN2zdVaF0OrdNLUbvWxzMbi+iNA6Bky7l1RoP8a2fIbRocyHclXt/arDrrR6lL3TqFD9pMQTsg==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/debug": {
      "version": "4.4.1",
      "resolved": "https://registry.npmjs.org/debug/-/debug-4.4.1.tgz",
      "integrity": "sha512-KcKCqiftBJcZr++7ykoDIEwSa3XWowTfNPo92BYxjXiyYEVrUQh2aLyhxBCwww+heortUFxEJYcRzosstTEBYQ==",
      "license": "MIT",
      "dependencies": {
        "ms": "^2.1.3"
      },
      "engines": {
        "node": ">=6.0"
      },
      "peerDependenciesMeta": {
        "supports-color": {
          "optional": true
        }
      }
    },
    "node_modules/decode-named-character-reference": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/decode-named-character-reference/-/decode-named-character-reference-1.1.0.tgz",
      "integrity": "sha512-Wy+JTSbFThEOXQIR2L6mxJvEs+veIzpmqD7ynWxMXGpnk3smkHQOp6forLdHsKpAMW9iJpaBBIxz285t1n1C3w==",
      "license": "MIT",
      "dependencies": {
        "character-entities": "^2.0.0"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/delaunator": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/delaunator/-/delaunator-5.0.1.tgz",
      "integrity": "sha512-8nvh+XBe96aCESrGOqMp/84b13H9cdKbG5P2ejQCh4d4sK9RL4371qou9drQjMhvnPmhWl5hnmqbEE0fXr9Xnw==",
      "license": "ISC",
      "dependencies": {
        "robust-predicates": "^3.0.2"
      }
    },
    "node_modules/delayed-stream": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/delayed-stream/-/delayed-stream-1.0.0.tgz",
      "integrity": "sha512-ZySD7Nf91aLB0RxL4KGrKHBXl7Eds1DAmEdcoVawXnLD7SDhpNgtuII2aAkg7a7QS41jxPSZ17p4VdGnMHk3MQ==",
      "license": "MIT",
      "engines": {
        "node": ">=0.4.0"
      }
    },
    "node_modules/dequal": {
      "version": "2.0.3",
      "resolved": "https://registry.npmjs.org/dequal/-/dequal-2.0.3.tgz",
      "integrity": "sha512-0je+qPKHEMohvfRTCEo3CrPG6cAzAYgmzKyxRiYSSDkS6eGJdyVJm7WaYA5ECaAD9wLB2T4EEeymA5aFVcYXCA==",
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/didyoumean": {
      "version": "1.2.2",
      "resolved": "https://registry.npmjs.org/didyoumean/-/didyoumean-1.2.2.tgz",
      "integrity": "sha512-gxtyfqMg7GKyhQmb056K7M3xszy/myH8w+B4RT+QXBQsvAOdc3XymqDDPHx1BgPgsdAA5SIifona89YtRATDzw==",
      "dev": true,
      "license": "Apache-2.0"
    },
    "node_modules/diff": {
      "version": "5.2.0",
      "resolved": "https://registry.npmjs.org/diff/-/diff-5.2.0.tgz",
      "integrity": "sha512-uIFDxqpRZGZ6ThOk84hEfqWoHx2devRFvpTZcTHur85vImfaxUbTW9Ryh4CpCuDnToOP1CEtXKIgytHBPVff5A==",
      "license": "BSD-3-Clause",
      "engines": {
        "node": ">=0.3.1"
      }
    },
    "node_modules/dlv": {
      "version": "1.1.3",
      "resolved": "https://registry.npmjs.org/dlv/-/dlv-1.1.3.tgz",
      "integrity": "sha512-+HlytyjlPKnIG8XuRG8WvmBP8xs8P71y+SKKS6ZXWoEgLuePxtDoUEiH7WkdePWrQ5JBpE6aoVqfZfJUQkjXwA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/dompurify": {
      "version": "3.1.6",
      "resolved": "https://registry.npmjs.org/dompurify/-/dompurify-3.1.6.tgz",
      "integrity": "sha512-cTOAhc36AalkjtBpfG6O8JimdTMWNXjiePT2xQH/ppBGi/4uIpmj8eKyIkMJErXWARyINV/sB38yf8JCLF5pbQ==",
      "license": "(MPL-2.0 OR Apache-2.0)"
    },
    "node_modules/dunder-proto": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/dunder-proto/-/dunder-proto-1.0.1.tgz",
      "integrity": "sha512-KIN/nDJBQRcXw0MLVhZE9iQHmG68qAVIBg9CqmUYjmQIhgij9U5MFvrqkUL5FbtyyzZuOeOt0zdeRe4UY7ct+A==",
      "license": "MIT",
      "dependencies": {
        "call-bind-apply-helpers": "^1.0.1",
        "es-errors": "^1.3.0",
        "gopd": "^1.2.0"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/eastasianwidth": {
      "version": "0.2.0",
      "resolved": "https://registry.npmjs.org/eastasianwidth/-/eastasianwidth-0.2.0.tgz",
      "integrity": "sha512-I88TYZWc9XiYHRQ4/3c5rjjfgkjhLyW2luGIheGERbNQ6OY7yTybanSpDXZa8y7VUP9YmDcYa+eyq4ca7iLqWA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/electron-to-chromium": {
      "version": "1.5.155",
      "resolved": "https://registry.npmjs.org/electron-to-chromium/-/electron-to-chromium-1.5.155.tgz",
      "integrity": "sha512-ps5KcGGmwL8VaeJlvlDlu4fORQpv3+GIcF5I3f9tUKUlJ/wsysh6HU8P5L1XWRYeXfA0oJd4PyM8ds8zTFf6Ng==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/elkjs": {
      "version": "0.9.3",
      "resolved": "https://registry.npmjs.org/elkjs/-/elkjs-0.9.3.tgz",
      "integrity": "sha512-f/ZeWvW/BCXbhGEf1Ujp29EASo/lk1FDnETgNKwJrsVvGZhUWCZyg3xLJjAsxfOmt8KjswHmI5EwCQcPMpOYhQ==",
      "license": "EPL-2.0"
    },
    "node_modules/emoji-regex": {
      "version": "9.2.2",
      "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-9.2.2.tgz",
      "integrity": "sha512-L18DaJsXSUk2+42pv8mLs5jJT2hqFkFE4j21wOmgbUqsZ2hL72NsUU785g9RXgo3s0ZNgVl42TiHp3ZtOv/Vyg==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/entities": {
      "version": "4.5.0",
      "resolved": "https://registry.npmjs.org/entities/-/entities-4.5.0.tgz",
      "integrity": "sha512-V0hjH4dGPh9Ao5p0MoRY6BVqtwCjhz6vI5LT8AJ55H+4g9/4vbHx1I54fS0XuclLhDHArPQCiMjDxjaL8fPxhw==",
      "license": "BSD-2-Clause",
      "engines": {
        "node": ">=0.12"
      },
      "funding": {
        "url": "https://github.com/fb55/entities?sponsor=1"
      }
    },
    "node_modules/es-define-property": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/es-define-property/-/es-define-property-1.0.1.tgz",
      "integrity": "sha512-e3nRfgfUZ4rNGL232gUgX06QNyyez04KdjFrF+LTRoOXmrOgFKDg4BCdsjW8EnT69eqdYGmRpJwiPVYNrCaW3g==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/es-errors": {
      "version": "1.3.0",
      "resolved": "https://registry.npmjs.org/es-errors/-/es-errors-1.3.0.tgz",
      "integrity": "sha512-Zf5H2Kxt2xjTvbJvP2ZWLEICxA6j+hAmMzIlypy4xcBg1vKVnx89Wy0GbS+kf5cwCVFFzdCFh2XSCFNULS6csw==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/es-object-atoms": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/es-object-atoms/-/es-object-atoms-1.1.1.tgz",
      "integrity": "sha512-FGgH2h8zKNim9ljj7dankFPcICIK9Cp5bm+c2gQSYePhpaG5+esrLODihIorn+Pe6FGJzWhXQotPv73jTaldXA==",
      "license": "MIT",
      "dependencies": {
        "es-errors": "^1.3.0"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/es-set-tostringtag": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/es-set-tostringtag/-/es-set-tostringtag-2.1.0.tgz",
      "integrity": "sha512-j6vWzfrGVfyXxge+O0x5sh6cvxAog0a/4Rdd2K36zCMV5eJ+/+tOAngRO8cODMNWbVRdVlmGZQL2YS3yR8bIUA==",
      "license": "MIT",
      "dependencies": {
        "es-errors": "^1.3.0",
        "get-intrinsic": "^1.2.6",
        "has-tostringtag": "^1.0.2",
        "hasown": "^2.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/esbuild": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/esbuild/-/esbuild-0.21.5.tgz",
      "integrity": "sha512-mg3OPMV4hXywwpoDxu3Qda5xCKQi+vCTZq8S9J/EpkhB2HzKXq4SNFZE3+NK93JYxc8VMSep+lOUSC/RVKaBqw==",
      "dev": true,
      "hasInstallScript": true,
      "license": "MIT",
      "bin": {
        "esbuild": "bin/esbuild"
      },
      "engines": {
        "node": ">=12"
      },
      "optionalDependencies": {
        "@esbuild/aix-ppc64": "0.21.5",
        "@esbuild/android-arm": "0.21.5",
        "@esbuild/android-arm64": "0.21.5",
        "@esbuild/android-x64": "0.21.5",
        "@esbuild/darwin-arm64": "0.21.5",
        "@esbuild/darwin-x64": "0.21.5",
        "@esbuild/freebsd-arm64": "0.21.5",
        "@esbuild/freebsd-x64": "0.21.5",
        "@esbuild/linux-arm": "0.21.5",
        "@esbuild/linux-arm64": "0.21.5",
        "@esbuild/linux-ia32": "0.21.5",
        "@esbuild/linux-loong64": "0.21.5",
        "@esbuild/linux-mips64el": "0.21.5",
        "@esbuild/linux-ppc64": "0.21.5",
        "@esbuild/linux-riscv64": "0.21.5",
        "@esbuild/linux-s390x": "0.21.5",
        "@esbuild/linux-x64": "0.21.5",
        "@esbuild/netbsd-x64": "0.21.5",
        "@esbuild/openbsd-x64": "0.21.5",
        "@esbuild/sunos-x64": "0.21.5",
        "@esbuild/win32-arm64": "0.21.5",
        "@esbuild/win32-ia32": "0.21.5",
        "@esbuild/win32-x64": "0.21.5"
      }
    },
    "node_modules/escalade": {
      "version": "3.2.0",
      "resolved": "https://registry.npmjs.org/escalade/-/escalade-3.2.0.tgz",
      "integrity": "sha512-WUj2qlxaQtO4g6Pq5c29GTcWGDyd8itL8zTlipgECz3JesAiiOKotd8JU6otB3PACgG6xkJUyVhboMS+bje/jA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/estree-walker": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/estree-walker/-/estree-walker-2.0.2.tgz",
      "integrity": "sha512-Rfkk/Mp/DL7JVje3u18FxFujQlTNR2q6QfMSMB7AvCBx91NGj/ba3kCfza0f6dVDbw7YlRf/nDrn7pQrCCyQ/w==",
      "license": "MIT"
    },
    "node_modules/fast-glob": {
      "version": "3.3.3",
      "resolved": "https://registry.npmjs.org/fast-glob/-/fast-glob-3.3.3.tgz",
      "integrity": "sha512-7MptL8U0cqcFdzIzwOTHoilX9x5BrNqye7Z/LuC7kCMRio1EMSyqRK3BEAUD7sXRq4iT4AzTVuZdhgQ2TCvYLg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@nodelib/fs.stat": "^2.0.2",
        "@nodelib/fs.walk": "^1.2.3",
        "glob-parent": "^5.1.2",
        "merge2": "^1.3.0",
        "micromatch": "^4.0.8"
      },
      "engines": {
        "node": ">=8.6.0"
      }
    },
    "node_modules/fast-glob/node_modules/glob-parent": {
      "version": "5.1.2",
      "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-5.1.2.tgz",
      "integrity": "sha512-AOIgSQCepiJYwP3ARnGx+5VnTu2HBYdzbGP45eLw1vr3zB3vZLeyed1sC9hnbcOc9/SrMyM5RPQrkGz4aS9Zow==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "is-glob": "^4.0.1"
      },
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/fastq": {
      "version": "1.19.1",
      "resolved": "https://registry.npmjs.org/fastq/-/fastq-1.19.1.tgz",
      "integrity": "sha512-GwLTyxkCXjXbxqIhTsMI2Nui8huMPtnxg7krajPJAjnEG/iiOS7i+zCtWGZR9G0NBKbXKh6X9m9UIsYX/N6vvQ==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "reusify": "^1.0.4"
      }
    },
    "node_modules/fill-range": {
      "version": "7.1.1",
      "resolved": "https://registry.npmjs.org/fill-range/-/fill-range-7.1.1.tgz",
      "integrity": "sha512-YsGpe3WHLK8ZYi4tWDg2Jy3ebRz2rXowDxnld4bkQB00cc/1Zw9AWnC0i9ztDJitivtQvaI9KaLyKrc+hBW0yg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "to-regex-range": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/follow-redirects": {
      "version": "1.15.9",
      "resolved": "https://registry.npmjs.org/follow-redirects/-/follow-redirects-1.15.9.tgz",
      "integrity": "sha512-gew4GsXizNgdoRyqmyfMHyAmXsZDk6mHkSxZFCzW9gwlbtOW44CDtYavM+y+72qD/Vq2l550kMF52DT8fOLJqQ==",
      "funding": [
        {
          "type": "individual",
          "url": "https://github.com/sponsors/RubenVerborgh"
        }
      ],
      "license": "MIT",
      "engines": {
        "node": ">=4.0"
      },
      "peerDependenciesMeta": {
        "debug": {
          "optional": true
        }
      }
    },
    "node_modules/foreground-child": {
      "version": "3.3.1",
      "resolved": "https://registry.npmjs.org/foreground-child/-/foreground-child-3.3.1.tgz",
      "integrity": "sha512-gIXjKqtFuWEgzFRJA9WCQeSJLZDjgJUOMCMzxtvFq/37KojM1BFGufqsCy0r4qSQmYLsZYMeyRqzIWOMup03sw==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "cross-spawn": "^7.0.6",
        "signal-exit": "^4.0.1"
      },
      "engines": {
        "node": ">=14"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/form-data": {
      "version": "4.0.2",
      "resolved": "https://registry.npmjs.org/form-data/-/form-data-4.0.2.tgz",
      "integrity": "sha512-hGfm/slu0ZabnNt4oaRZ6uREyfCj6P4fT/n6A1rGV+Z0VdGXjfOhVUpkn6qVQONHGIFwmveGXyDs75+nr6FM8w==",
      "license": "MIT",
      "dependencies": {
        "asynckit": "^0.4.0",
        "combined-stream": "^1.0.8",
        "es-set-tostringtag": "^2.1.0",
        "mime-types": "^2.1.12"
      },
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/fraction.js": {
      "version": "4.3.7",
      "resolved": "https://registry.npmjs.org/fraction.js/-/fraction.js-4.3.7.tgz",
      "integrity": "sha512-ZsDfxO51wGAXREY55a7la9LScWpwv9RxIrYABrlvOFBlH/ShPnrtsXeuUIfXKKOVicNxQ+o8JTbJvjS4M89yew==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": "*"
      },
      "funding": {
        "type": "patreon",
        "url": "https://github.com/sponsors/rawify"
      }
    },
    "node_modules/fsevents": {
      "version": "2.3.3",
      "resolved": "https://registry.npmjs.org/fsevents/-/fsevents-2.3.3.tgz",
      "integrity": "sha512-5xoDfX+fL7faATnagmWPpbFtwh/R77WmMMqqHGS65C3vvB0YHrgF+B1YmZ3441tMj5n63k0212XNoJwzlhffQw==",
      "dev": true,
      "hasInstallScript": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": "^8.16.0 || ^10.6.0 || >=11.0.0"
      }
    },
    "node_modules/function-bind": {
      "version": "1.1.2",
      "resolved": "https://registry.npmjs.org/function-bind/-/function-bind-1.1.2.tgz",
      "integrity": "sha512-7XHNxH7qX9xG5mIwxkhumTox/MIRNcOgDrxWsMt2pAr23WHp6MrRlN7FBSFpCpr+oVO0F744iUgR82nJMfG2SA==",
      "license": "MIT",
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/get-intrinsic": {
      "version": "1.3.0",
      "resolved": "https://registry.npmjs.org/get-intrinsic/-/get-intrinsic-1.3.0.tgz",
      "integrity": "sha512-9fSjSaos/fRIVIp+xSJlE6lfwhES7LNtKaCBIamHsjr2na1BiABJPo0mOjjz8GJDURarmCPGqaiVg5mfjb98CQ==",
      "license": "MIT",
      "dependencies": {
        "call-bind-apply-helpers": "^1.0.2",
        "es-define-property": "^1.0.1",
        "es-errors": "^1.3.0",
        "es-object-atoms": "^1.1.1",
        "function-bind": "^1.1.2",
        "get-proto": "^1.0.1",
        "gopd": "^1.2.0",
        "has-symbols": "^1.1.0",
        "hasown": "^2.0.2",
        "math-intrinsics": "^1.1.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/get-proto": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/get-proto/-/get-proto-1.0.1.tgz",
      "integrity": "sha512-sTSfBjoXBp89JvIKIefqw7U2CCebsc74kiY6awiGogKtoSGbgjYE/G/+l9sF3MWFPNc9IcoOC4ODfKHfxFmp0g==",
      "license": "MIT",
      "dependencies": {
        "dunder-proto": "^1.0.1",
        "es-object-atoms": "^1.0.0"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/glob": {
      "version": "10.4.5",
      "resolved": "https://registry.npmjs.org/glob/-/glob-10.4.5.tgz",
      "integrity": "sha512-7Bv8RF0k6xjo7d4A/PxYLbUCfb6c+Vpd2/mB2yRDlew7Jb5hEXiCD9ibfO7wpk8i4sevK6DFny9h7EYbM3/sHg==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "foreground-child": "^3.1.0",
        "jackspeak": "^3.1.2",
        "minimatch": "^9.0.4",
        "minipass": "^7.1.2",
        "package-json-from-dist": "^1.0.0",
        "path-scurry": "^1.11.1"
      },
      "bin": {
        "glob": "dist/esm/bin.mjs"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/glob-parent": {
      "version": "6.0.2",
      "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-6.0.2.tgz",
      "integrity": "sha512-XxwI8EOhVQgWp6iDL+3b0r86f4d6AX6zSU55HfB4ydCEuXLXc5FcYeOu+nnGftS4TEju/11rt4KJPTMgbfmv4A==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "is-glob": "^4.0.3"
      },
      "engines": {
        "node": ">=10.13.0"
      }
    },
    "node_modules/gopd": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/gopd/-/gopd-1.2.0.tgz",
      "integrity": "sha512-ZUKRh6/kUFoAiTAtTYPZJ3hw9wNxx+BIBOijnlG9PnrJsCcSjs1wyyD6vJpaYtgnzDrKYRSqf3OO6Rfa93xsRg==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/has-symbols": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/has-symbols/-/has-symbols-1.1.0.tgz",
      "integrity": "sha512-1cDNdwJ2Jaohmb3sg4OmKaMBwuC48sYni5HUw2DvsC8LjGTLK9h+eb1X6RyuOHe4hT0ULCW68iomhjUoKUqlPQ==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/has-tostringtag": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/has-tostringtag/-/has-tostringtag-1.0.2.tgz",
      "integrity": "sha512-NqADB8VjPFLM2V0VvHUewwwsw0ZWBaIdgo+ieHtK3hasLz4qeCRjYcqfB6AQrBggRKppKF8L52/VqdVsO47Dlw==",
      "license": "MIT",
      "dependencies": {
        "has-symbols": "^1.0.3"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/hasown": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/hasown/-/hasown-2.0.2.tgz",
      "integrity": "sha512-0hJU9SCPvmMzIBdZFqNPXWa6dqh7WdH0cII9y+CyS8rG3nL48Bclra9HmKhVVUHyPWNH5Y7xDwAB7bfgSjkUMQ==",
      "license": "MIT",
      "dependencies": {
        "function-bind": "^1.1.2"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/he": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/he/-/he-1.2.0.tgz",
      "integrity": "sha512-F/1DnUGPopORZi0ni+CvrCgHQ5FyEAHRLSApuYWMmrbSwoN2Mn/7k+Gl38gJnR7yyDZk6WLXwiGod1JOWNDKGw==",
      "dev": true,
      "license": "MIT",
      "bin": {
        "he": "bin/he"
      }
    },
    "node_modules/highlight.js": {
      "version": "11.11.1",
      "resolved": "https://registry.npmjs.org/highlight.js/-/highlight.js-11.11.1.tgz",
      "integrity": "sha512-Xwwo44whKBVCYoliBQwaPvtd/2tYFkRQtXDWj1nackaV2JPXx3L0+Jvd8/qCJ2p+ML0/XVkJ2q+Mr+UVdpJK5w==",
      "license": "BSD-3-Clause",
      "engines": {
        "node": ">=12.0.0"
      }
    },
    "node_modules/iconv-lite": {
      "version": "0.6.3",
      "resolved": "https://registry.npmjs.org/iconv-lite/-/iconv-lite-0.6.3.tgz",
      "integrity": "sha512-4fCk79wshMdzMp2rH06qWrJE4iolqLhCUH+OiuIgU++RB0+94NlDL81atO7GX55uUKueo0txHNtvEyI6D7WdMw==",
      "license": "MIT",
      "dependencies": {
        "safer-buffer": ">= 2.1.2 < 3.0.0"
      },
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/immediate": {
      "version": "3.0.6",
      "resolved": "https://registry.npmjs.org/immediate/-/immediate-3.0.6.tgz",
      "integrity": "sha512-XXOFtyqDjNDAQxVfYxuF7g9Il/IbWmmlQg2MYKOH8ExIT1qg6xc4zyS3HaEEATgs1btfzxq15ciUiY7gjSXRGQ==",
      "license": "MIT"
    },
    "node_modules/internmap": {
      "version": "2.0.3",
      "resolved": "https://registry.npmjs.org/internmap/-/internmap-2.0.3.tgz",
      "integrity": "sha512-5Hh7Y1wQbvY5ooGgPbDaL5iYLAPzMTUrjMulskHLH6wnv/A+1q5rgEaiuqEjB+oxGXIVZs1FF+R/KPN3ZSQYYg==",
      "license": "ISC",
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/is-binary-path": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/is-binary-path/-/is-binary-path-2.1.0.tgz",
      "integrity": "sha512-ZMERYes6pDydyuGidse7OsHxtbI7WVeUEozgR/g7rd0xUimYNlvZRE/K2MgZTjWy725IfelLeVcEM97mmtRGXw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "binary-extensions": "^2.0.0"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/is-core-module": {
      "version": "2.16.1",
      "resolved": "https://registry.npmjs.org/is-core-module/-/is-core-module-2.16.1.tgz",
      "integrity": "sha512-UfoeMA6fIJ8wTYFEUjelnaGI67v6+N7qXJEvQuIGa99l4xsCruSYOVSQ0uPANn4dAzm8lkYPaKLrrijLq7x23w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "hasown": "^2.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-extglob": {
      "version": "2.1.1",
      "resolved": "https://registry.npmjs.org/is-extglob/-/is-extglob-2.1.1.tgz",
      "integrity": "sha512-SbKbANkN603Vi4jEZv49LeVJMn4yGwsbzZworEoyEiutsN3nJYdbO36zfhGJ6QEDpOZIFkDtnq5JRxmvl3jsoQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/is-fullwidth-code-point": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/is-fullwidth-code-point/-/is-fullwidth-code-point-3.0.0.tgz",
      "integrity": "sha512-zymm5+u+sCsSWyD9qNaejV3DFvhCKclKdizYaJUuHA83RLjb7nSuGnddCHGv0hk+KY7BMAlsWeK4Ueg6EV6XQg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/is-glob": {
      "version": "4.0.3",
      "resolved": "https://registry.npmjs.org/is-glob/-/is-glob-4.0.3.tgz",
      "integrity": "sha512-xelSayHH36ZgE7ZWhli7pW34hNbNl8Ojv5KVmkJD4hBdD3th8Tfk9vYasLM+mXWOZhFkgZfxhLSnrwRr4elSSg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "is-extglob": "^2.1.1"
      },
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/is-number": {
      "version": "7.0.0",
      "resolved": "https://registry.npmjs.org/is-number/-/is-number-7.0.0.tgz",
      "integrity": "sha512-41Cifkg6e8TylSpdtTpeLVMqvSBEVzTttHvERD741+pnZ8ANv0004MRL43QKPDlK9cGvNp6NZWZUBlbGXYxxng==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.12.0"
      }
    },
    "node_modules/isexe": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/isexe/-/isexe-2.0.0.tgz",
      "integrity": "sha512-RHxMLp9lnKHGHRng9QFhRCMbYAcVpn69smSGcq3f36xjgVVWThj4qqLbTLlq7Ssj8B+fIQ1EuCEGI2lKsyQeIw==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/jackspeak": {
      "version": "3.4.3",
      "resolved": "https://registry.npmjs.org/jackspeak/-/jackspeak-3.4.3.tgz",
      "integrity": "sha512-OGlZQpz2yfahA/Rd1Y8Cd9SIEsqvXkLVoSw/cgwhnhFMDbsQFeZYoJJ7bIZBS9BcamUW96asq/npPWugM+RQBw==",
      "dev": true,
      "license": "BlueOak-1.0.0",
      "dependencies": {
        "@isaacs/cliui": "^8.0.2"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      },
      "optionalDependencies": {
        "@pkgjs/parseargs": "^0.11.0"
      }
    },
    "node_modules/jiti": {
      "version": "1.21.7",
      "resolved": "https://registry.npmjs.org/jiti/-/jiti-1.21.7.tgz",
      "integrity": "sha512-/imKNG4EbWNrVjoNC/1H5/9GFy+tqjGBHCaSsN+P2RnPqjsLmv6UD3Ej+Kj8nBWaRAwyk7kK5ZUc+OEatnTR3A==",
      "dev": true,
      "license": "MIT",
      "bin": {
        "jiti": "bin/jiti.js"
      }
    },
    "node_modules/katex": {
      "version": "0.16.22",
      "resolved": "https://registry.npmjs.org/katex/-/katex-0.16.22.tgz",
      "integrity": "sha512-XCHRdUw4lf3SKBaJe4EvgqIuWwkPSo9XoeO8GjQW94Bp7TWv9hNhzZjZ+OH9yf1UmLygb7DIT5GSFQiyt16zYg==",
      "funding": [
        "https://opencollective.com/katex",
        "https://github.com/sponsors/katex"
      ],
      "license": "MIT",
      "dependencies": {
        "commander": "^8.3.0"
      },
      "bin": {
        "katex": "cli.js"
      }
    },
    "node_modules/katex/node_modules/commander": {
      "version": "8.3.0",
      "resolved": "https://registry.npmjs.org/commander/-/commander-8.3.0.tgz",
      "integrity": "sha512-OkTL9umf+He2DZkUq8f8J9of7yL6RJKI24dVITBmNfZBmri9zYZQrKkuXiKhyfPSu8tUhnVBB1iKXevvnlR4Ww==",
      "license": "MIT",
      "engines": {
        "node": ">= 12"
      }
    },
    "node_modules/khroma": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/khroma/-/khroma-2.1.0.tgz",
      "integrity": "sha512-Ls993zuzfayK269Svk9hzpeGUKob/sIgZzyHYdjQoAdQetRKpOLj+k/QQQ/6Qi0Yz65mlROrfd+Ev+1+7dz9Kw=="
    },
    "node_modules/kleur": {
      "version": "4.1.5",
      "resolved": "https://registry.npmjs.org/kleur/-/kleur-4.1.5.tgz",
      "integrity": "sha512-o+NO+8WrRiQEE4/7nwRJhN1HWpVmJm511pBHUxPLtp0BUISzlBplORYSmTclCnJvQq2tKu/sgl3xVpkc7ZWuQQ==",
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/layout-base": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/layout-base/-/layout-base-1.0.2.tgz",
      "integrity": "sha512-8h2oVEZNktL4BH2JCOI90iD1yXwL6iNW7KcCKT2QZgQJR2vbqDsldCTPRU9NifTCqHZci57XvQQ15YTu+sTYPg==",
      "license": "MIT"
    },
    "node_modules/lie": {
      "version": "3.1.1",
      "resolved": "https://registry.npmjs.org/lie/-/lie-3.1.1.tgz",
      "integrity": "sha512-RiNhHysUjhrDQntfYSfY4MU24coXXdEOgw9WGcKHNeEwffDYbF//u87M1EWaMGzuFoSbqW0C9C6lEEhDOAswfw==",
      "license": "MIT",
      "dependencies": {
        "immediate": "~3.0.5"
      }
    },
    "node_modules/lilconfig": {
      "version": "3.1.3",
      "resolved": "https://registry.npmjs.org/lilconfig/-/lilconfig-3.1.3.tgz",
      "integrity": "sha512-/vlFKAoH5Cgt3Ie+JLhRbwOsCQePABiU3tJ1egGvyQ+33R/vcwM2Zl2QR/LzjsBeItPt3oSVXapn+m4nQDvpzw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=14"
      },
      "funding": {
        "url": "https://github.com/sponsors/antonk52"
      }
    },
    "node_modules/lines-and-columns": {
      "version": "1.2.4",
      "resolved": "https://registry.npmjs.org/lines-and-columns/-/lines-and-columns-1.2.4.tgz",
      "integrity": "sha512-7ylylesZQ/PV29jhEDl3Ufjo6ZX7gCqJr5F7PKrqc93v7fzSymt1BpwEU8nAUXs8qzzvqhbjhK5QZg6Mt/HkBg==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/localforage": {
      "version": "1.10.0",
      "resolved": "https://registry.npmjs.org/localforage/-/localforage-1.10.0.tgz",
      "integrity": "sha512-14/H1aX7hzBBmmh7sGPd+AOMkkIrHM3Z1PAyGgZigA1H1p5O5ANnMyWzvpAETtG68/dC4pC0ncy3+PPGzXZHPg==",
      "license": "Apache-2.0",
      "dependencies": {
        "lie": "3.1.1"
      }
    },
    "node_modules/lodash-es": {
      "version": "4.17.21",
      "resolved": "https://registry.npmjs.org/lodash-es/-/lodash-es-4.17.21.tgz",
      "integrity": "sha512-mKnC+QJ9pWVzv+C4/U3rRsHapFfHvQFoFB92e52xeyGMcX6/OlIl78je1u8vePzYZSkkogMPJ2yjxxsb89cxyw==",
      "license": "MIT"
    },
    "node_modules/lodash.castarray": {
      "version": "4.4.0",
      "resolved": "https://registry.npmjs.org/lodash.castarray/-/lodash.castarray-4.4.0.tgz",
      "integrity": "sha512-aVx8ztPv7/2ULbArGJ2Y42bG1mEQ5mGjpdvrbJcJFU3TbYybe+QlLS4pst9zV52ymy2in1KpFPiZnAOATxD4+Q==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/lodash.isplainobject": {
      "version": "4.0.6",
      "resolved": "https://registry.npmjs.org/lodash.isplainobject/-/lodash.isplainobject-4.0.6.tgz",
      "integrity": "sha512-oSXzaWypCMHkPC3NvBEaPHf0KsA5mvPrOPgQWDsbg8n7orZ290M0BmC/jgRZ4vcJ6DTAhjrsSYgdsW/F+MFOBA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/lodash.merge": {
      "version": "4.6.2",
      "resolved": "https://registry.npmjs.org/lodash.merge/-/lodash.merge-4.6.2.tgz",
      "integrity": "sha512-0KpjqXRVvrYyCsX1swR/XTK0va6VQkQM6MNo7PqW77ByjAhoARA8EfrP1N4+KlKj8YS0ZUCtRT/YUuhyYDujIQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/lru-cache": {
      "version": "10.4.3",
      "resolved": "https://registry.npmjs.org/lru-cache/-/lru-cache-10.4.3.tgz",
      "integrity": "sha512-JNAzZcXrCt42VGLuYz0zfAzDfAvJWW6AfYlDBQyDV5DClI2m5sAmK+OIO7s59XfsRsWHp02jAJrRadPRGTt6SQ==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/magic-string": {
      "version": "0.30.17",
      "resolved": "https://registry.npmjs.org/magic-string/-/magic-string-0.30.17.tgz",
      "integrity": "sha512-sNPKHvyjVf7gyjwS4xGTaW/mCnF8wnjtifKBEhxfZ7E/S8tQ0rssrwGNn6q8JH/ohItJfSQp9mBtQYuTlH5QnA==",
      "license": "MIT",
      "dependencies": {
        "@jridgewell/sourcemap-codec": "^1.5.0"
      }
    },
    "node_modules/marked": {
      "version": "10.0.0",
      "resolved": "https://registry.npmjs.org/marked/-/marked-10.0.0.tgz",
      "integrity": "sha512-YiGcYcWj50YrwBgNzFoYhQ1hT6GmQbFG8SksnYJX1z4BXTHSOrz1GB5/Jm2yQvMg4nN1FHP4M6r03R10KrVUiA==",
      "license": "MIT",
      "bin": {
        "marked": "bin/marked.js"
      },
      "engines": {
        "node": ">= 18"
      }
    },
    "node_modules/math-intrinsics": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/math-intrinsics/-/math-intrinsics-1.1.0.tgz",
      "integrity": "sha512-/IXtbwEk5HTPyEwyKX6hGkYXxM9nbj64B+ilVJnC/R6B0pH5G4V3b0pVbL7DBj4tkhBAppbQUlf6F6Xl9LHu1g==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/mdast-util-from-markdown": {
      "version": "1.3.1",
      "resolved": "https://registry.npmjs.org/mdast-util-from-markdown/-/mdast-util-from-markdown-1.3.1.tgz",
      "integrity": "sha512-4xTO/M8c82qBcnQc1tgpNtubGUW/Y1tBQ1B0i5CtSoelOLKFYlElIr3bvgREYYO5iRqbMY1YuqZng0GVOI8Qww==",
      "license": "MIT",
      "dependencies": {
        "@types/mdast": "^3.0.0",
        "@types/unist": "^2.0.0",
        "decode-named-character-reference": "^1.0.0",
        "mdast-util-to-string": "^3.1.0",
        "micromark": "^3.0.0",
        "micromark-util-decode-numeric-character-reference": "^1.0.0",
        "micromark-util-decode-string": "^1.0.0",
        "micromark-util-normalize-identifier": "^1.0.0",
        "micromark-util-symbol": "^1.0.0",
        "micromark-util-types": "^1.0.0",
        "unist-util-stringify-position": "^3.0.0",
        "uvu": "^0.5.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/mdast-util-to-string": {
      "version": "3.2.0",
      "resolved": "https://registry.npmjs.org/mdast-util-to-string/-/mdast-util-to-string-3.2.0.tgz",
      "integrity": "sha512-V4Zn/ncyN1QNSqSBxTrMOLpjr+IKdHl2v3KVLoWmDPscP4r9GcCi71gjgvUV1SFSKh92AjAG4peFuBl2/YgCJg==",
      "license": "MIT",
      "dependencies": {
        "@types/mdast": "^3.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/merge2": {
      "version": "1.4.1",
      "resolved": "https://registry.npmjs.org/merge2/-/merge2-1.4.1.tgz",
      "integrity": "sha512-8q7VEgMJW4J8tcfVPy8g09NcQwZdbwFEqhe/WZkoIzjn/3TGDwtOCYtXGxA3O8tPzpczCCDgv+P2P5y00ZJOOg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/mermaid": {
      "version": "10.9.3",
      "resolved": "https://registry.npmjs.org/mermaid/-/mermaid-10.9.3.tgz",
      "integrity": "sha512-V80X1isSEvAewIL3xhmz/rVmc27CVljcsbWxkxlWJWY/1kQa4XOABqpDl2qQLGKzpKm6WbTfUEKImBlUfFYArw==",
      "license": "MIT",
      "dependencies": {
        "@braintree/sanitize-url": "^6.0.1",
        "@types/d3-scale": "^4.0.3",
        "@types/d3-scale-chromatic": "^3.0.0",
        "cytoscape": "^3.28.1",
        "cytoscape-cose-bilkent": "^4.1.0",
        "d3": "^7.4.0",
        "d3-sankey": "^0.12.3",
        "dagre-d3-es": "7.0.10",
        "dayjs": "^1.11.7",
        "dompurify": "^3.0.5 <3.1.7",
        "elkjs": "^0.9.0",
        "katex": "^0.16.9",
        "khroma": "^2.0.0",
        "lodash-es": "^4.17.21",
        "mdast-util-from-markdown": "^1.3.0",
        "non-layered-tidy-tree-layout": "^2.0.2",
        "stylis": "^4.1.3",
        "ts-dedent": "^2.2.0",
        "uuid": "^9.0.0",
        "web-worker": "^1.2.0"
      }
    },
    "node_modules/micromark": {
      "version": "3.2.0",
      "resolved": "https://registry.npmjs.org/micromark/-/micromark-3.2.0.tgz",
      "integrity": "sha512-uD66tJj54JLYq0De10AhWycZWGQNUvDI55xPgk2sQM5kn1JYlhbCMTtEeT27+vAhW2FBQxLlOmS3pmA7/2z4aA==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "@types/debug": "^4.0.0",
        "debug": "^4.0.0",
        "decode-named-character-reference": "^1.0.0",
        "micromark-core-commonmark": "^1.0.1",
        "micromark-factory-space": "^1.0.0",
        "micromark-util-character": "^1.0.0",
        "micromark-util-chunked": "^1.0.0",
        "micromark-util-combine-extensions": "^1.0.0",
        "micromark-util-decode-numeric-character-reference": "^1.0.0",
        "micromark-util-encode": "^1.0.0",
        "micromark-util-normalize-identifier": "^1.0.0",
        "micromark-util-resolve-all": "^1.0.0",
        "micromark-util-sanitize-uri": "^1.0.0",
        "micromark-util-subtokenize": "^1.0.0",
        "micromark-util-symbol": "^1.0.0",
        "micromark-util-types": "^1.0.1",
        "uvu": "^0.5.0"
      }
    },
    "node_modules/micromark-core-commonmark": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/micromark-core-commonmark/-/micromark-core-commonmark-1.1.0.tgz",
      "integrity": "sha512-BgHO1aRbolh2hcrzL2d1La37V0Aoz73ymF8rAcKnohLy93titmv62E0gP8Hrx9PKcKrqCZ1BbLGbP3bEhoXYlw==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "decode-named-character-reference": "^1.0.0",
        "micromark-factory-destination": "^1.0.0",
        "micromark-factory-label": "^1.0.0",
        "micromark-factory-space": "^1.0.0",
        "micromark-factory-title": "^1.0.0",
        "micromark-factory-whitespace": "^1.0.0",
        "micromark-util-character": "^1.0.0",
        "micromark-util-chunked": "^1.0.0",
        "micromark-util-classify-character": "^1.0.0",
        "micromark-util-html-tag-name": "^1.0.0",
        "micromark-util-normalize-identifier": "^1.0.0",
        "micromark-util-resolve-all": "^1.0.0",
        "micromark-util-subtokenize": "^1.0.0",
        "micromark-util-symbol": "^1.0.0",
        "micromark-util-types": "^1.0.1",
        "uvu": "^0.5.0"
      }
    },
    "node_modules/micromark-factory-destination": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/micromark-factory-destination/-/micromark-factory-destination-1.1.0.tgz",
      "integrity": "sha512-XaNDROBgx9SgSChd69pjiGKbV+nfHGDPVYFs5dOoDd7ZnMAE+Cuu91BCpsY8RT2NP9vo/B8pds2VQNCLiu0zhg==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-character": "^1.0.0",
        "micromark-util-symbol": "^1.0.0",
        "micromark-util-types": "^1.0.0"
      }
    },
    "node_modules/micromark-factory-label": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/micromark-factory-label/-/micromark-factory-label-1.1.0.tgz",
      "integrity": "sha512-OLtyez4vZo/1NjxGhcpDSbHQ+m0IIGnT8BoPamh+7jVlzLJBH98zzuCoUeMxvM6WsNeh8wx8cKvqLiPHEACn0w==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-character": "^1.0.0",
        "micromark-util-symbol": "^1.0.0",
        "micromark-util-types": "^1.0.0",
        "uvu": "^0.5.0"
      }
    },
    "node_modules/micromark-factory-space": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/micromark-factory-space/-/micromark-factory-space-1.1.0.tgz",
      "integrity": "sha512-cRzEj7c0OL4Mw2v6nwzttyOZe8XY/Z8G0rzmWQZTBi/jjwyw/U4uqKtUORXQrR5bAZZnbTI/feRV/R7hc4jQYQ==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-character": "^1.0.0",
        "micromark-util-types": "^1.0.0"
      }
    },
    "node_modules/micromark-factory-title": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/micromark-factory-title/-/micromark-factory-title-1.1.0.tgz",
      "integrity": "sha512-J7n9R3vMmgjDOCY8NPw55jiyaQnH5kBdV2/UXCtZIpnHH3P6nHUKaH7XXEYuWwx/xUJcawa8plLBEjMPU24HzQ==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-factory-space": "^1.0.0",
        "micromark-util-character": "^1.0.0",
        "micromark-util-symbol": "^1.0.0",
        "micromark-util-types": "^1.0.0"
      }
    },
    "node_modules/micromark-factory-whitespace": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/micromark-factory-whitespace/-/micromark-factory-whitespace-1.1.0.tgz",
      "integrity": "sha512-v2WlmiymVSp5oMg+1Q0N1Lxmt6pMhIHD457whWM7/GUlEks1hI9xj5w3zbc4uuMKXGisksZk8DzP2UyGbGqNsQ==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-factory-space": "^1.0.0",
        "micromark-util-character": "^1.0.0",
        "micromark-util-symbol": "^1.0.0",
        "micromark-util-types": "^1.0.0"
      }
    },
    "node_modules/micromark-util-character": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/micromark-util-character/-/micromark-util-character-1.2.0.tgz",
      "integrity": "sha512-lXraTwcX3yH/vMDaFWCQJP1uIszLVebzUa3ZHdrgxr7KEU/9mL4mVgCpGbyhvNLNlauROiNUq7WN5u7ndbY6xg==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-symbol": "^1.0.0",
        "micromark-util-types": "^1.0.0"
      }
    },
    "node_modules/micromark-util-chunked": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/micromark-util-chunked/-/micromark-util-chunked-1.1.0.tgz",
      "integrity": "sha512-Ye01HXpkZPNcV6FiyoW2fGZDUw4Yc7vT0E9Sad83+bEDiCJ1uXu0S3mr8WLpsz3HaG3x2q0HM6CTuPdcZcluFQ==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-symbol": "^1.0.0"
      }
    },
    "node_modules/micromark-util-classify-character": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/micromark-util-classify-character/-/micromark-util-classify-character-1.1.0.tgz",
      "integrity": "sha512-SL0wLxtKSnklKSUplok1WQFoGhUdWYKggKUiqhX+Swala+BtptGCu5iPRc+xvzJ4PXE/hwM3FNXsfEVgoZsWbw==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-character": "^1.0.0",
        "micromark-util-symbol": "^1.0.0",
        "micromark-util-types": "^1.0.0"
      }
    },
    "node_modules/micromark-util-combine-extensions": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/micromark-util-combine-extensions/-/micromark-util-combine-extensions-1.1.0.tgz",
      "integrity": "sha512-Q20sp4mfNf9yEqDL50WwuWZHUrCO4fEyeDCnMGmG5Pr0Cz15Uo7KBs6jq+dq0EgX4DPwwrh9m0X+zPV1ypFvUA==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-chunked": "^1.0.0",
        "micromark-util-types": "^1.0.0"
      }
    },
    "node_modules/micromark-util-decode-numeric-character-reference": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/micromark-util-decode-numeric-character-reference/-/micromark-util-decode-numeric-character-reference-1.1.0.tgz",
      "integrity": "sha512-m9V0ExGv0jB1OT21mrWcuf4QhP46pH1KkfWy9ZEezqHKAxkj4mPCy3nIH1rkbdMlChLHX531eOrymlwyZIf2iw==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-symbol": "^1.0.0"
      }
    },
    "node_modules/micromark-util-decode-string": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/micromark-util-decode-string/-/micromark-util-decode-string-1.1.0.tgz",
      "integrity": "sha512-YphLGCK8gM1tG1bd54azwyrQRjCFcmgj2S2GoJDNnh4vYtnL38JS8M4gpxzOPNyHdNEpheyWXCTnnTDY3N+NVQ==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "decode-named-character-reference": "^1.0.0",
        "micromark-util-character": "^1.0.0",
        "micromark-util-decode-numeric-character-reference": "^1.0.0",
        "micromark-util-symbol": "^1.0.0"
      }
    },
    "node_modules/micromark-util-encode": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/micromark-util-encode/-/micromark-util-encode-1.1.0.tgz",
      "integrity": "sha512-EuEzTWSTAj9PA5GOAs992GzNh2dGQO52UvAbtSOMvXTxv3Criqb6IOzJUBCmEqrrXSblJIJBbFFv6zPxpreiJw==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT"
    },
    "node_modules/micromark-util-html-tag-name": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/micromark-util-html-tag-name/-/micromark-util-html-tag-name-1.2.0.tgz",
      "integrity": "sha512-VTQzcuQgFUD7yYztuQFKXT49KghjtETQ+Wv/zUjGSGBioZnkA4P1XXZPT1FHeJA6RwRXSF47yvJ1tsJdoxwO+Q==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT"
    },
    "node_modules/micromark-util-normalize-identifier": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/micromark-util-normalize-identifier/-/micromark-util-normalize-identifier-1.1.0.tgz",
      "integrity": "sha512-N+w5vhqrBihhjdpM8+5Xsxy71QWqGn7HYNUvch71iV2PM7+E3uWGox1Qp90loa1ephtCxG2ftRV/Conitc6P2Q==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-symbol": "^1.0.0"
      }
    },
    "node_modules/micromark-util-resolve-all": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/micromark-util-resolve-all/-/micromark-util-resolve-all-1.1.0.tgz",
      "integrity": "sha512-b/G6BTMSg+bX+xVCshPTPyAu2tmA0E4X98NSR7eIbeC6ycCqCeE7wjfDIgzEbkzdEVJXRtOG4FbEm/uGbCRouA==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-types": "^1.0.0"
      }
    },
    "node_modules/micromark-util-sanitize-uri": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/micromark-util-sanitize-uri/-/micromark-util-sanitize-uri-1.2.0.tgz",
      "integrity": "sha512-QO4GXv0XZfWey4pYFndLUKEAktKkG5kZTdUNaTAkzbuJxn2tNBOr+QtxR2XpWaMhbImT2dPzyLrPXLlPhph34A==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-character": "^1.0.0",
        "micromark-util-encode": "^1.0.0",
        "micromark-util-symbol": "^1.0.0"
      }
    },
    "node_modules/micromark-util-subtokenize": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/micromark-util-subtokenize/-/micromark-util-subtokenize-1.1.0.tgz",
      "integrity": "sha512-kUQHyzRoxvZO2PuLzMt2P/dwVsTiivCK8icYTeR+3WgbuPqfHgPPy7nFKbeqRivBvn/3N3GBiNC+JRTMSxEC7A==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-chunked": "^1.0.0",
        "micromark-util-symbol": "^1.0.0",
        "micromark-util-types": "^1.0.0",
        "uvu": "^0.5.0"
      }
    },
    "node_modules/micromark-util-symbol": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/micromark-util-symbol/-/micromark-util-symbol-1.1.0.tgz",
      "integrity": "sha512-uEjpEYY6KMs1g7QfJ2eX1SQEV+ZT4rUD3UcF6l57acZvLNK7PBZL+ty82Z1qhK1/yXIY4bdx04FKMgR0g4IAag==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT"
    },
    "node_modules/micromark-util-types": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/micromark-util-types/-/micromark-util-types-1.1.0.tgz",
      "integrity": "sha512-ukRBgie8TIAcacscVHSiddHjO4k/q3pnedmzMQ4iwDcK0FtFCohKOlFbaOL/mPgfnPsL3C1ZyxJa4sbWrBl3jg==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT"
    },
    "node_modules/micromatch": {
      "version": "4.0.8",
      "resolved": "https://registry.npmjs.org/micromatch/-/micromatch-4.0.8.tgz",
      "integrity": "sha512-PXwfBhYu0hBCPw8Dn0E+WDYb7af3dSLVWKi3HGv84IdF4TyFoC0ysxFd0Goxw7nSv4T/PzEJQxsYsEiFCKo2BA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "braces": "^3.0.3",
        "picomatch": "^2.3.1"
      },
      "engines": {
        "node": ">=8.6"
      }
    },
    "node_modules/mime-db": {
      "version": "1.52.0",
      "resolved": "https://registry.npmjs.org/mime-db/-/mime-db-1.52.0.tgz",
      "integrity": "sha512-sPU4uV7dYlvtWJxwwxHD0PuihVNiE7TyAbQ5SWxDCB9mUYvOgroQOwYQQOKPJ8CIbE+1ETVlOoK1UC2nU3gYvg==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.6"
      }
    },
    "node_modules/mime-types": {
      "version": "2.1.35",
      "resolved": "https://registry.npmjs.org/mime-types/-/mime-types-2.1.35.tgz",
      "integrity": "sha512-ZDY+bPm5zTTF+YpCrAU9nK0UgICYPT0QtT1NZWFv4s++TNkcgVaT0g6+4R2uI4MjQjzysHB1zxuWL50hzaeXiw==",
      "license": "MIT",
      "dependencies": {
        "mime-db": "1.52.0"
      },
      "engines": {
        "node": ">= 0.6"
      }
    },
    "node_modules/minimatch": {
      "version": "9.0.5",
      "resolved": "https://registry.npmjs.org/minimatch/-/minimatch-9.0.5.tgz",
      "integrity": "sha512-G6T0ZX48xgozx7587koeX9Ys2NYy6Gmv//P89sEte9V9whIapMNF4idKxnW2QtCcLiTWlb/wfCabAtAFWhhBow==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "brace-expansion": "^2.0.1"
      },
      "engines": {
        "node": ">=16 || 14 >=14.17"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/minipass": {
      "version": "7.1.2",
      "resolved": "https://registry.npmjs.org/minipass/-/minipass-7.1.2.tgz",
      "integrity": "sha512-qOOzS1cBTWYF4BH8fVePDBOO9iptMnGUEZwNc/cMWnTV2nVLZ7VoNWEPHkYczZA0pdoA7dl6e7FL659nX9S2aw==",
      "dev": true,
      "license": "ISC",
      "engines": {
        "node": ">=16 || 14 >=14.17"
      }
    },
    "node_modules/mri": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/mri/-/mri-1.2.0.tgz",
      "integrity": "sha512-tzzskb3bG8LvYGFF/mDTpq3jpI6Q9wc3LEmBaghu+DdCssd1FakN7Bc0hVNmEyGq1bq3RgfkCb3cmQLpNPOroA==",
      "license": "MIT",
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/ms": {
      "version": "2.1.3",
      "resolved": "https://registry.npmjs.org/ms/-/ms-2.1.3.tgz",
      "integrity": "sha512-6FlzubTLZG3J2a/NVCAleEhjzq5oxgHyaCU9yYXvcLsvoVaHJq/s5xXI6/XXP6tz7R9xAOtHnSO/tXtF3WRTlA==",
      "license": "MIT"
    },
    "node_modules/muggle-string": {
      "version": "0.4.1",
      "resolved": "https://registry.npmjs.org/muggle-string/-/muggle-string-0.4.1.tgz",
      "integrity": "sha512-VNTrAak/KhO2i8dqqnqnAHOa3cYBwXEZe9h+D5h/1ZqFSTEFHdM65lR7RoIqq3tBBYavsOXV84NoHXZ0AkPyqQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/mz": {
      "version": "2.7.0",
      "resolved": "https://registry.npmjs.org/mz/-/mz-2.7.0.tgz",
      "integrity": "sha512-z81GNO7nnYMEhrGh9LeymoE4+Yr0Wn5McHIZMK5cfQCl+NDX08sCZgUc9/6MHni9IWuFLm1Z3HTCXu2z9fN62Q==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "any-promise": "^1.0.0",
        "object-assign": "^4.0.1",
        "thenify-all": "^1.0.0"
      }
    },
    "node_modules/nanoid": {
      "version": "3.3.11",
      "resolved": "https://registry.npmjs.org/nanoid/-/nanoid-3.3.11.tgz",
      "integrity": "sha512-N8SpfPUnUp1bK+PMYW8qSWdl9U+wwNWI4QKxOYDy9JAro3WMX7p2OeVRF9v+347pnakNevPmiHhNmZ2HbFA76w==",
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "bin": {
        "nanoid": "bin/nanoid.cjs"
      },
      "engines": {
        "node": "^10 || ^12 || ^13.7 || ^14 || >=15.0.1"
      }
    },
    "node_modules/node-releases": {
      "version": "2.0.19",
      "resolved": "https://registry.npmjs.org/node-releases/-/node-releases-2.0.19.tgz",
      "integrity": "sha512-xxOWJsBKtzAq7DY0J+DTzuz58K8e7sJbdgwkbMWQe8UYB6ekmsQ45q0M/tJDsGaZmbC+l7n57UV8Hl5tHxO9uw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/non-layered-tidy-tree-layout": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/non-layered-tidy-tree-layout/-/non-layered-tidy-tree-layout-2.0.2.tgz",
      "integrity": "sha512-gkXMxRzUH+PB0ax9dUN0yYF0S25BqeAYqhgMaLUFmpXLEk7Fcu8f4emJuOAY0V8kjDICxROIKsTAKsV/v355xw==",
      "license": "MIT"
    },
    "node_modules/normalize-path": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/normalize-path/-/normalize-path-3.0.0.tgz",
      "integrity": "sha512-6eZs5Ls3WtCisHWp9S2GUy8dqkpGi4BVSz3GaqiE6ezub0512ESztXUwUB6C6IKbQkY2Pnb/mD4WYojCRwcwLA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/normalize-range": {
      "version": "0.1.2",
      "resolved": "https://registry.npmjs.org/normalize-range/-/normalize-range-0.1.2.tgz",
      "integrity": "sha512-bdok/XvKII3nUpklnV6P2hxtMNrCboOjAcyBuQnWEhO665FwrSNRxU+AqpsyvO6LgGYPspN+lu5CLtw4jPRKNA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/object-assign": {
      "version": "4.1.1",
      "resolved": "https://registry.npmjs.org/object-assign/-/object-assign-4.1.1.tgz",
      "integrity": "sha512-rJgTQnkUnH1sFw8yT6VSU3zD3sWmu6sZhIseY8VX+GRu3P6F7Fu+JNDoXfklElbLJSnc3FUQHVe4cU5hj+BcUg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/object-hash": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/object-hash/-/object-hash-3.0.0.tgz",
      "integrity": "sha512-RSn9F68PjH9HqtltsSnqYC1XXoWe9Bju5+213R98cNGttag9q9yAOTzdbsqvIa7aNm5WffBZFpWYr2aWrklWAw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/package-json-from-dist": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/package-json-from-dist/-/package-json-from-dist-1.0.1.tgz",
      "integrity": "sha512-UEZIS3/by4OC8vL3P2dTXRETpebLI2NiI5vIrjaD/5UtrkFX/tNbwjTSRAGC/+7CAo2pIcBaRgWmcBBHcsaCIw==",
      "dev": true,
      "license": "BlueOak-1.0.0"
    },
    "node_modules/page-flip": {
      "version": "2.0.7",
      "resolved": "https://registry.npmjs.org/page-flip/-/page-flip-2.0.7.tgz",
      "integrity": "sha512-96lQFUUz7r/LZzEUZJ3yBIMEKU9+m8HMFDzTvTdD6P7Ag/wXINjp9n0W7b4wanwnDbQETo4uNUoL3zMqpFxwGA==",
      "license": "MIT"
    },
    "node_modules/path-browserify": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/path-browserify/-/path-browserify-1.0.1.tgz",
      "integrity": "sha512-b7uo2UCUOYZcnF/3ID0lulOJi/bafxa1xPe7ZPsammBSpjSWQkjNxlt635YGS2MiR9GjvuXCtz2emr3jbsz98g==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/path-key": {
      "version": "3.1.1",
      "resolved": "https://registry.npmjs.org/path-key/-/path-key-3.1.1.tgz",
      "integrity": "sha512-ojmeN0qd+y0jszEtoY48r0Peq5dwMEkIlCOu6Q5f41lfkswXuKtYrhgoTpLnyIcHm24Uhqx+5Tqm2InSwLhE6Q==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/path-parse": {
      "version": "1.0.7",
      "resolved": "https://registry.npmjs.org/path-parse/-/path-parse-1.0.7.tgz",
      "integrity": "sha512-LDJzPVEEEPR+y48z93A0Ed0yXb8pAByGWo/k5YYdYgpY2/2EsOsksJrq7lOHxryrVOn1ejG6oAp8ahvOIQD8sw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/path-scurry": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/path-scurry/-/path-scurry-1.11.1.tgz",
      "integrity": "sha512-Xa4Nw17FS9ApQFJ9umLiJS4orGjm7ZzwUrwamcGQuHSzDyth9boKDaycYdDcZDuqYATXw4HFXgaqWTctW/v1HA==",
      "dev": true,
      "license": "BlueOak-1.0.0",
      "dependencies": {
        "lru-cache": "^10.2.0",
        "minipass": "^5.0.0 || ^6.0.2 || ^7.0.0"
      },
      "engines": {
        "node": ">=16 || 14 >=14.18"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/picocolors": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/picocolors/-/picocolors-1.1.1.tgz",
      "integrity": "sha512-xceH2snhtb5M9liqDsmEw56le376mTZkEX/jEb/RxNFyegNul7eNslCXP9FDj/Lcu0X8KEyMceP2ntpaHrDEVA==",
      "license": "ISC"
    },
    "node_modules/picomatch": {
      "version": "2.3.1",
      "resolved": "https://registry.npmjs.org/picomatch/-/picomatch-2.3.1.tgz",
      "integrity": "sha512-JU3teHTNjmE2VCGFzuY8EXzCDVwEqB2a8fsIvwaStHhAWJEeVd1o1QD80CU6+ZdEXXSLbSsuLwJjkCBWqRQUVA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8.6"
      },
      "funding": {
        "url": "https://github.com/sponsors/jonschlinkert"
      }
    },
    "node_modules/pify": {
      "version": "2.3.0",
      "resolved": "https://registry.npmjs.org/pify/-/pify-2.3.0.tgz",
      "integrity": "sha512-udgsAY+fTnvv7kI7aaxbqwWNb0AHiB0qBO89PZKPkoTmGOgdbrHDKD+0B2X4uTfJ/FT1R09r9gTsjUjNJotuog==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/pinia": {
      "version": "2.3.1",
      "resolved": "https://registry.npmjs.org/pinia/-/pinia-2.3.1.tgz",
      "integrity": "sha512-khUlZSwt9xXCaTbbxFYBKDc/bWAGWJjOgvxETwkTN7KRm66EeT1ZdZj6i2ceh9sP2Pzqsbc704r2yngBrxBVug==",
      "license": "MIT",
      "dependencies": {
        "@vue/devtools-api": "^6.6.3",
        "vue-demi": "^0.14.10"
      },
      "funding": {
        "url": "https://github.com/sponsors/posva"
      },
      "peerDependencies": {
        "typescript": ">=4.4.4",
        "vue": "^2.7.0 || ^3.5.11"
      },
      "peerDependenciesMeta": {
        "typescript": {
          "optional": true
        }
      }
    },
    "node_modules/pirates": {
      "version": "4.0.7",
      "resolved": "https://registry.npmjs.org/pirates/-/pirates-4.0.7.tgz",
      "integrity": "sha512-TfySrs/5nm8fQJDcBDuUng3VOUKsd7S+zqvbOTiGXHfxX4wK31ard+hoNuvkicM/2YFzlpDgABOevKSsB4G/FA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/postcss": {
      "version": "8.5.3",
      "resolved": "https://registry.npmjs.org/postcss/-/postcss-8.5.3.tgz",
      "integrity": "sha512-dle9A3yYxlBSrt8Fu+IpjGT8SY8hN0mlaA6GY8t0P5PjIOZemULz/E2Bnm/2dcUOena75OTNkHI76uZBNUUq3A==",
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/postcss/"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/postcss"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "nanoid": "^3.3.8",
        "picocolors": "^1.1.1",
        "source-map-js": "^1.2.1"
      },
      "engines": {
        "node": "^10 || ^12 || >=14"
      }
    },
    "node_modules/postcss-import": {
      "version": "15.1.0",
      "resolved": "https://registry.npmjs.org/postcss-import/-/postcss-import-15.1.0.tgz",
      "integrity": "sha512-hpr+J05B2FVYUAXHeK1YyI267J/dDDhMU6B6civm8hSY1jYJnBXxzKDKDswzJmtLHryrjhnDjqqp/49t8FALew==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "postcss-value-parser": "^4.0.0",
        "read-cache": "^1.0.0",
        "resolve": "^1.1.7"
      },
      "engines": {
        "node": ">=14.0.0"
      },
      "peerDependencies": {
        "postcss": "^8.0.0"
      }
    },
    "node_modules/postcss-js": {
      "version": "4.0.1",
      "resolved": "https://registry.npmjs.org/postcss-js/-/postcss-js-4.0.1.tgz",
      "integrity": "sha512-dDLF8pEO191hJMtlHFPRa8xsizHaM82MLfNkUHdUtVEV3tgTp5oj+8qbEqYM57SLfc74KSbw//4SeJma2LRVIw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "camelcase-css": "^2.0.1"
      },
      "engines": {
        "node": "^12 || ^14 || >= 16"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/postcss/"
      },
      "peerDependencies": {
        "postcss": "^8.4.21"
      }
    },
    "node_modules/postcss-load-config": {
      "version": "4.0.2",
      "resolved": "https://registry.npmjs.org/postcss-load-config/-/postcss-load-config-4.0.2.tgz",
      "integrity": "sha512-bSVhyJGL00wMVoPUzAVAnbEoWyqRxkjv64tUl427SKnPrENtq6hJwUojroMz2VB+Q1edmi4IfrAPpami5VVgMQ==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/postcss/"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "lilconfig": "^3.0.0",
        "yaml": "^2.3.4"
      },
      "engines": {
        "node": ">= 14"
      },
      "peerDependencies": {
        "postcss": ">=8.0.9",
        "ts-node": ">=9.0.0"
      },
      "peerDependenciesMeta": {
        "postcss": {
          "optional": true
        },
        "ts-node": {
          "optional": true
        }
      }
    },
    "node_modules/postcss-nested": {
      "version": "6.2.0",
      "resolved": "https://registry.npmjs.org/postcss-nested/-/postcss-nested-6.2.0.tgz",
      "integrity": "sha512-HQbt28KulC5AJzG+cZtj9kvKB93CFCdLvog1WFLf1D+xmMvPGlBstkpTEZfK5+AN9hfJocyBFCNiqyS48bpgzQ==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/postcss/"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "postcss-selector-parser": "^6.1.1"
      },
      "engines": {
        "node": ">=12.0"
      },
      "peerDependencies": {
        "postcss": "^8.2.14"
      }
    },
    "node_modules/postcss-nested/node_modules/postcss-selector-parser": {
      "version": "6.1.2",
      "resolved": "https://registry.npmjs.org/postcss-selector-parser/-/postcss-selector-parser-6.1.2.tgz",
      "integrity": "sha512-Q8qQfPiZ+THO/3ZrOrO0cJJKfpYCagtMUkXbnEfmgUjwXg6z/WBeOyS9APBBPCTSiDV+s4SwQGu8yFsiMRIudg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "cssesc": "^3.0.0",
        "util-deprecate": "^1.0.2"
      },
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/postcss-selector-parser": {
      "version": "6.0.10",
      "resolved": "https://registry.npmjs.org/postcss-selector-parser/-/postcss-selector-parser-6.0.10.tgz",
      "integrity": "sha512-IQ7TZdoaqbT+LCpShg46jnZVlhWD2w6iQYAcYXfHARZ7X1t/UGhhceQDs5X0cGqKvYlHNOuv7Oa1xmb0oQuA3w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "cssesc": "^3.0.0",
        "util-deprecate": "^1.0.2"
      },
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/postcss-value-parser": {
      "version": "4.2.0",
      "resolved": "https://registry.npmjs.org/postcss-value-parser/-/postcss-value-parser-4.2.0.tgz",
      "integrity": "sha512-1NNCs6uurfkVbeXG4S8JFT9t19m45ICnif8zWLd5oPSZ50QnwMfK+H3jv408d4jw/7Bttv5axS5IiHoLaVNHeQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/proxy-from-env": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/proxy-from-env/-/proxy-from-env-1.1.0.tgz",
      "integrity": "sha512-D+zkORCbA9f1tdWRK0RaCR3GPv50cMxcrz4X8k5LTSUD1Dkw47mKJEZQNunItRTkWwgtaUSo1RVFRIG9ZXiFYg==",
      "license": "MIT"
    },
    "node_modules/queue-microtask": {
      "version": "1.2.3",
      "resolved": "https://registry.npmjs.org/queue-microtask/-/queue-microtask-1.2.3.tgz",
      "integrity": "sha512-NuaNSa6flKT5JaSYQzJok04JzTL1CA6aGhv5rfLW3PgqA+M2ChpZQnAC8h8i4ZFkBS8X5RqkDBHA7r4hej3K9A==",
      "dev": true,
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/feross"
        },
        {
          "type": "patreon",
          "url": "https://www.patreon.com/feross"
        },
        {
          "type": "consulting",
          "url": "https://feross.org/support"
        }
      ],
      "license": "MIT"
    },
    "node_modules/read-cache": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/read-cache/-/read-cache-1.0.0.tgz",
      "integrity": "sha512-Owdv/Ft7IjOgm/i0xvNDZ1LrRANRfew4b2prF3OWMQLxLfu3bS8FVhCsrSCMK4lR56Y9ya+AThoTpDCTxCmpRA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "pify": "^2.3.0"
      }
    },
    "node_modules/readdirp": {
      "version": "3.6.0",
      "resolved": "https://registry.npmjs.org/readdirp/-/readdirp-3.6.0.tgz",
      "integrity": "sha512-hOS089on8RduqdbhvQ5Z37A0ESjsqz6qnRcffsMU3495FuTdqSm+7bhJ29JvIOsBDEEnan5DPu9t3To9VRlMzA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "picomatch": "^2.2.1"
      },
      "engines": {
        "node": ">=8.10.0"
      }
    },
    "node_modules/resolve": {
      "version": "1.22.10",
      "resolved": "https://registry.npmjs.org/resolve/-/resolve-1.22.10.tgz",
      "integrity": "sha512-NPRy+/ncIMeDlTAsuqwKIiferiawhefFJtkNSW0qZJEqMEb+qBt/77B/jGeeek+F0uOeN05CDa6HXbbIgtVX4w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "is-core-module": "^2.16.0",
        "path-parse": "^1.0.7",
        "supports-preserve-symlinks-flag": "^1.0.0"
      },
      "bin": {
        "resolve": "bin/resolve"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/reusify": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/reusify/-/reusify-1.1.0.tgz",
      "integrity": "sha512-g6QUff04oZpHs0eG5p83rFLhHeV00ug/Yf9nZM6fLeUrPguBTkTQOdpAWWspMh55TZfVQDPaN3NQJfbVRAxdIw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "iojs": ">=1.0.0",
        "node": ">=0.10.0"
      }
    },
    "node_modules/robust-predicates": {
      "version": "3.0.2",
      "resolved": "https://registry.npmjs.org/robust-predicates/-/robust-predicates-3.0.2.tgz",
      "integrity": "sha512-IXgzBWvWQwE6PrDI05OvmXUIruQTcoMDzRsOd5CDvHCVLcLHMTSYvOK5Cm46kWqlV3yAbuSpBZdJ5oP5OUoStg==",
      "license": "Unlicense"
    },
    "node_modules/rollup": {
      "version": "4.41.0",
      "resolved": "https://registry.npmjs.org/rollup/-/rollup-4.41.0.tgz",
      "integrity": "sha512-HqMFpUbWlf/tvcxBFNKnJyzc7Lk+XO3FGc3pbNBLqEbOz0gPLRgcrlS3UF4MfUrVlstOaP/q0kM6GVvi+LrLRg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@types/estree": "1.0.7"
      },
      "bin": {
        "rollup": "dist/bin/rollup"
      },
      "engines": {
        "node": ">=18.0.0",
        "npm": ">=8.0.0"
      },
      "optionalDependencies": {
        "@rollup/rollup-android-arm-eabi": "4.41.0",
        "@rollup/rollup-android-arm64": "4.41.0",
        "@rollup/rollup-darwin-arm64": "4.41.0",
        "@rollup/rollup-darwin-x64": "4.41.0",
        "@rollup/rollup-freebsd-arm64": "4.41.0",
        "@rollup/rollup-freebsd-x64": "4.41.0",
        "@rollup/rollup-linux-arm-gnueabihf": "4.41.0",
        "@rollup/rollup-linux-arm-musleabihf": "4.41.0",
        "@rollup/rollup-linux-arm64-gnu": "4.41.0",
        "@rollup/rollup-linux-arm64-musl": "4.41.0",
        "@rollup/rollup-linux-loongarch64-gnu": "4.41.0",
        "@rollup/rollup-linux-powerpc64le-gnu": "4.41.0",
        "@rollup/rollup-linux-riscv64-gnu": "4.41.0",
        "@rollup/rollup-linux-riscv64-musl": "4.41.0",
        "@rollup/rollup-linux-s390x-gnu": "4.41.0",
        "@rollup/rollup-linux-x64-gnu": "4.41.0",
        "@rollup/rollup-linux-x64-musl": "4.41.0",
        "@rollup/rollup-win32-arm64-msvc": "4.41.0",
        "@rollup/rollup-win32-ia32-msvc": "4.41.0",
        "@rollup/rollup-win32-x64-msvc": "4.41.0",
        "fsevents": "~2.3.2"
      }
    },
    "node_modules/run-parallel": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/run-parallel/-/run-parallel-1.2.0.tgz",
      "integrity": "sha512-5l4VyZR86LZ/lDxZTR6jqL8AFE2S0IFLMP26AbjsLVADxHdhB/c0GUsH+y39UfCi3dzz8OlQuPmnaJOMoDHQBA==",
      "dev": true,
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/feross"
        },
        {
          "type": "patreon",
          "url": "https://www.patreon.com/feross"
        },
        {
          "type": "consulting",
          "url": "https://feross.org/support"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "queue-microtask": "^1.2.2"
      }
    },
    "node_modules/rw": {
      "version": "1.3.3",
      "resolved": "https://registry.npmjs.org/rw/-/rw-1.3.3.tgz",
      "integrity": "sha512-PdhdWy89SiZogBLaw42zdeqtRJ//zFd2PgQavcICDUgJT5oW10QCRKbJ6bg4r0/UY2M6BWd5tkxuGFRvCkgfHQ==",
      "license": "BSD-3-Clause"
    },
    "node_modules/sade": {
      "version": "1.8.1",
      "resolved": "https://registry.npmjs.org/sade/-/sade-1.8.1.tgz",
      "integrity": "sha512-xal3CZX1Xlo/k4ApwCFrHVACi9fBqJ7V+mwhBsuf/1IOKbBy098Fex+Wa/5QMubw09pSZ/u8EY8PWgevJsXp1A==",
      "license": "MIT",
      "dependencies": {
        "mri": "^1.1.0"
      },
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/safer-buffer": {
      "version": "2.1.2",
      "resolved": "https://registry.npmjs.org/safer-buffer/-/safer-buffer-2.1.2.tgz",
      "integrity": "sha512-YZo3K82SD7Riyi0E1EQPojLz7kpepnSQI9IyPbHHg1XXXevb5dJI7tpyN2ADxGcQbHG7vcyRHk0cbwqcQriUtg==",
      "license": "MIT"
    },
    "node_modules/shebang-command": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/shebang-command/-/shebang-command-2.0.0.tgz",
      "integrity": "sha512-kHxr2zZpYtdmrN1qDjrrX/Z1rR1kG8Dx+gkpK1G4eXmvXswmcE1hTWBWYUzlraYw1/yZp6YuDY77YtvbN0dmDA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "shebang-regex": "^3.0.0"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/shebang-regex": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/shebang-regex/-/shebang-regex-3.0.0.tgz",
      "integrity": "sha512-7++dFhtcx3353uBaq8DDR4NuxBetBzC7ZQOhmTQInHEd6bSrXdiEyzCvG07Z44UYdLShWUyXt5M/yhz8ekcb1A==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/signal-exit": {
      "version": "4.1.0",
      "resolved": "https://registry.npmjs.org/signal-exit/-/signal-exit-4.1.0.tgz",
      "integrity": "sha512-bzyZ1e88w9O1iNJbKnOlvYTrWPDl46O1bG0D3XInv+9tkPrxrN8jUUTiFlDkkmKWgn1M6CfIA13SuGqOa9Korw==",
      "dev": true,
      "license": "ISC",
      "engines": {
        "node": ">=14"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/source-map-js": {
      "version": "1.2.1",
      "resolved": "https://registry.npmjs.org/source-map-js/-/source-map-js-1.2.1.tgz",
      "integrity": "sha512-UXWMKhLOwVKb728IUtQPXxfYU+usdybtUrK/8uGE8CQMvrhOpwvzDBwj0QhSL7MQc7vIsISBG8VQ8+IDQxpfQA==",
      "license": "BSD-3-Clause",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/string-width": {
      "version": "5.1.2",
      "resolved": "https://registry.npmjs.org/string-width/-/string-width-5.1.2.tgz",
      "integrity": "sha512-HnLOCR3vjcY8beoNLtcjZ5/nxn2afmME6lhrDrebokqMap+XbeW8n9TXpPDOqdGK5qcI3oT0GKTW6wC7EMiVqA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "eastasianwidth": "^0.2.0",
        "emoji-regex": "^9.2.2",
        "strip-ansi": "^7.0.1"
      },
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/string-width-cjs": {
      "name": "string-width",
      "version": "4.2.3",
      "resolved": "https://registry.npmjs.org/string-width/-/string-width-4.2.3.tgz",
      "integrity": "sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "emoji-regex": "^8.0.0",
        "is-fullwidth-code-point": "^3.0.0",
        "strip-ansi": "^6.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/string-width-cjs/node_modules/ansi-regex": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz",
      "integrity": "sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/string-width-cjs/node_modules/emoji-regex": {
      "version": "8.0.0",
      "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-8.0.0.tgz",
      "integrity": "sha512-MSjYzcWNOA0ewAHpz0MxpYFvwg6yjy1NG3xteoqz644VCo/RPgnr1/GGt+ic3iJTzQ8Eu3TdM14SawnVUmGE6A==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/string-width-cjs/node_modules/strip-ansi": {
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
      "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ansi-regex": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/strip-ansi": {
      "version": "7.1.0",
      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-7.1.0.tgz",
      "integrity": "sha512-iq6eVVI64nQQTRYq2KtEg2d2uU7LElhTJwsH4YzIHZshxlgZms/wIc4VoDQTlG/IvVIrBKG06CrZnp0qv7hkcQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ansi-regex": "^6.0.1"
      },
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/chalk/strip-ansi?sponsor=1"
      }
    },
    "node_modules/strip-ansi-cjs": {
      "name": "strip-ansi",
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
      "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ansi-regex": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/strip-ansi-cjs/node_modules/ansi-regex": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz",
      "integrity": "sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/stylis": {
      "version": "4.3.6",
      "resolved": "https://registry.npmjs.org/stylis/-/stylis-4.3.6.tgz",
      "integrity": "sha512-yQ3rwFWRfwNUY7H5vpU0wfdkNSnvnJinhF9830Swlaxl03zsOjCfmX0ugac+3LtK0lYSgwL/KXc8oYL3mG4YFQ==",
      "license": "MIT"
    },
    "node_modules/sucrase": {
      "version": "3.35.0",
      "resolved": "https://registry.npmjs.org/sucrase/-/sucrase-3.35.0.tgz",
      "integrity": "sha512-8EbVDiu9iN/nESwxeSxDKe0dunta1GOlHufmSSXxMD2z2/tMZpDMpvXQGsc+ajGo8y2uYUmixaSRUc/QPoQ0GA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jridgewell/gen-mapping": "^0.3.2",
        "commander": "^4.0.0",
        "glob": "^10.3.10",
        "lines-and-columns": "^1.1.6",
        "mz": "^2.7.0",
        "pirates": "^4.0.1",
        "ts-interface-checker": "^0.1.9"
      },
      "bin": {
        "sucrase": "bin/sucrase",
        "sucrase-node": "bin/sucrase-node"
      },
      "engines": {
        "node": ">=16 || 14 >=14.17"
      }
    },
    "node_modules/sucrase/node_modules/commander": {
      "version": "4.1.1",
      "resolved": "https://registry.npmjs.org/commander/-/commander-4.1.1.tgz",
      "integrity": "sha512-NOKm8xhkzAjzFx8B2v5OAHT+u5pRQc2UCa2Vq9jYL/31o2wi9mxBA7LIFs3sV5VSC49z6pEhfbMULvShKj26WA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/supports-preserve-symlinks-flag": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/supports-preserve-symlinks-flag/-/supports-preserve-symlinks-flag-1.0.0.tgz",
      "integrity": "sha512-ot0WnXS9fgdkgIcePe6RHNk1WA8+muPa6cSjeR3V8K27q9BB1rTE3R1p7Hv0z1ZyAc8s6Vvv8DIyWf681MAt0w==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/tailwindcss": {
      "version": "3.4.17",
      "resolved": "https://registry.npmjs.org/tailwindcss/-/tailwindcss-3.4.17.tgz",
      "integrity": "sha512-w33E2aCvSDP0tW9RZuNXadXlkHXqFzSkQew/aIa2i/Sj8fThxwovwlXHSPXTbAHwEIhBFXAedUhP2tueAKP8Og==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@alloc/quick-lru": "^5.2.0",
        "arg": "^5.0.2",
        "chokidar": "^3.6.0",
        "didyoumean": "^1.2.2",
        "dlv": "^1.1.3",
        "fast-glob": "^3.3.2",
        "glob-parent": "^6.0.2",
        "is-glob": "^4.0.3",
        "jiti": "^1.21.6",
        "lilconfig": "^3.1.3",
        "micromatch": "^4.0.8",
        "normalize-path": "^3.0.0",
        "object-hash": "^3.0.0",
        "picocolors": "^1.1.1",
        "postcss": "^8.4.47",
        "postcss-import": "^15.1.0",
        "postcss-js": "^4.0.1",
        "postcss-load-config": "^4.0.2",
        "postcss-nested": "^6.2.0",
        "postcss-selector-parser": "^6.1.2",
        "resolve": "^1.22.8",
        "sucrase": "^3.35.0"
      },
      "bin": {
        "tailwind": "lib/cli.js",
        "tailwindcss": "lib/cli.js"
      },
      "engines": {
        "node": ">=14.0.0"
      }
    },
    "node_modules/tailwindcss/node_modules/postcss-selector-parser": {
      "version": "6.1.2",
      "resolved": "https://registry.npmjs.org/postcss-selector-parser/-/postcss-selector-parser-6.1.2.tgz",
      "integrity": "sha512-Q8qQfPiZ+THO/3ZrOrO0cJJKfpYCagtMUkXbnEfmgUjwXg6z/WBeOyS9APBBPCTSiDV+s4SwQGu8yFsiMRIudg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "cssesc": "^3.0.0",
        "util-deprecate": "^1.0.2"
      },
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/thenify": {
      "version": "3.3.1",
      "resolved": "https://registry.npmjs.org/thenify/-/thenify-3.3.1.tgz",
      "integrity": "sha512-RVZSIV5IG10Hk3enotrhvz0T9em6cyHBLkH/YAZuKqd8hRkKhSfCGIcP2KUY0EPxndzANBmNllzWPwak+bheSw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "any-promise": "^1.0.0"
      }
    },
    "node_modules/thenify-all": {
      "version": "1.6.0",
      "resolved": "https://registry.npmjs.org/thenify-all/-/thenify-all-1.6.0.tgz",
      "integrity": "sha512-RNxQH/qI8/t3thXJDwcstUO4zeqo64+Uy/+sNVRBx4Xn2OX+OZ9oP+iJnNFqplFra2ZUVeKCSa2oVWi3T4uVmA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "thenify": ">= 3.1.0 < 4"
      },
      "engines": {
        "node": ">=0.8"
      }
    },
    "node_modules/to-regex-range": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/to-regex-range/-/to-regex-range-5.0.1.tgz",
      "integrity": "sha512-65P7iz6X5yEr1cwcgvQxbbIw7Uk3gOy5dIdtZ4rDveLqhrdJP+Li/Hx6tyK0NEb+2GCyneCMJiGqrADCSNk8sQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "is-number": "^7.0.0"
      },
      "engines": {
        "node": ">=8.0"
      }
    },
    "node_modules/ts-dedent": {
      "version": "2.2.0",
      "resolved": "https://registry.npmjs.org/ts-dedent/-/ts-dedent-2.2.0.tgz",
      "integrity": "sha512-q5W7tVM71e2xjHZTlgfTDoPF/SmqKG5hddq9SzR49CH2hayqRKJtQ4mtRlSxKaJlR/+9rEM+mnBHf7I2/BQcpQ==",
      "license": "MIT",
      "engines": {
        "node": ">=6.10"
      }
    },
    "node_modules/ts-interface-checker": {
      "version": "0.1.13",
      "resolved": "https://registry.npmjs.org/ts-interface-checker/-/ts-interface-checker-0.1.13.tgz",
      "integrity": "sha512-Y/arvbn+rrz3JCKl9C4kVNfTfSm2/mEp5FSz5EsZSANGPSlQrpRI5M4PKF+mJnE52jOO90PnPSc3Ur3bTQw0gA==",
      "dev": true,
      "license": "Apache-2.0"
    },
    "node_modules/typescript": {
      "version": "5.8.3",
      "resolved": "https://registry.npmjs.org/typescript/-/typescript-5.8.3.tgz",
      "integrity": "sha512-p1diW6TqL9L07nNxvRMM7hMMw4c5XOo/1ibL4aAIGmSAt9slTE1Xgw5KWuof2uTOvCg9BY7ZRi+GaF+7sfgPeQ==",
      "devOptional": true,
      "license": "Apache-2.0",
      "bin": {
        "tsc": "bin/tsc",
        "tsserver": "bin/tsserver"
      },
      "engines": {
        "node": ">=14.17"
      }
    },
    "node_modules/undici-types": {
      "version": "6.19.8",
      "resolved": "https://registry.npmjs.org/undici-types/-/undici-types-6.19.8.tgz",
      "integrity": "sha512-ve2KP6f/JnbPBFyobGHuerC9g1FYGn/F8n1LWTwNxCEzd6IfqTwUQcNXgEtmmQ6DlRrC1hrSrBnCZPokRrDHjw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/unist-util-stringify-position": {
      "version": "3.0.3",
      "resolved": "https://registry.npmjs.org/unist-util-stringify-position/-/unist-util-stringify-position-3.0.3.tgz",
      "integrity": "sha512-k5GzIBZ/QatR8N5X2y+drfpWG8IDBzdnVj6OInRNWm1oXrzydiaAT2OQiA8DPRRZyAKb9b6I2a6PxYklZD0gKg==",
      "license": "MIT",
      "dependencies": {
        "@types/unist": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/update-browserslist-db": {
      "version": "1.1.3",
      "resolved": "https://registry.npmjs.org/update-browserslist-db/-/update-browserslist-db-1.1.3.tgz",
      "integrity": "sha512-UxhIZQ+QInVdunkDAaiazvvT/+fXL5Osr0JZlJulepYu6Jd7qJtDZjlur0emRlT71EN3ScPoE7gvsuIKKNavKw==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/browserslist"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/browserslist"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "escalade": "^3.2.0",
        "picocolors": "^1.1.1"
      },
      "bin": {
        "update-browserslist-db": "cli.js"
      },
      "peerDependencies": {
        "browserslist": ">= 4.21.0"
      }
    },
    "node_modules/util-deprecate": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/util-deprecate/-/util-deprecate-1.0.2.tgz",
      "integrity": "sha512-EPD5q1uXyFxJpCrLnCc1nHnq3gOa6DZBocAIiI2TaSCA7VCJ1UJDMagCzIkXNsUYfD1daK//LTEQ8xiIbrHtcw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/uuid": {
      "version": "9.0.1",
      "resolved": "https://registry.npmjs.org/uuid/-/uuid-9.0.1.tgz",
      "integrity": "sha512-b+1eJOlsR9K8HJpow9Ok3fiWOWSIcIzXodvv0rQjVoOVNpWMpxf1wZNpt4y9h10odCNrqnYp1OBzRktckBe3sA==",
      "funding": [
        "https://github.com/sponsors/broofa",
        "https://github.com/sponsors/ctavan"
      ],
      "license": "MIT",
      "bin": {
        "uuid": "dist/bin/uuid"
      }
    },
    "node_modules/uvu": {
      "version": "0.5.6",
      "resolved": "https://registry.npmjs.org/uvu/-/uvu-0.5.6.tgz",
      "integrity": "sha512-+g8ENReyr8YsOc6fv/NVJs2vFdHBnBNdfE49rshrTzDWOlUx4Gq7KOS2GD8eqhy2j+Ejq29+SbKH8yjkAqXqoA==",
      "license": "MIT",
      "dependencies": {
        "dequal": "^2.0.0",
        "diff": "^5.0.0",
        "kleur": "^4.0.3",
        "sade": "^1.7.3"
      },
      "bin": {
        "uvu": "bin.js"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/vite": {
      "version": "5.4.19",
      "resolved": "https://registry.npmjs.org/vite/-/vite-5.4.19.tgz",
      "integrity": "sha512-qO3aKv3HoQC8QKiNSTuUM1l9o/XX3+c+VTgLHbJWHZGeTPVAg2XwazI9UWzoxjIJCGCV2zU60uqMzjeLZuULqA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "esbuild": "^0.21.3",
        "postcss": "^8.4.43",
        "rollup": "^4.20.0"
      },
      "bin": {
        "vite": "bin/vite.js"
      },
      "engines": {
        "node": "^18.0.0 || >=20.0.0"
      },
      "funding": {
        "url": "https://github.com/vitejs/vite?sponsor=1"
      },
      "optionalDependencies": {
        "fsevents": "~2.3.3"
      },
      "peerDependencies": {
        "@types/node": "^18.0.0 || >=20.0.0",
        "less": "*",
        "lightningcss": "^1.21.0",
        "sass": "*",
        "sass-embedded": "*",
        "stylus": "*",
        "sugarss": "*",
        "terser": "^5.4.0"
      },
      "peerDependenciesMeta": {
        "@types/node": {
          "optional": true
        },
        "less": {
          "optional": true
        },
        "lightningcss": {
          "optional": true
        },
        "sass": {
          "optional": true
        },
        "sass-embedded": {
          "optional": true
        },
        "stylus": {
          "optional": true
        },
        "sugarss": {
          "optional": true
        },
        "terser": {
          "optional": true
        }
      }
    },
    "node_modules/vscode-uri": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/vscode-uri/-/vscode-uri-3.1.0.tgz",
      "integrity": "sha512-/BpdSx+yCQGnCvecbyXdxHDkuk55/G3xwnC0GqY4gmQ3j+A+g8kzzgB4Nk/SINjqn6+waqw3EgbVF2QKExkRxQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/vue": {
      "version": "3.5.14",
      "resolved": "https://registry.npmjs.org/vue/-/vue-3.5.14.tgz",
      "integrity": "sha512-LbOm50/vZFG6Mhy6KscQYXZMQ0LMCC/y40HDJPPvGFQ+i/lUH+PJHR6C3assgOQiXdl6tAfsXHbXYVBZZu65ew==",
      "license": "MIT",
      "dependencies": {
        "@vue/compiler-dom": "3.5.14",
        "@vue/compiler-sfc": "3.5.14",
        "@vue/runtime-dom": "3.5.14",
        "@vue/server-renderer": "3.5.14",
        "@vue/shared": "3.5.14"
      },
      "peerDependencies": {
        "typescript": "*"
      },
      "peerDependenciesMeta": {
        "typescript": {
          "optional": true
        }
      }
    },
    "node_modules/vue-demi": {
      "version": "0.14.10",
      "resolved": "https://registry.npmjs.org/vue-demi/-/vue-demi-0.14.10.tgz",
      "integrity": "sha512-nMZBOwuzabUO0nLgIcc6rycZEebF6eeUfaiQx9+WSk8e29IbLvPU9feI6tqW4kTo3hvoYAJkMh8n8D0fuISphg==",
      "hasInstallScript": true,
      "license": "MIT",
      "bin": {
        "vue-demi-fix": "bin/vue-demi-fix.js",
        "vue-demi-switch": "bin/vue-demi-switch.js"
      },
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/sponsors/antfu"
      },
      "peerDependencies": {
        "@vue/composition-api": "^1.0.0-rc.1",
        "vue": "^3.0.0-0 || ^2.6.0"
      },
      "peerDependenciesMeta": {
        "@vue/composition-api": {
          "optional": true
        }
      }
    },
    "node_modules/vue-router": {
      "version": "4.5.1",
      "resolved": "https://registry.npmjs.org/vue-router/-/vue-router-4.5.1.tgz",
      "integrity": "sha512-ogAF3P97NPm8fJsE4by9dwSYtDwXIY1nFY9T6DyQnGHd1E2Da94w9JIolpe42LJGIl0DwOHBi8TcRPlPGwbTtw==",
      "license": "MIT",
      "dependencies": {
        "@vue/devtools-api": "^6.6.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/posva"
      },
      "peerDependencies": {
        "vue": "^3.2.0"
      }
    },
    "node_modules/vue-tsc": {
      "version": "2.2.10",
      "resolved": "https://registry.npmjs.org/vue-tsc/-/vue-tsc-2.2.10.tgz",
      "integrity": "sha512-jWZ1xSaNbabEV3whpIDMbjVSVawjAyW+x1n3JeGQo7S0uv2n9F/JMgWW90tGWNFRKya4YwKMZgCtr0vRAM7DeQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@volar/typescript": "~2.4.11",
        "@vue/language-core": "2.2.10"
      },
      "bin": {
        "vue-tsc": "bin/vue-tsc.js"
      },
      "peerDependencies": {
        "typescript": ">=5.0.0"
      }
    },
    "node_modules/web-worker": {
      "version": "1.5.0",
      "resolved": "https://registry.npmjs.org/web-worker/-/web-worker-1.5.0.tgz",
      "integrity": "sha512-RiMReJrTAiA+mBjGONMnjVDP2u3p9R1vkcGz6gDIrOMT3oGuYwX2WRMYI9ipkphSuE5XKEhydbhNEJh4NY9mlw==",
      "license": "Apache-2.0"
    },
    "node_modules/which": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/which/-/which-2.0.2.tgz",
      "integrity": "sha512-BLI3Tl1TW3Pvl70l3yq3Y64i+awpwXqsGBYWkkqMtnbXgrMD+yj7rhW0kuEDxzJaYXGjEW5ogapKNMEKNMjibA==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "isexe": "^2.0.0"
      },
      "bin": {
        "node-which": "bin/node-which"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/wrap-ansi": {
      "version": "8.1.0",
      "resolved": "https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-8.1.0.tgz",
      "integrity": "sha512-si7QWI6zUMq56bESFvagtmzMdGOtoxfR+Sez11Mobfc7tm+VkUckk9bW2UeffTGVUbOksxmSw0AA2gs8g71NCQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ansi-styles": "^6.1.0",
        "string-width": "^5.0.1",
        "strip-ansi": "^7.0.1"
      },
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/chalk/wrap-ansi?sponsor=1"
      }
    },
    "node_modules/wrap-ansi-cjs": {
      "name": "wrap-ansi",
      "version": "7.0.0",
      "resolved": "https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-7.0.0.tgz",
      "integrity": "sha512-YVGIj2kamLSTxw6NsZjoBxfSwsn0ycdesmc4p+Q21c5zPuZ1pl+NfxVdxPtdHvmNVOQ6XSYG4AUtyt/Fi7D16Q==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ansi-styles": "^4.0.0",
        "string-width": "^4.1.0",
        "strip-ansi": "^6.0.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/chalk/wrap-ansi?sponsor=1"
      }
    },
    "node_modules/wrap-ansi-cjs/node_modules/ansi-regex": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz",
      "integrity": "sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/wrap-ansi-cjs/node_modules/ansi-styles": {
      "version": "4.3.0",
      "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-4.3.0.tgz",
      "integrity": "sha512-zbB9rCJAT1rbjiVDb2hqKFHNYLxgtk8NURxZ3IZwD3F6NtxbXZQCnnSi1Lkx+IDohdPlFp222wVALIheZJQSEg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "color-convert": "^2.0.1"
      },
      "engines": {
        "node": ">=8"
      },
      "funding": {
        "url": "https://github.com/chalk/ansi-styles?sponsor=1"
      }
    },
    "node_modules/wrap-ansi-cjs/node_modules/emoji-regex": {
      "version": "8.0.0",
      "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-8.0.0.tgz",
      "integrity": "sha512-MSjYzcWNOA0ewAHpz0MxpYFvwg6yjy1NG3xteoqz644VCo/RPgnr1/GGt+ic3iJTzQ8Eu3TdM14SawnVUmGE6A==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/wrap-ansi-cjs/node_modules/string-width": {
      "version": "4.2.3",
      "resolved": "https://registry.npmjs.org/string-width/-/string-width-4.2.3.tgz",
      "integrity": "sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "emoji-regex": "^8.0.0",
        "is-fullwidth-code-point": "^3.0.0",
        "strip-ansi": "^6.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/wrap-ansi-cjs/node_modules/strip-ansi": {
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
      "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ansi-regex": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/yaml": {
      "version": "2.8.0",
      "resolved": "https://registry.npmjs.org/yaml/-/yaml-2.8.0.tgz",
      "integrity": "sha512-4lLa/EcQCB0cJkyts+FpIRx5G/llPxfP6VQU5KByHEhLxY3IJCH0f0Hy1MHI8sClTvsIb8qwRJ6R/ZdlDJ/leQ==",
      "dev": true,
      "license": "ISC",
      "bin": {
        "yaml": "bin.mjs"
      },
      "engines": {
        "node": ">= 14.6"
      }
    }
  }
}


--- FILE: package-lock.json (Relevance: 0.14) ---

{
  "name": "voice-coding-assistant",
  "version": "1.0.0",
  "lockfileVersion": 3,
  "requires": true,
  "packages": {
    "": {
      "name": "voice-coding-assistant",
      "version": "1.0.0",
      "license": "MIT",
      "devDependencies": {
        "concurrently": "^8.2.2"
      }
    },
    "node_modules/@babel/runtime": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/runtime/-/runtime-7.27.1.tgz",
      "integrity": "sha512-1x3D2xEk2fRo3PAhwQwu5UubzgiVWSXTBfWpVd2Mx2AzRqJuDJCsgaDVZ7HB5iGzDW1Hl1sWN2mFyKjmR9uAog==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/ansi-regex": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz",
      "integrity": "sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/ansi-styles": {
      "version": "4.3.0",
      "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-4.3.0.tgz",
      "integrity": "sha512-zbB9rCJAT1rbjiVDb2hqKFHNYLxgtk8NURxZ3IZwD3F6NtxbXZQCnnSi1Lkx+IDohdPlFp222wVALIheZJQSEg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "color-convert": "^2.0.1"
      },
      "engines": {
        "node": ">=8"
      },
      "funding": {
        "url": "https://github.com/chalk/ansi-styles?sponsor=1"
      }
    },
    "node_modules/chalk": {
      "version": "4.1.2",
      "resolved": "https://registry.npmjs.org/chalk/-/chalk-4.1.2.tgz",
      "integrity": "sha512-oKnbhFyRIXpUuez8iBMmyEa4nbj4IOQyuhc/wy9kY7/WVPcwIO9VA668Pu8RkO7+0G76SLROeyw9CpQ061i4mA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ansi-styles": "^4.1.0",
        "supports-color": "^7.1.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/chalk/chalk?sponsor=1"
      }
    },
    "node_modules/chalk/node_modules/supports-color": {
      "version": "7.2.0",
      "resolved": "https://registry.npmjs.org/supports-color/-/supports-color-7.2.0.tgz",
      "integrity": "sha512-qpCAvRl9stuOHveKsn7HncJRvv501qIacKzQlO/+Lwxc9+0q2wLyv4Dfvt80/DPn2pqOBsJdDiogXGR9+OvwRw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "has-flag": "^4.0.0"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/cliui": {
      "version": "8.0.1",
      "resolved": "https://registry.npmjs.org/cliui/-/cliui-8.0.1.tgz",
      "integrity": "sha512-BSeNnyus75C4//NQ9gQt1/csTXyo/8Sb+afLAkzAptFuMsod9HFokGNudZpi/oQV73hnVK+sR+5PVRMd+Dr7YQ==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "string-width": "^4.2.0",
        "strip-ansi": "^6.0.1",
        "wrap-ansi": "^7.0.0"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/color-convert": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/color-convert/-/color-convert-2.0.1.tgz",
      "integrity": "sha512-RRECPsj7iu/xb5oKYcsFHSppFNnsj/52OVTRKb4zP5onXwVF3zVmmToNcOfGC+CRDpfK/U584fMg38ZHCaElKQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "color-name": "~1.1.4"
      },
      "engines": {
        "node": ">=7.0.0"
      }
    },
    "node_modules/color-name": {
      "version": "1.1.4",
      "resolved": "https://registry.npmjs.org/color-name/-/color-name-1.1.4.tgz",
      "integrity": "sha512-dOy+3AuW3a2wNbZHIuMZpTcgjGuLU/uBL/ubcZF9OXbDo8ff4O8yVp5Bf0efS8uEoYo5q4Fx7dY9OgQGXgAsQA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/concurrently": {
      "version": "8.2.2",
      "resolved": "https://registry.npmjs.org/concurrently/-/concurrently-8.2.2.tgz",
      "integrity": "sha512-1dP4gpXFhei8IOtlXRE/T/4H88ElHgTiUzh71YUmtjTEHMSRS2Z/fgOxHSxxusGHogsRfxNq1vyAwxSC+EVyDg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "chalk": "^4.1.2",
        "date-fns": "^2.30.0",
        "lodash": "^4.17.21",
        "rxjs": "^7.8.1",
        "shell-quote": "^1.8.1",
        "spawn-command": "0.0.2",
        "supports-color": "^8.1.1",
        "tree-kill": "^1.2.2",
        "yargs": "^17.7.2"
      },
      "bin": {
        "conc": "dist/bin/concurrently.js",
        "concurrently": "dist/bin/concurrently.js"
      },
      "engines": {
        "node": "^14.13.0 || >=16.0.0"
      },
      "funding": {
        "url": "https://github.com/open-cli-tools/concurrently?sponsor=1"
      }
    },
    "node_modules/date-fns": {
      "version": "2.30.0",
      "resolved": "https://registry.npmjs.org/date-fns/-/date-fns-2.30.0.tgz",
      "integrity": "sha512-fnULvOpxnC5/Vg3NCiWelDsLiUc9bRwAPs/+LfTLNvetFCtCTN+yQz15C/fs4AwX1R9K5GLtLfn8QW+dWisaAw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/runtime": "^7.21.0"
      },
      "engines": {
        "node": ">=0.11"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/date-fns"
      }
    },
    "node_modules/emoji-regex": {
      "version": "8.0.0",
      "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-8.0.0.tgz",
      "integrity": "sha512-MSjYzcWNOA0ewAHpz0MxpYFvwg6yjy1NG3xteoqz644VCo/RPgnr1/GGt+ic3iJTzQ8Eu3TdM14SawnVUmGE6A==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/escalade": {
      "version": "3.2.0",
      "resolved": "https://registry.npmjs.org/escalade/-/escalade-3.2.0.tgz",
      "integrity": "sha512-WUj2qlxaQtO4g6Pq5c29GTcWGDyd8itL8zTlipgECz3JesAiiOKotd8JU6otB3PACgG6xkJUyVhboMS+bje/jA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/get-caller-file": {
      "version": "2.0.5",
      "resolved": "https://registry.npmjs.org/get-caller-file/-/get-caller-file-2.0.5.tgz",
      "integrity": "sha512-DyFP3BM/3YHTQOCUL/w0OZHR0lpKeGrxotcHWcqNEdnltqFwXVfhEBQ94eIo34AfQpo0rGki4cyIiftY06h2Fg==",
      "dev": true,
      "license": "ISC",
      "engines": {
        "node": "6.* || 8.* || >= 10.*"
      }
    },
    "node_modules/has-flag": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/has-flag/-/has-flag-4.0.0.tgz",
      "integrity": "sha512-EykJT/Q1KjTWctppgIAgfSO0tKVuZUjhgMr17kqTumMl6Afv3EISleU7qZUzoXDFTAHTDC4NOoG/ZxU3EvlMPQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/is-fullwidth-code-point": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/is-fullwidth-code-point/-/is-fullwidth-code-point-3.0.0.tgz",
      "integrity": "sha512-zymm5+u+sCsSWyD9qNaejV3DFvhCKclKdizYaJUuHA83RLjb7nSuGnddCHGv0hk+KY7BMAlsWeK4Ueg6EV6XQg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/lodash": {
      "version": "4.17.21",
      "resolved": "https://registry.npmjs.org/lodash/-/lodash-4.17.21.tgz",
      "integrity": "sha512-v2kDEe57lecTulaDIuNTPy3Ry4gLGJ6Z1O3vE1krgXZNrsQ+LFTGHVxVjcXPs17LhbZVGedAJv8XZ1tvj5FvSg==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/require-directory": {
      "version": "2.1.1",
      "resolved": "https://registry.npmjs.org/require-directory/-/require-directory-2.1.1.tgz",
      "integrity": "sha512-fGxEI7+wsG9xrvdjsrlmL22OMTTiHRwAMroiEeMgq8gzoLC/PQr7RsRDSTLUg/bZAZtF+TVIkHc6/4RIKrui+Q==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/rxjs": {
      "version": "7.8.2",
      "resolved": "https://registry.npmjs.org/rxjs/-/rxjs-7.8.2.tgz",
      "integrity": "sha512-dhKf903U/PQZY6boNNtAGdWbG85WAbjT/1xYoZIC7FAY0yWapOBQVsVrDl58W86//e1VpMNBtRV4MaXfdMySFA==",
      "dev": true,
      "license": "Apache-2.0",
      "dependencies": {
        "tslib": "^2.1.0"
      }
    },
    "node_modules/shell-quote": {
      "version": "1.8.2",
      "resolved": "https://registry.npmjs.org/shell-quote/-/shell-quote-1.8.2.tgz",
      "integrity": "sha512-AzqKpGKjrj7EM6rKVQEPpB288oCfnrEIuyoT9cyF4nmGa7V8Zk6f7RRqYisX8X9m+Q7bd632aZW4ky7EhbQztA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/spawn-command": {
      "version": "0.0.2",
      "resolved": "https://registry.npmjs.org/spawn-command/-/spawn-command-0.0.2.tgz",
      "integrity": "sha512-zC8zGoGkmc8J9ndvml8Xksr1Amk9qBujgbF0JAIWO7kXr43w0h/0GJNM/Vustixu+YE8N/MTrQ7N31FvHUACxQ==",
      "dev": true
    },
    "node_modules/string-width": {
      "version": "4.2.3",
      "resolved": "https://registry.npmjs.org/string-width/-/string-width-4.2.3.tgz",
      "integrity": "sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "emoji-regex": "^8.0.0",
        "is-fullwidth-code-point": "^3.0.0",
        "strip-ansi": "^6.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/strip-ansi": {
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
      "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ansi-regex": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/supports-color": {
      "version": "8.1.1",
      "resolved": "https://registry.npmjs.org/supports-color/-/supports-color-8.1.1.tgz",
      "integrity": "sha512-MpUEN2OodtUzxvKQl72cUF7RQ5EiHsGvSsVG0ia9c5RbWGL2CI4C7EpPS8UTBIplnlzZiNuV56w+FuNxy3ty2Q==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "has-flag": "^4.0.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/chalk/supports-color?sponsor=1"
      }
    },
    "node_modules/tree-kill": {
      "version": "1.2.2",
      "resolved": "https://registry.npmjs.org/tree-kill/-/tree-kill-1.2.2.tgz",
      "integrity": "sha512-L0Orpi8qGpRG//Nd+H90vFB+3iHnue1zSSGmNOOCh1GLJ7rUKVwV2HvijphGQS2UmhUZewS9VgvxYIdgr+fG1A==",
      "dev": true,
      "license": "MIT",
      "bin": {
        "tree-kill": "cli.js"
      }
    },
    "node_modules/tslib": {
      "version": "2.8.1",
      "resolved": "https://registry.npmjs.org/tslib/-/tslib-2.8.1.tgz",
      "integrity": "sha512-oJFu94HQb+KVduSUQL7wnpmqnfmLsOA/nAh6b6EH0wCEoK0/mPeXU6c3wKDV83MkOuHPRHtSXKKU99IBazS/2w==",
      "dev": true,
      "license": "0BSD"
    },
    "node_modules/wrap-ansi": {
      "version": "7.0.0",
      "resolved": "https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-7.0.0.tgz",
      "integrity": "sha512-YVGIj2kamLSTxw6NsZjoBxfSwsn0ycdesmc4p+Q21c5zPuZ1pl+NfxVdxPtdHvmNVOQ6XSYG4AUtyt/Fi7D16Q==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ansi-styles": "^4.0.0",
        "string-width": "^4.1.0",
        "strip-ansi": "^6.0.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/chalk/wrap-ansi?sponsor=1"
      }
    },
    "node_modules/y18n": {
      "version": "5.0.8",
      "resolved": "https://registry.npmjs.org/y18n/-/y18n-5.0.8.tgz",
      "integrity": "sha512-0pfFzegeDWJHJIAmTLRP2DwHjdF5s7jo9tuztdQxAhINCdvS+3nGINqPd00AphqJR/0LhANUS6/+7SCb98YOfA==",
      "dev": true,
      "license": "ISC",
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/yargs": {
      "version": "17.7.2",
      "resolved": "https://registry.npmjs.org/yargs/-/yargs-17.7.2.tgz",
      "integrity": "sha512-7dSzzRQ++CKnNI/krKnYRV7JKKPUXMEh61soaHKg9mrWEhzFWhFnxPxGl+69cD1Ou63C13NUPCnmIcrvqCuM6w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "cliui": "^8.0.1",
        "escalade": "^3.1.1",
        "get-caller-file": "^2.0.5",
        "require-directory": "^2.1.1",
        "string-width": "^4.2.3",
        "y18n": "^5.0.5",
        "yargs-parser": "^21.1.1"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/yargs-parser": {
      "version": "21.1.1",
      "resolved": "https://registry.npmjs.org/yargs-parser/-/yargs-parser-21.1.1.tgz",
      "integrity": "sha512-tVpsJW7DdjecAiFpbIB1e3qxIQsE6NoPc5/eTdrbbIC4h0LVsWhnoa3g+m2HclBIujHzsxZ4VJVA+GUuc2/LBw==",
      "dev": true,
      "license": "ISC",
      "engines": {
        "node": ">=12"
      }
    }
  }
}
